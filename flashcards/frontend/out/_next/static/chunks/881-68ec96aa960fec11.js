(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[881],{86688:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});let i={},r={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),i[e]=t,r[t]=e}function o(e){let t="";for(let n=0;n<e.byteLength;n++)t+=i[e[n]];return t}},74497:function(e,t,n){"use strict";n.d(t,{f:function(){return l}});var i=n(30973),r=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],s=function(){function e(){this.state=Int32Array.from(o),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>9007199254740991)throw Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%64>=56){for(var i=this.bufferLength;i<64;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<56;i++)t.setUint8(i,0);t.setUint32(56,Math.floor(e/4294967296),!0),t.setUint32(60,e),this.hashBuffer(),this.finished=!0}for(var r=new Uint8Array(32),i=0;i<8;i++)r[4*i]=this.state[i]>>>24&255,r[4*i+1]=this.state[i]>>>16&255,r[4*i+2]=this.state[i]>>>8&255,r[4*i+3]=this.state[i]>>>0&255;return r},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],c=t[5],u=t[6],l=t[7],d=0;d<64;d++){if(d<16)this.temp[d]=(255&e[4*d])<<24|(255&e[4*d+1])<<16|(255&e[4*d+2])<<8|255&e[4*d+3];else{var h=this.temp[d-2],f=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,p=((h=this.temp[d-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[d]=(f+this.temp[d-7]|0)+(p+this.temp[d-16]|0)}var y=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&c^~a&u)|0)+(l+(r[d]+this.temp[d]|0)|0)|0,m=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=u,u=c,c=a,a=s+y|0,s=o,o=i,i=n,n=y+m|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=s,t[4]+=a,t[5]+=c,t[6]+=u,t[7]+=l},e}(),a=n(16593).lW,c=void 0!==a&&a.from?function(e){return a.from(e,"utf8")}:e=>new TextEncoder().encode(e);function u(e){return e instanceof Uint8Array?e:"string"==typeof e?c(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var l=function(){function e(e){this.secret=e,this.hash=new s,this.reset()}return e.prototype.update=function(e){if(("string"==typeof e?0!==e.length:0!==e.byteLength)&&!this.error)try{this.hash.update(u(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,i.mG)(this,void 0,void 0,function(){return(0,i.Jh)(this,function(e){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new s,this.secret){this.outer=new s;var e=function(e){var t=u(e);if(t.byteLength>64){var n=new s;n.update(t),t=n.digest()}var i=new Uint8Array(64);return i.set(t),i}(this.secret),t=new Uint8Array(64);t.set(e);for(var n=0;n<64;n++)e[n]^=54,t[n]^=92;this.hash.update(e),this.outer.update(t);for(var n=0;n<e.byteLength;n++)e[n]=0}},e}()},56261:function(e,t){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],i=t[1];return(n+i)*3/4-i},t.toByteArray=function(e){var t,n,o=c(e),s=o[0],a=o[1],u=new r((s+a)*3/4-a),l=0,d=a>0?s-4:s;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,i=e.length,r=i%3,o=[],s=0,a=i-r;s<a;s+=16383)o.push(function(e,t,i){for(var r,o=[],s=t;s<i;s+=3)o.push(n[(r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return o.join("")}(e,s,s+16383>a?a:s+16383));return 1===r?o.push(n[(t=e[i-1])>>2]+n[t<<4&63]+"=="):2===r&&o.push(n[(t=(e[i-2]<<8)+e[i-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),o.join("")};for(var n=[],i=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var i=n===t?0:4-n%4;return[n,i]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},16593:function(e,t,n){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var i=n(56261),r=n(48755),o=n(78587);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,n)}function u(e,t,n,i){if("number"==typeof t)throw TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=h(e,t),e}(e,t,n,i):"string"==typeof t?function(e,t,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!c.isEncoding(n))throw TypeError('"encoding" must be a valid string encoding');var i=0|p(t,n),r=(e=a(e,i)).write(t,n);return r!==i&&(e=e.slice(0,r)),e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n,i=0|f(t.length);return 0===(e=a(e,i)).length||t.copy(e,0,0,i),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw TypeError('"size" argument must be a number');if(e<0)throw RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=a(e,t<0?0:0|f(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|f(t.length);e=a(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function f(e){if(e>=s())throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return _(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return R(e).length;default:if(i)return _(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,n){var r,o,s=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){var i,r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",s=t;s<n;++s)o+=(i=e[s])<16?"0"+i.toString(16):i.toString(16);return o}(this,t,n);case"utf8":case"utf-8":return v(this,t,n);case"ascii":return function(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}(this,t,n);case"latin1":case"binary":return function(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}(this,t,n);case"base64":return r=t,o=n,0===r&&o===this.length?i.fromByteArray(this):i.fromByteArray(this.slice(r,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}(this,t,n);default:if(s)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function m(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function g(e,t,n,i,r){if(0===e.length)return -1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),isNaN(n=+n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return -1;n=e.length-1}else if(n<0){if(!r)return -1;n=0}if("string"==typeof t&&(t=c.from(t,i)),c.isBuffer(t))return 0===t.length?-1:E(e,t,n,i,r);if("number"==typeof t)return(t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf)?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):E(e,[t],n,i,r);throw TypeError("val must be string, number or Buffer")}function E(e,t,n,i,r){var o,s=1,a=e.length,c=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return -1;s=2,a/=2,c/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(r){var l=-1;for(o=n;o<a;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*s}else -1!==l&&(o-=o-l),l=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var d=!0,h=0;h<c;h++)if(u(e,o+h)!==u(t,h)){d=!1;break}if(d)return o}return -1}function v(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,s,a,c,u=e[r],l=null,d=u>239?4:u>223?3:u>191?2:1;if(r+d<=n)switch(d){case 1:u<128&&(l=u);break;case 2:(192&(o=e[r+1]))==128&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[r+1],s=e[r+2],(192&o)==128&&(192&s)==128&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[r+1],s=e[r+2],a=e[r+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,d=1):l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l),r+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return n}(i)}function b(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function S(e,t,n,i,r,o){if(!c.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw RangeError('"value" argument is out of bounds');if(n+i>e.length)throw RangeError("Index out of range")}function I(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>(i?r:1-r)*8}function T(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>(i?r:3-r)*8&255}function w(e,t,n,i,r,o){if(n+i>e.length||n<0)throw RangeError("Index out of range")}function x(e,t,n,i,o){return o||w(e,t,n,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,n,i,23,4),n+4}function A(e,t,n,i,o){return o||w(e,t,n,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,n,i,52,8),n+8}t.lW=c,t.h2=50,c.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),s(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return(l(e),e<=0)?a(null,e):void 0!==t?"string"==typeof n?a(null,e).fill(t,n):a(null,e).fill(t):a(null,e)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!!(null!=e&&e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;var n,i=c.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var s=e[n];if(!c.isBuffer(s))throw TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0==arguments.length?v(this,0,e):y.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.h2;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,i,r){if(!c.isBuffer(e))throw TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,r>>>=0,this===e)return 0;for(var o=r-i,s=n-t,a=Math.min(o,s),u=this.slice(i,r),l=e.slice(t,n),d=0;d<a;++d)if(u[d]!==l[d]){o=u[d],s=l[d];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},c.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else if(isFinite(t))t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var r,o,s,a,c,u,l,d,h,f,p,y,m=this.length-t;if((void 0===n||n>m)&&(n=m),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var g=!1;;)switch(i){case"hex":return function(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))break;e[n+s]=a}return s}(this,e,t,n);case"utf8":case"utf-8":return c=t,u=n,O(_(e,this.length-c),this,c,u);case"ascii":return l=t,d=n,O(N(e),this,l,d);case"latin1":case"binary":return r=this,o=e,s=t,a=n,O(N(o),r,s,a);case"base64":return h=t,f=n,O(R(e),this,h,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p=t,y=n,O(function(e,t){for(var n,i,r=[],o=0;o<e.length&&!((t-=2)<0);++o)i=(n=e.charCodeAt(o))>>8,r.push(n%256),r.push(i);return r}(e,this.length-p),this,p,y);default:if(g)throw TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),g=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},c.prototype.slice=function(e,t){var n,i=this.length;if(e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var r=t-e;n=new c(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||b(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||b(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},c.prototype.readUInt8=function(e,t){return t||b(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||b(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||b(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||b(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||b(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||b(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return(t||b(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},c.prototype.readInt16LE=function(e,t){t||b(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||b(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||b(e,4,this.length),r.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||b(e,4,this.length),r.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||b(e,8,this.length),r.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||b(e,8,this.length),r.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){var r=Math.pow(2,8*n)-1;S(this,e,t,n,r,0)}var o=1,s=0;for(this[t]=255&e;++s<n&&(o*=256);)this[t+s]=e/o&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){var r=Math.pow(2,8*n)-1;S(this,e,t,n,r,0)}var o=n-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):T(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):T(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);S(this,e,t,n,r-1,-r)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);S(this,e,t,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):T(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):T(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return x(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return x(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return A(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return A(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("sourceStart out of bounds");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r,o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&"string"!=typeof i)throw TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(r=t;r<n;++r)this[r]=e;else{var s=c.isBuffer(e)?e:_(new c(e,i).toString()),a=s.length;for(r=0;r<n-t;++r)this[r+t]=s[r%a]}return this};var C=/[^+\/0-9A-Za-z-_]/g;function _(e,t){t=t||1/0;for(var n,i=e.length,r=null,o=[],s=0;s<i;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319||s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return o}function N(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function R(e){return i.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(C,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function O(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length)&&!(r>=e.length);++r)t[r+n]=e[r];return r}},78587:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},48755:function(e,t){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */t.read=function(e,t,n,i,r){var o,s,a=8*r-i-1,c=(1<<a)-1,u=c>>1,l=-7,d=n?r-1:0,h=n?-1:1,f=e[t+d];for(d+=h,o=f&(1<<-l)-1,f>>=-l,l+=a;l>0;o=256*o+e[t+d],d+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=i;l>0;s=256*s+e[t+d],d+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,i),o-=u}return(f?-1:1)*s*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var s,a,c,u=8*o-r-1,l=(1<<u)-1,d=l>>1,h=23===r?5960464477539062e-23:0,f=i?0:o-1,p=i?1:-1,y=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+d>=1?t+=h/c:t+=h*Math.pow(2,1-d),t*c>=2&&(s++,c/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*c-1)*Math.pow(2,r),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,r),s=0));r>=8;e[n+f]=255&a,f+=p,a/=256,r-=8);for(s=s<<r|a,u+=r;u>0;e[n+f]=255&s,f+=p,s/=256,u-=8);e[n+f-p]|=128*y}},46179:function(e,t,n){e.exports=n(70319)},59792:function(e){var t,n,i,r=e.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c=[],u=!1,l=-1;function d(){u&&i&&(u=!1,i.length?c=i.concat(c):l=-1,c.length&&h())}function h(){if(!u){var e=a(d);u=!0;for(var t=c.length;t;){for(i=c,c=[];++l<t;)i&&i[l].run();l=-1,t=c.length}i=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}},29850:function(e,t,n){"use strict";n.d(t,{d:function(){return rI}});var i,r,o,s,a,c,u,l,d,h,f,p,y,m,g,E,v,b,S,I,T,w=n(10397);function x(e){return"function"==typeof e}function A(e){return function(t){if(x(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}Symbol();var C=n(30973),_=((i=function(e){Error.call(e),e.stack=Error().stack},r=function(e){i(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}).prototype=Object.create(Error.prototype),r.prototype.constructor=r,r);function N(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var R=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,n,i,r,o=this._parentage;if(o){if(this._parentage=null,Array.isArray(o))try{for(var s=(0,C.XA)(o),a=s.next();!a.done;a=s.next())a.value.remove(this)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else o.remove(this)}var c=this.initialTeardown;if(x(c))try{c()}catch(e){r=e instanceof _?e.errors:[e]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var l=(0,C.XA)(u),d=l.next();!d.done;d=l.next()){var h=d.value;try{P(h)}catch(e){r=null!=r?r:[],e instanceof _?r=(0,C.ev)((0,C.ev)([],(0,C.CR)(r)),(0,C.CR)(e.errors)):r.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}if(r)throw new _(r)}},t.prototype.add=function(e){var n;if(e&&e!==this){if(this.closed)P(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&N(t,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&N(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}();function O(e){return e instanceof R||e&&"closed"in e&&x(e.remove)&&x(e.add)&&x(e.unsubscribe)}function P(e){x(e)?e():e.unsubscribe()}R.EMPTY;var k={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},D={setTimeout:function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=D.delegate;return(null==r?void 0:r.setTimeout)?r.setTimeout.apply(r,(0,C.ev)([e,t],(0,C.CR)(n))):setTimeout.apply(void 0,(0,C.ev)([e,t],(0,C.CR)(n)))},clearTimeout:function(e){var t=D.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function M(e){D.setTimeout(function(){var t=k.onUnhandledError;if(t)t(e);else throw e})}function U(){}var F=L("C",void 0,void 0);function L(e,t,n){return{kind:e,value:t,error:n}}var B=null,q=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,O(t)&&t.add(n)):n.destination=W,n}return(0,C.ZT)(t,e),t.create=function(e,t,n){return new j(e,t,n)},t.prototype.next=function(e){this.isStopped?z(L("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?z(L("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?z(F,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(R),$=Function.prototype.bind;function K(e,t){return $.call(e,t)}var V=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){G(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){G(e)}else G(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){G(e)}},e}(),j=function(e){function t(t,n,i){var r,o,s=e.call(this)||this;return x(t)||!t?r={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=i?i:void 0}:s&&k.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},r={next:t.next&&K(t.next,o),error:t.error&&K(t.error,o),complete:t.complete&&K(t.complete,o)}):r=t,s.destination=new V(r),s}return(0,C.ZT)(t,e),t}(q);function G(e){k.useDeprecatedSynchronousErrorHandling?k.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=e):M(e)}function z(e,t){var n=k.onStoppedNotification;n&&D.setTimeout(function(){return n(e,t)})}var W={closed:!0,next:U,error:function(e){throw e},complete:U};function H(e,t,n,i,r){return new Q(e,t,n,i,r)}var Q=function(e){function t(t,n,i,r,o,s){var a=e.call(this,t)||this;return a.onFinalize=o,a.shouldUnsubscribe=s,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=r?function(e){try{r(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=i?function(){try{i()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return(0,C.ZT)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),n||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(q);function Y(e,t){return A(function(n,i){var r=0;n.subscribe(H(i,function(n){i.next(e.call(t,n,r++))}))})}function X(e){let t=new Set;for(let n of e.attributes||[]){if(n?.type==="auth"&&"object"==typeof n?.properties&&Array.isArray(n?.properties?.rules)&&n?.properties?.rules.every(e=>!!e.allow))for(let e of n.properties.rules)"owner"===e.allow?t.add(e.ownerField||"owner"):"groups"===e.allow&&void 0!==e.groupsField&&t.add(e.groupsField)}return Array.from(t)}function J(e){return`${e[0].toUpperCase()}${e.slice(1)}`}function Z(e){let t,n;let i=new Promise((e,i)=>{t=e,n=i});return e(i).then(e=>{t(e)}).catch(e=>{n(e)}),i}let ee=new WeakMap;function et(e,t){return ee.set(t,e),e.finally(()=>{ee.delete(t)})}let en={HAS_ONE:"HAS_ONE",HAS_MANY:"HAS_MANY",BELONGS_TO:"BELONGS_TO"},ei={ID:"ID",String:"String",AWSDate:"String",AWSTime:"String",AWSDateTime:"String",AWSTimestamp:"Int",AWSEmail:"String",AWSPhone:"String",AWSURL:"String",AWSIPAddress:"String",AWSJSON:"String",Boolean:"Boolean",Int:"Int",Float:"Float"},er=e=>1===e.length?e[0]:e.reduce((e,t,n)=>0===n?t:e+J(t),""),eo=(e,t,n)=>{if(!n)return null;let i={};for(let[r,o]of Object.entries(n)){let n=t?e.models[t]?.fields[r]:void 0,s={fieldDef:n,value:o};"object"==typeof s.fieldDef?.type&&"model"in s.fieldDef.type&&"string"==typeof s.fieldDef.type.model&&s.fieldDef.isArray&&Array.isArray(s.value?.items)?i[r]=s.value.items.map(t=>eo(e,s.fieldDef.type.model,t)):"object"==typeof n?.type&&"model"in n.type&&"string"==typeof n.type.model?i[r]=eo(e,n.type.model,o):i[r]=o}return i};function es(e,t,n,i,r,o,s=!1){let a=i.models[t],c=a.fields,u=Object.entries(c).filter(([e,t])=>t?.type?.model!==void 0).map(([e])=>e);return n.map(t=>{if(null==t)return t;let n={};for(let l of u){let u=c[l],d=u?.type.model,h=i.models[d],f=h.primaryKeyInfo.primaryKeyFieldName,p=h.primaryKeyInfo.sortKeyFieldNames,y=u.association?.connectionType,m=[];u.association&&"associatedWith"in u.association&&(m=u.association.associatedWith);let g=[];switch(u.association&&"targetNames"in u.association&&g.push(...u.association.targetNames),y){case en.BELONGS_TO:{let i=p.reduce((e,n)=>(t[n]&&(e[n]=t[n]),e),{});if(e.models[d]?.get===void 0)break;s?n[l]=(n,s)=>t[g[0]]?e.models[d].get(n,{[f]:t[g[0]],...i},{authMode:s?.authMode||r,authToken:s?.authToken||o}):{data:null}:n[l]=n=>t[g[0]]?e.models[d].get({[f]:t[g[0]],...i},{authMode:n?.authMode||r,authToken:n?.authToken||o}):{data:null};break}case en.HAS_ONE:case en.HAS_MANY:{let i=y===en.HAS_ONE?e=>({data:e?.data.shift()||null,errors:e.errors,extensions:e.extensions}):e=>e,c=a.primaryKeyInfo.primaryKeyFieldName,u=a.primaryKeyInfo.sortKeyFieldNames,f=h.fields[m[0]];if(f.type.model){let a=[];f.association&&"targetNames"in f.association&&(a=f.association?.targetNames);let h=a.map((e,n)=>0===n?{[e]:{eq:t[c]}}:{[e]:{eq:t[u[n-1]]}});if(e.models[d]?.list===void 0)break;s?n[l]=(n,s)=>t[c]?Z(async t=>{let a=et(e.models[d].list(n,{filter:{and:h},limit:s?.limit,nextToken:s?.nextToken,authMode:s?.authMode||r,authToken:s?.authToken||o}),t);return i(await a)}):[]:n[l]=n=>t[c]?Z(async t=>{let s=et(e.models[d].list({filter:{and:h},limit:n?.limit,nextToken:n?.nextToken,authMode:n?.authMode||r,authToken:n?.authToken||o}),t);return i(await s)}):[];break}let p=m.map((e,n)=>0===n?{[e]:{eq:t[c]}}:{[e]:{eq:t[u[n-1]]}});if(e.models[d]?.list===void 0)break;s?n[l]=(n,s)=>t[c]?Z(async t=>{let a=et(e.models[d].list(n,{filter:{and:p},limit:s?.limit,nextToken:s?.nextToken,authMode:s?.authMode||r,authToken:s?.authToken||o}),t);return i(await a)}):[]:n[l]=n=>t[c]?Z(async t=>{let s=et(e.models[d].list({filter:{and:p},limit:n?.limit,nextToken:n?.nextToken,authMode:n?.authMode||r,authToken:n?.authToken||o}),t);return i(await s)}):[]}}}return{...t,...n}})}let ea={CREATE:{operationPrefix:"create",usePlural:!1},GET:{operationPrefix:"get",usePlural:!1},UPDATE:{operationPrefix:"update",usePlural:!1},DELETE:{operationPrefix:"delete",usePlural:!1},LIST:{operationPrefix:"list",usePlural:!0},INDEX_QUERY:{operationPrefix:"",usePlural:!1},ONCREATE:{operationPrefix:"onCreate",usePlural:!1},ONUPDATE:{operationPrefix:"onUpdate",usePlural:!1},ONDELETE:{operationPrefix:"onDelete",usePlural:!1},OBSERVEQUERY:{operationPrefix:"observeQuery",usePlural:!1}},ec=(e,t)=>{let{fields:n}=e;return Object.fromEntries(Object.values(n).map(({type:e,name:n})=>"string"==typeof e.enum?[n,el]:"string"==typeof e.nonModel?[n,ec(t.nonModels[e.nonModel],t)]:"string"==typeof e?[n,el]:void 0).filter(e=>void 0!==e))},eu=(e,t)=>{let{fields:n}=e,i=Object.values(n).map(({type:e,name:n})=>"string"==typeof e.enum||"string"==typeof e?[n,el]:"string"==typeof e.nonModel?[n,ec(t.nonModels[e.nonModel],t)]:void 0).filter(e=>void 0!==e),r=X(e).map(e=>[e,el]);return Object.fromEntries(i.concat(r))},el="";function ed(e){let t=[];return Object.entries(e).forEach(([e,n])=>{n===el?t.push(e):"object"==typeof n&&null!==n&&(n?.items?t.push(e,"{","items","{",ed(n.items),"}","}"):t.push(e,"{",ed(n),"}"))}),t.join(" ")}function eh(e,t,n){let i=e.models[t];return ed(function(e,t,n){let i=(t,n)=>{let[r,...o]=t.split("."),s=o[0],a=e.models[n]??e.nonModels[n],c=a?.fields,u=c?.[r]?.type?.model,l=e.models[u],d=c?.[r]?.type?.nonModel,h=e.nonModels[d],f=l?"model":h?"nonModel":"field";if("nonModel"===f){if(!s)throw Error(`${r} must declare a wildcard (*) or a field of custom type ${d}`);return"*"===s?{[r]:ec(h,e)}:{[r]:i(o.join("."),d)}}if("model"===f){let t={};if(!s)throw Error(`${r} must declare a wildcard (*) or a field of model ${u}`);return t="*"===s?{[r]:eu(e.models[u],e)}:{[r]:i(o.join("."),u)},c[r]?.isArray&&(t={[r]:{items:t[r]}}),t}{let t=c?.[r],i=e.nonModels[n],o=i?.fields?.[r];if(i){if(!o)throw Error(`${r} is not a field of custom type ${n}`)}else{let e=X(a).includes(r);if(!t&&!e)throw Error(`${r} is not a field of model ${n}`)}return{[r]:el}}};return n.reduce((e,n)=>(function e(t,n){let i=e=>e&&"object"==typeof e;for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(Object.prototype.hasOwnProperty.call(n,r)&&i(n[r])?e(t[r],n[r]):n[r]=t[r]);return n})(i(n,t),e),{})}(e,t,n??function(e){let{fields:t}=e,n=Object.values(t).map(({type:e,name:t})=>{if("string"==typeof e)return t;if("object"==typeof e){if("string"==typeof e?.enum)return t;if("string"==typeof e?.nonModel)return`${t}.*`}}).filter(Boolean),i=X(e);return Array.from(new Set(n.concat(i)))}(i)))}function ef(e,t,n,i,r){let o,s,a,c,u;let{name:l,pluralName:d,fields:h,primaryKeyInfo:{isCustomPrimaryKey:f,primaryKeyFieldName:p,sortKeyFieldNames:y},attributes:m}=t,g=l.charAt(0).toUpperCase()+l.slice(1),E=d.charAt(0).toUpperCase()+d.slice(1),{operationPrefix:v,usePlural:b}=ea[n],{selectionSet:S}=i||{};if(v)o=`${v}${b?E:g}`;else if(r){let{queryField:e,pk:t,sk:n=[]}=r;o=e;let i={};if(1===n.length){let[e]=n,t=ei["string"==typeof h[e].type?h[e].type:"String"];i={[e]:`Model${t}KeyConditionInput`}}else if(n.length>1){let t=er(n),r=m?.find(t=>t?.properties?.queryField===e)?.properties?.name;i={[t]:`Model${J(l)}${J(r)}CompositeKeyConditionInput`}}s={[t]:`${Object.prototype.hasOwnProperty.call(h[t].type,"enum")?h[t].type.enum:h[t].type}!`,...i}}else throw Error("Error generating GraphQL Document - invalid operation name");let I=eh(e,l,S),T={[p]:`${h[p].type}!`},w={},x=e=>{if(0===y.length)return{};if("get"===e)return y.reduce((t,n)=>{let i=h[n].type;return"get"===e&&(t[n]=`${i}!`),t},{});if(1!==y.length)return{[er(y)]:`Model${J(l)}PrimaryCompositeKeyConditionInput`};{let[e]=y,t=ei["string"==typeof h[e].type?h[e].type:"String"];return{[e]:`Model${t}KeyConditionInput`}}};switch(f&&(Object.assign(T,x("get")),Object.assign(w,{[p]:`${h[p].type}`,sortDirection:"ModelSortDirection"},x("list"))),n){case"CREATE":case"UPDATE":case"DELETE":u??(u={input:`${v.charAt(0).toLocaleUpperCase()+v.slice(1)}${g}Input!`}),a??(a="mutation");case"GET":u??(u=T),c??(c=I);case"LIST":u??(u={...w,filter:`Model${g}FilterInput`,limit:"Int",nextToken:"String"}),a??(a="query"),c??(c=`items { ${I} } nextToken __typename`);case"INDEX_QUERY":u??(u={...s,filter:`Model${g}FilterInput`,sortDirection:"ModelSortDirection",limit:"Int",nextToken:"String"}),a??(a="query"),c??(c=`items { ${I} } nextToken __typename`);case"ONCREATE":case"ONUPDATE":case"ONDELETE":u??(u={filter:`ModelSubscription${g}FilterInput`}),a??(a="subscription"),c??(c=I);break;default:throw Error("Internal error: Attempted to generate graphql document for observeQuery. Please report this error.")}return`${a}${u?`(${Object.entries(u).map(([e,t])=>`$${e}: ${t}`)})`:""} { ${o}${u?`(${Object.keys(u).map(e=>`${e}: $${e}`)})`:""} { ${c} } }`}function ep(e,t,n,i,r){let{fields:o,primaryKeyInfo:{isCustomPrimaryKey:s,primaryKeyFieldName:a,sortKeyFieldNames:c}}=e,u=c?.length&&er(c),l={};switch(t){case"CREATE":l={input:n?ey(n,e,i):{}};break;case"UPDATE":l={input:n?Object.fromEntries(Object.entries(ey(n,e,i)).filter(([e])=>{let{isReadOnly:t}=o[e];return!t})):{}};break;case"GET":case"DELETE":n&&(l=s?[a,...c].reduce((e,t)=>(e[t]=n[t],e),{}):{[a]:n[a]}),"DELETE"===t&&(l={input:l});break;case"LIST":n?.filter&&(l.filter=n.filter),n?.sortDirection&&(l.sortDirection=n.sortDirection),n&&n[a]&&(l[a]=n[a]),u&&n&&n[u]&&(l[u]=n[u]),n?.nextToken&&(l.nextToken=n.nextToken),n?.limit&&(l.limit=n.limit);break;case"INDEX_QUERY":{let{pk:e,sk:t=[]}=r,i=t?.length&&er(t);l[e]=n[e],i&&n&&n[i]&&(l[i]=n[i]),n?.filter&&(l.filter=n.filter),n?.sortDirection&&(l.sortDirection=n.sortDirection),n?.nextToken&&(l.nextToken=n.nextToken),n?.limit&&(l.limit=n.limit);break}case"ONCREATE":case"ONUPDATE":case"ONDELETE":n?.filter&&(l={filter:n.filter});break;case"OBSERVEQUERY":throw Error("Internal error: Attempted to build variables for observeQuery. Please report this error.");default:throw Error(`Unhandled operation case: ${t}`)}return l}function ey(e,t,n){let{fields:i}=t,r={};return Object.entries(e).forEach(([e,t])=>{let o=i[e]?.type,s=o?.model;if(s){let o=i[e]?.association,a=n.models[s].primaryKeyInfo;o?.connectionType===en.HAS_ONE&&o.targetNames.forEach((e,n)=>{let i=o.associatedWith[n];r[e]=t[i]}),o?.connectionType===en.BELONGS_TO&&o.targetNames.forEach((e,n)=>{if(0===n){let n=a.primaryKeyFieldName;r[e]=t[n]}else{let i=a.sortKeyFieldNames[n-1];r[e]=t[i]}})}else r[e]=t}),r}function em(e,t,n={}){let i=t(e);return{authMode:n.authMode||i.authMode,authToken:n.authToken||i.authToken}}function eg(e,t,n){let i=t(e).headers||{};return n&&(i=n),i}function eE(e){if(e?.errors)return{...e,data:[]};throw e}function ev(e){if(e.errors)return{...e,data:null};throw e}let eb=Symbol("INTERNAL_USER_AGENT_OVERRIDE");(o=p||(p={})).CreateConversation="1",o.GetConversation="2",o.ListConversations="3",o.DeleteConversation="4",o.SendMessage="5",o.ListMessages="6",o.OnStreamEvent="7",o.Generation="8",o.UpdateConversation="9";let eS=e=>({category:"ai",action:e});function eI(e){return e?{[eb]:e}:void 0}let eT=e=>"symbol"==typeof e?.token?.value;function ew(e,t,n,i,r,o,s){let a=void 0!==i.arguments;return(...c)=>{var u,l;let d,h;let f=c[c.length-1];if(r){if(eT(c[0]))d=c[0];else throw Error(`Invalid first argument passed to ${i.name}. Expected contextSpec`)}return(a&&(h=r?c[1]:c[0]),"subscription"===n)?function(e,t,n,i,r,o,s){let{name:a}=n,c=em(e,i,o),u=eg(e,i,o?.headers),l=eA(n),d=eC(n),h=e_(t,n),f=ex(n.type,"model")?n.type.model:void 0,p=`
    ${"subscription".toLocaleLowerCase()}${l} {
      ${a}${d} ${h}
    }
  `,y=eN(n,r),m=eI(s);return e.graphql({...c,query:p,variables:y,...m},u).pipe(Y(n=>{let[i]=Object.keys(n.data),r=n.data[i],[o]=f?es(e,f,[r],t,c.authMode,c.authToken):[r];return o}))}(e,t,i,o,h,f,s):(u=h,l=d,Z(async r=>{let{name:a}=i,c=em(e,o,f),d=eg(e,o,f?.headers),h=eA(i),p=eC(i),y=e_(t,i),m=ex(i.type,"model")?i.type.model:void 0,g=`
    ${n.toLocaleLowerCase()}${h} {
      ${a}${p} ${y}
    }
  `,E=eN(i,u),v=eI(s);try{let n=l?e.graphql(l,{...c,query:g,variables:E},d):e.graphql({...c,query:g,variables:E,...v},d),i=et(n,r),{data:o,extensions:s}=await i;if(!o)return{data:null,extensions:s};{let[n]=Object.keys(o),i=Array.isArray(o[n]),r=i?o[n].filter(e=>e):o[n],a=m?es(e,m,i?r:[r],t,c.authMode,c.authToken,!!l):r;return{data:!i&&Array.isArray(a)?a.shift():a,extensions:s}}}catch(r){let{data:n,errors:i}=r;if(!n||0===Object.keys(n).length||!i)return ev(r);{let[o]=Object.keys(n),s=Array.isArray(n[o]),a=s?n[o].filter(e=>e):n[o];if(!a)return ev(r);{let n=m?es(e,m,s?a:[a],t,c.authMode,c.authToken,!!l):a;return{data:!s&&Array.isArray(n)?n.shift():n,errors:i}}}}}))}}function ex(e,t){return"string"==typeof e[t]}function eA(e){if(void 0===e.arguments)return"";let t=Object.entries(e.arguments).map(([e,t])=>{let n=function({type:e,isRequired:t}){let n=t?"!":"";return e instanceof Object&&"enum"in e?`${e.enum}${n}`:e instanceof Object&&"input"in e?`${e.input}${n}`:`${e}${n}`}(t),i=t.isArray?`[${n}]${t.isArrayNullable?"":"!"}`:n;return`$${e}: ${i}`}).join(", ");return t.length>0?`(${t})`:""}function eC(e){if(void 0===e.arguments)return"";let t=Object.keys(e.arguments).map(e=>`${e}: $${e}`).join(", ");return t.length>0?`(${t})`:""}function e_(e,t){if(ex(t,"type")||ex(t.type,"enum"))return"";if(ex(t.type,"nonModel")){let n=e.nonModels[t.type.nonModel];return`{${ed(ec(n,e))}}`}return ex(t.type,"model")?`{${eh(e,t.type.model)}}`:""}function eN(e,t={}){let n={};if(void 0===e.arguments)return n;for(let i of Object.values(e.arguments))if(void 0!==t[i.name])n[i.name]=t[i.name];else if(i.isRequired)throw Error(`${e.name} requires arguments '${i.name}'`);return n}let eR={queries:"query",mutations:"mutation",subscriptions:"subscription"};function eO(e,t,n,i){if(!t)return{};let r=t.modelIntrospection;if(!r)return{};let o=r[n];if(!o)return{};let s={},a=null===i(e).amplify;for(let t of Object.values(o))s[t.name]=ew(e,r,eR[n],t,a,i);return s}function eP(e,t,n,i,r,o=!1,s){return o?(o,a,c)=>ek(e,t,n,a,c,i,r,o,s):(o,a)=>ek(e,t,n,o,a,i,r,void 0,s)}function ek(e,t,n,i,r,o,s,a,c){return Z(async u=>{let{name:l}=n,d=ef(t,n,o,r),h=ep(n,o,i,t),f=em(e,s,r),p=eg(e,s,r?.headers),y=eI(c);try{let n=a?e.graphql(a,{...f,query:d,variables:h},p):e.graphql({...f,query:d,variables:h,...y},p),i=et(n,u),{data:o,extensions:s}=await i;if(!o)return{data:null,extensions:s};{let[n]=Object.keys(o),i=eo(t,l,o[n]);if(null===i)return{data:null,extensions:s};if(r?.selectionSet)return{data:i,extensions:s};{let[n]=es(e,l,[i],t,f.authMode,f.authToken,!!a);return{data:n,extensions:s}}}}catch(o){let{data:n,errors:i}=o;if(!n||0===Object.keys(n).length||!i)return ev(o);{let[s]=Object.keys(n),c=eo(t,l,n[s]);if(!c)return ev(o);if(r?.selectionSet)return{data:c,errors:i};{let[n]=es(e,l,[c],t,f.authMode,f.authToken,!!a);return{data:n,errors:i}}}}})}function eD(e,t,n,i,r=!1,o){return r?(r,s)=>eM(e,t,n,i,s,r,o):r=>eM(e,t,n,i,r,void 0,o)}function eM(e,t,n,i,r,o,s){return Z(async a=>{let{name:c}=n,u=ef(t,n,"LIST",r),l=ep(n,"LIST",r,t),d=em(e,i,r),h=eg(e,i,r?.headers),f=eI(s);try{let n=o?e.graphql(o,{...d,query:u,variables:l},h):e.graphql({...d,query:u,variables:l,...f},h),i=et(n,a),{data:s,extensions:p}=await i;if(void 0!==s){let[n]=Object.keys(s);if(s[n].items){let i=s[n].items.map(e=>eo(t,c,e));if(r?.selectionSet)return{data:i,nextToken:s[n].nextToken,extensions:p};return{data:es(e,c,i,t,d.authMode,d.authToken,!!o),nextToken:s[n].nextToken,extensions:p}}return{data:s[n],nextToken:s[n].nextToken,extensions:p}}}catch(s){let{data:n,errors:i}=s;if(null==n||0===Object.keys(n).length||!i)return eE(s);{let[a]=Object.keys(n);if(!n[a]?.items)return eE(s);{let s=n[a].items.map(e=>eo(t,c,e));if(s){if(r?.selectionSet)return{data:s,nextToken:n[a]?.nextToken,errors:i};return{data:es(e,c,s,t,d.authMode,d.authToken,!!o),nextToken:n[a]?.nextToken,errors:i}}return{data:n[a],nextToken:n[a]?.nextToken,errors:i}}}}})}let eU={},eF=Array(64);for(let e=0;e+65<=90;e++){let t=String.fromCharCode(e+65);eU[t]=e,eF[e]=t}for(let e=0;e+97<=122;e++){let t=String.fromCharCode(e+97),n=e+26;eU[t]=n,eF[n]=t}for(let e=0;e<10;e++){eU[e.toString(10)]=e+52;let t=e.toString(10),n=e+52;eU[t]=n,eF[n]=t}eU["+"]=62,eF[62]="+",eU["/"]=63,eF[63]="/";let eL=e=>{let t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;let n=new ArrayBuffer(t),i=new DataView(n);for(let t=0;t<e.length;t+=4){let n=0,r=0;for(let i=t,o=t+3;i<=o;i++)if("="!==e[i]){if(!(e[i]in eU))throw TypeError(`Invalid character ${e[i]} in base64 string.`);n|=eU[e[i]]<<(o-i)*6,r+=6}else n>>=6;let o=t/4*3;n>>=r%8;let s=Math.floor(r/8);for(let e=0;e<s;e++){let t=(s-e-1)*8;i.setUint8(o+e,(n&255<<t)>>t)}}return new Uint8Array(n)},eB=e=>new TextEncoder().encode(e),eq=e=>e.map(e=>e.image?e$(e):e.toolUse?eV(e):e.toolResult?ej(e):eG(e)),e$=({image:e})=>({image:{...e,source:{...e.source,bytes:eL(e.source.bytes)}}}),eK=({json:e})=>({json:JSON.parse(e)}),eV=({toolUse:e})=>({toolUse:{...e,input:JSON.parse(e.input)}}),ej=({toolResult:e})=>({toolResult:{toolUseId:e.toolUseId,content:e.content.map(e=>e.image?e$(e):e.json?eK(e):eG(e))}}),eG=e=>Object.fromEntries(Object.entries(e).filter(([e,t])=>null!==t)),ez=({content:e,createdAt:t,id:n,conversationId:i,role:r})=>({content:eq(e??[]),conversationId:i,createdAt:t,id:n,role:r}),eW=(e,t,n,i,r)=>async o=>{let s=eD(e,t,i,r,!1,eS(p.ListMessages)),{data:a,nextToken:c,errors:u}=await s({...o,filter:{conversationId:{eq:n}}});return{data:a.map(e=>ez(e)),nextToken:c,errors:u}},eH=({id:e,conversationId:t,associatedUserMessageId:n,contentBlockIndex:i,contentBlockDoneAtIndex:r,contentBlockDeltaIndex:o,contentBlockText:s,contentBlockToolUse:a,stopReason:c,errors:u})=>u?{error:{id:e,conversationId:t,associatedUserMessageId:n,errors:u}}:{next:eY({id:e,conversationId:t,associatedUserMessageId:n,contentBlockIndex:i,contentBlockDoneAtIndex:r,contentBlockDeltaIndex:o,text:s,toolUse:eQ(a),stopReason:c})},eQ=e=>{if(e)return{...e,input:JSON.parse(e.input)}},eY=e=>Object.fromEntries(Object.entries(e).filter(([e,t])=>null!==t)),eX=(e,t,n,i,r)=>o=>{let{conversations:s}=t;return s?ew(e,t,"subscription",s[i].message.subscribe,!1,r,eS(p.OnStreamEvent))({conversationId:n}).subscribe(e=>{let{next:t,error:n}=eH(e);n&&o.error(n),t&&o.next(t)}):{}},eJ=e=>JSON.stringify(e),eZ=e=>e.map(e=>e.image?e1(e):e.toolResult?e4(e):e),e0=({tools:e})=>({tools:Object.entries(e).map(([e,t])=>({toolSpec:{name:e,description:t.description,inputSchema:{json:JSON.stringify(t.inputSchema.json)}}}))}),e1=({image:e})=>({image:{...e,source:{...e.source,bytes:function(e){let t;let n="object"==typeof(t="string"==typeof e?eB(e):e)&&"number"==typeof t.length,i="object"==typeof t&&"number"==typeof t.byteOffset&&"number"==typeof t.byteLength;if(!n&&!i)throw Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let r="";for(let e=0;e<t.length;e+=3){let n=0,i=0;for(let r=e,o=Math.min(e+3,t.length);r<o;r++)n|=t[r]<<(o-r-1)*8,i+=8;let o=Math.ceil(i/6);n<<=6*o-i;for(let e=1;e<=o;e++){let t=(o-e)*6;r+=eF[(n&63<<t)>>t]}r+="==".slice(0,4-o)}return r}(e.source.bytes)}}}),e2=({json:e})=>({json:JSON.stringify(e)}),e4=({toolResult:e})=>({toolResult:{...e,content:e.content.map(e=>e.image?e1(e):e.json?e2(e):e)}}),e3=(e,t,n,i,r)=>async o=>{let{conversations:s}=t;if(!s)return{};let{content:a,aiContext:c,toolConfiguration:u}="string"==typeof o?{content:[{text:o}]}:o,l=ew(e,t,"mutation",s[i].message.send,!1,r,eS(p.SendMessage)),{data:d,errors:h}=await l({conversationId:n,content:eZ(a),...c&&{aiContext:eJ(c)},...u&&{toolConfiguration:e0(u)}});return{data:d?ez(d):d,errors:h}},e6=(e,t,n,i,r,o,s,a,c,u)=>{if(!n)throw Error(`An error occurred converting a ${o} conversation: Missing ID`);return{id:n,createdAt:i,updatedAt:r,metadata:c,name:u,onStreamEvent:eX(e,t,n,o,a),sendMessage:e3(e,t,n,o,a),listMessages:eW(e,t,n,s,a)}},e5=(e,t,n,i,r,o)=>async s=>{let{name:a,metadata:c}=s??{},u=JSON.stringify(c),l=eP(e,t,i,"CREATE",o,!1,eS(p.CreateConversation)),{data:d,errors:h}=await l({name:a,metadata:u});return{data:e6(e,t,d?.id,d?.createdAt,d?.updatedAt,n,r,o,d?.metadata,d?.name),errors:h}},e8=(e,t,n,i,r,o)=>async({id:s})=>{let a=eP(e,t,i,"GET",o,!1,eS(p.GetConversation)),{data:c,errors:u}=await a({id:s});return{data:c?e6(e,t,c.id,c.createdAt,c.updatedAt,n,r,o,c?.metadata,c?.name):c,errors:u}},e7=(e,t,n,i,r,o)=>async s=>{let a=eD(e,t,i,o,!1,eS(p.ListConversations)),{data:c,nextToken:u,errors:l}=await a(s);return{data:c.map(i=>e6(e,t,i.id,i.createdAt,i.updatedAt,n,r,o,i?.metadata,i?.name)),nextToken:u,errors:l}},e9=(e,t,n,i,r,o)=>async({id:s})=>{let a=eP(e,t,i,"DELETE",o,!1,eS(p.DeleteConversation)),{data:c,errors:u}=await a({id:s});return{data:c?e6(e,t,c?.id,c?.createdAt,c?.updatedAt,n,r,o,c?.metadata,c?.name):c,errors:u}},te=(e,t,n,i,r,o)=>async({id:s,metadata:a,name:c})=>{let u=JSON.stringify(a),l=eP(e,t,i,"UPDATE",o,!1,eS(p.UpdateConversation)),{data:d,errors:h}=await l({id:s,metadata:u,name:c});return{data:d?e6(e,t,d?.id,d?.createdAt,d?.updatedAt,n,r,o,d?.metadata,d?.name):d,errors:h}},tt=e=>{let t=e.modelIntrospection;if(!t)return{};let n={};for(let[e,i]of Object.entries(t.enums))n[i.name]={values:()=>i.values};return n};function tn(e,t,n,i,r,o,s){return Z(async a=>{let{name:c}=n,u=ef(t,n,"INDEX_QUERY",o,i),l=ep(n,"INDEX_QUERY",o,t,i),d=em(e,r,o),h=n=>es(e,c,n,t,d.authMode,d.authToken,!!s);try{let n=eg(e,r,o?.headers),i=[{...d,query:u,variables:l},n];void 0!==s&&i.unshift(s);let f=e.graphql(...i),p=et(f,a),y=await p;if(void 0!==y.data)return function(e,t,n,i,r){let{data:o,extensions:s}=n,[a]=Object.keys(o);if(o[a].items){let n=o[a].items.map(n=>eo(e,t,n));return{data:i?n:r(n),nextToken:o[a].nextToken,extensions:s}}return{data:o[a],nextToken:o[a].nextToken,extensions:s}}(t,c,y,o?.selectionSet,h)}catch(i){let{data:e,errors:n}=i;if(null==e||0===Object.keys(e).length||!n)return eE(i);{let[n]=Object.keys(e);if(e[n]?.items){let i=e[n]?.items.map(e=>eo(t,c,e));if(i)return{data:o?.selectionSet?i:h(i),nextToken:e[n]?.nextToken}}return{data:e[n],nextToken:e[n]?.nextToken}}}})}var ti="function"==typeof Symbol&&Symbol.observable||"@@observable",tr=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var i,r=this,o=(i=e)&&i instanceof q||i&&x(i.next)&&x(i.error)&&x(i.complete)&&O(i)?e:new j(e,t,n);return function(e){if(k.useDeprecatedSynchronousErrorHandling){var t=!B;if(t&&(B={errorThrown:!1,error:null}),e(),t){var n=B,i=n.errorThrown,r=n.error;if(B=null,i)throw r}}else e()}(function(){var e=r.operator,t=r.source;o.add(e?e.call(o,t):t?r._subscribe(o):r._trySubscribe(o))}),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=to(t))(function(t,i){var r=new j({next:function(t){try{e(t)}catch(e){i(e),r.unsubscribe()}},error:i,complete:t});n.subscribe(r)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[ti]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?function(e){return e}:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=to(e))(function(e,n){var i;t.subscribe(function(e){return i=e},function(e){return n(e)},function(){return e(i)})})},e.create=function(t){return new e(t)},e}();function to(e){var t;return null!==(t=null!=e?e:k.Promise)&&void 0!==t?t:Promise}let ts=e=>"key"===e.type&&e.properties?.name&&e.properties?.queryField&&e.properties?.fields.length>0,ta=e=>e.attributes?.filter(ts).map(e=>{let t=e.properties.queryField,[n,...i]=e.properties.fields;return{queryField:t,pk:n,sk:i}})||[],tc=(e,t)=>{let n=e.models[t].attributes?.find(e=>"model"===e.type),i={queries:["list","get","observeQuery"],mutations:["create","update","delete"],subscriptions:["onCreate","onUpdate","onDelete"]},r=[];if(!n)return ea;if(n.properties)for(let[e,t]of Object.entries(n.properties))e in i&&(null===t?r.push(...i[e]):t instanceof Object&&r.push(...Object.keys(t)));r.includes("list")&&r.push("observeQuery");let o=r.map(e=>e.toUpperCase());return Object.fromEntries(Object.entries(ea).filter(([e])=>!o.includes(e)))};function tu(e,t,n){return!function(e){let t=e.cancel.bind(e);e.cancel=function(e,n){let i=new Set,r=e;for(;r&&ee.has(r);){if(i.has(r))throw Error("A cycle was detected in the modeled graphql cancellation chain. This is a bug. Please report it!");i.add(r),r=ee.get(r)}return t(r,n)}}(e),e.models=function(e,t,n){let i={},r=t.modelIntrospection;if(!r)return{};let o=["ONCREATE","ONUPDATE","ONDELETE"];for(let t of Object.values(r.models)){let{name:s}=t;for(let a of(i[s]={},Object.entries(tc(r,s)).forEach(([a,{operationPrefix:c}])=>{"LIST"===a?i[s][c]=eD(e,r,t,n):o.includes(a)?i[s][c]=function(e,t,n,i,r){let{name:o}=n;return s=>{let a=ef(t,n,i,s),c=ep(n,i,s,t),u=em(e,r,s),l=eg(e,r,s?.headers);return e.graphql({...u,query:a,variables:c},l).pipe(Y(n=>{let[i]=Object.keys(n.data),r=eo(t,o,n.data[i]);if(null===r)return null;if(s?.selectionSet)return r;{let[n]=es(e,o,[r],t,u.authMode,u.authToken);return n}}))}}(e,r,t,a,n):"OBSERVEQUERY"===a?i[s][c]=function(e,t){let{name:n}=t;return i=>new tr(r=>{let o=[],s=[],a=(...e)=>s.push(...e),c=e[n].onCreate(i).subscribe({next(e){a({item:e,type:"create"})},error(e){r.error({type:"onCreate",error:e})}}),u=e[n].onUpdate(i).subscribe({next(e){a({item:e,type:"update"})},error(e){r.error({type:"onUpdate",error:e})}}),l=e[n].onDelete(i).subscribe({next(e){a({item:e,type:"delete"})},error(e){r.error({type:"onDelete",error:e})}});function d(e){for(let t of e){let e=function(e,t,n){let i=Object.fromEntries(n.map(t=>[t,e[t]]));for(let e=0;e<t.length;e++)if(Object.keys(i).every(n=>i[n]===t[e][n]))return e;return -1}(t.item,o,h);switch(t.type){case"create":e<0&&o.push(t.item);break;case"update":e>=0&&(o[e]=t.item);break;case"delete":e>=0&&o.splice(e,1);break;default:console.error("Unrecognized message in observeQuery.",t)}}r.next({items:o,isSynced:!0})}let h=function(e){let{primaryKeyFieldName:t,sortKeyFieldNames:n}=e.primaryKeyInfo;return[t,...n]}(t);return(async()=>{let t=!0,c=null;for(;!r.closed&&(t||c);){t=!1;let{data:a,errors:u,nextToken:l}=await e[n].list({...i,nextToken:c});c=l,o.push(...a);let d=0===s.length&&null==c;if(r.next({items:o,isSynced:d}),Array.isArray(u))for(let e of u)r.error(e)}s.length>0&&d(s),a=(...e)=>(d(e),o.length)})(),()=>{c.unsubscribe(),u.unsubscribe(),l.unsubscribe()}})}(i,t):i[s][c]=eP(e,r,t,a,n)}),ta(t)))i[s][a.queryField]=function(e,t,n,i,r,o=!1){return o?(o,s,a)=>tn(e,t,n,i,r,{...s,...a},o):(o,s)=>tn(e,t,n,i,r,{...o,...s})}(e,r,t,a,n)}return i}(e,t,n),e.enums=tt(t),e.queries=eO(e,t,"queries",n),e.mutations=eO(e,t,"mutations",n),e.subscriptions=eO(e,t,"subscriptions",n),e.conversations=function(e,t,n){let i=t?.modelIntrospection;if(!i?.conversations)return{};let r={};for(let{name:t,conversation:o,message:s,models:a,nonModels:c,enums:u}of Object.values(i.conversations)){let l=a[o.modelName],d=a[s.modelName];if(!l||!d)return{};let h={...i,models:{...i.models,...a},nonModels:{...i.nonModels,...c},enums:{...i.enums,...u}};r[t]={update:te(e,h,t,l,d,n),create:e5(e,h,t,l,d,n),get:e8(e,h,t,l,d,n),delete:e9(e,h,t,l,d,n),list:e7(e,h,t,l,d,n)}}return r}(e,t,n),e.generations=function(e,t,n){let i=t?.modelIntrospection;if(!i?.generations)return{};let r={};for(let t of Object.values(i.generations))r[t.name]=ew(e,i,"query",t,!1,n,eS(p.Generation));return r}(e,t,n),e}(s=y||(y={})).NO_API_KEY="No api-key configured",s.NO_CURRENT_USER="No current user",s.NO_CREDENTIALS="No credentials",s.NO_FEDERATED_JWT="No federated jwt",s.NO_AUTH_TOKEN="No auth token specified";let tl=Symbol("amplify"),td=Symbol("authMode"),th=Symbol("authToken"),tf=Symbol("apiKey"),tp=Symbol("headers"),ty=Symbol("endpoint");function tm(e){return{amplify:e[tl],apiKey:e[tf],authMode:e[td],authToken:e[th],endpoint:e[ty],headers:e[tp]}}var tg=n(60443);function tE(e){return(tE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var tv="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function tb(e,t){for(var n,i=/\r\n|[\n\r]/g,r=1,o=t+1;(n=i.exec(e.body))&&n.index<t;)r+=1,o=t+1-(n.index+n[0].length);return{line:r,column:o}}function tS(e,t){var n=e.locationOffset.column-1,i=tT(n)+e.body,r=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=1===t.line?n:0,c=t.column+a,u="".concat(e.name,":").concat(s,":").concat(c,"\n"),l=i.split(/\r\n|[\n\r]/g),d=l[r];if(d.length>120){for(var h=Math.floor(c/80),f=c%80,p=[],y=0;y<d.length;y+=80)p.push(d.slice(y,y+80));return u+tI([["".concat(s),p[0]]].concat(p.slice(1,h+1).map(function(e){return["",e]}),[[" ",tT(f-1)+"^"],["",p[h+1]]]))}return u+tI([["".concat(s-1),l[r-1]],["".concat(s),d],["",tT(c-1)+"^"],["".concat(s+1),l[r+1]]])}function tI(e){var t=e.filter(function(e){return e[0],void 0!==e[1]}),n=Math.max.apply(Math,t.map(function(e){return e[0].length}));return t.map(function(e){var t=e[0],i=e[1];return tT(n-t.length)+t+(i?" | "+i:" |")}).join("\n")}function tT(e){return Array(e+1).join(" ")}function tw(e){return(tw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function tA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function tC(e,t){return t&&("object"===tw(t)||"function"==typeof t)?t:t_(e)}function t_(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tN(e){var t="function"==typeof Map?new Map:void 0;return(tN=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return tR(e,arguments,tk(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),tP(n,e)})(e)}function tR(e,t,n){return(tR=tO()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&tP(r,n.prototype),r}).apply(null,arguments)}function tO(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function tP(e,t){return(tP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tk(e){return(tk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tD=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tP(e,t)}(o,e);var t,n,i,r=(t=tO(),function(){var e,n=tk(o);if(t){var i=tk(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return tC(this,e)});function o(e,t,n,i,s,a,c){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),(m=r.call(this,e)).name="GraphQLError",m.originalError=null!=a?a:void 0,m.nodes=tM(Array.isArray(t)?t:t?[t]:void 0);for(var u,l=[],d=0,h=null!==(g=m.nodes)&&void 0!==g?g:[];d<h.length;d++){var f,p,y,m,g,E=h[d].loc;null!=E&&l.push(E)}l=tM(l),m.source=null!=n?n:null===(f=l)||void 0===f?void 0:f[0].source,m.positions=null!=i?i:null===(p=l)||void 0===p?void 0:p.map(function(e){return e.start}),m.locations=i&&n?i.map(function(e){return tb(n,e)}):null===(y=l)||void 0===y?void 0:y.map(function(e){return tb(e.source,e.start)}),m.path=null!=s?s:void 0;var v=null==a?void 0:a.extensions;return null==c&&"object"==tE(u=v)&&null!==u?m.extensions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tx(Object(n),!0).forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},v):m.extensions=null!=c?c:{},(Object.defineProperties(t_(m),{message:{enumerable:!0},locations:{enumerable:null!=m.locations},path:{enumerable:null!=m.path},extensions:{enumerable:null!=m.extensions&&Object.keys(m.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=a&&a.stack)?(Object.defineProperty(t_(m),"stack",{value:a.stack,writable:!0,configurable:!0}),tC(m)):(Error.captureStackTrace?Error.captureStackTrace(t_(m),o):Object.defineProperty(t_(m),"stack",{value:Error().stack,writable:!0,configurable:!0}),m)}return n=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,i=e.nodes;n<i.length;n++){var r,o=i[n];o.loc&&(t+="\n\n"+tS((r=o.loc).source,tb(r.source,r.start)))}else if(e.source&&e.locations)for(var s=0,a=e.locations;s<a.length;s++){var c=a[s];t+="\n\n"+tS(e.source,c)}return t}(this)}},{key:tv,get:function(){return"Object"}}],tA(o.prototype,n),i&&tA(o,i),o}(tN(Error));function tM(e){return void 0===e||0===e.length?void 0:e}function tU(e,t,n){return new tD("Syntax Error: ".concat(n),void 0,e,[t])}var tF=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),tL="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function tB(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){throw Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,tL&&(e.prototype[tL]=t)}var tq=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();tB(tq);var t$=function(){function e(e,t,n,i,r,o,s){this.kind=e,this.start=t,this.end=n,this.line=i,this.column=r,this.value=s,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function tK(e){return null!=e&&"string"==typeof e.kind}tB(t$);var tV=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function tj(e){return(tj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tG(e,t){switch(tj(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":if(null===e)return"null";return function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n,i,r=[].concat(t,[e]),o="function"==typeof(n=e[String(tL)])?n:"function"==typeof e.inspect?e.inspect:void 0;if(void 0!==o){var s=o.call(e);if(s!==e)return"string"==typeof s?s:tG(s,r)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),i=e.length-n,r=[],o=0;o<n;++o)r.push(tG(e[o],t));return 1===i?r.push("... 1 more item"):i>1&&r.push("... ".concat(i," more items")),"["+r.join(", ")+"]"}(e,r);return 0===(i=Object.keys(e)).length?"{}":r.length>2?"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]":"{ "+i.map(function(t){var n=tG(e[t],r);return t+": "+n}).join(", ")+" }"}(e,t);default:return String(e)}}function tz(e,t){if(!e)throw Error(t)}function tW(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var tH=function(){var e;function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||tz(0,"Body must be a string. Received: ".concat(tG(e,[]),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||tz(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||tz(0,"column in locationOffset is 1-indexed and must be positive.")}return tW(t.prototype,[{key:tv,get:function(){return"Source"}}]),e&&tW(t,e),t}(),tQ=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function tY(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"	"!==e[t])return!1;return!0}var tX=function(){function e(e){var t=new t$(tV.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e,t=this.token;if(t.kind!==tV.EOF)do t=null!==(e=t.next)&&void 0!==e?e:t.next=function(e,t){for(var n=e.source,i=n.body,r=i.length,o=t.end;o<r;){var s=i.charCodeAt(o),a=e.line,c=1+o-e.lineStart;switch(s){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===i.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new t$(tV.BANG,o,o+1,a,c,t);case 35:return function(e,t,n,i,r){var o,s=e.body,a=t;do o=s.charCodeAt(++a);while(!isNaN(o)&&(o>31||9===o));return new t$(tV.COMMENT,t,a,n,i,r,s.slice(t+1,a))}(n,o,a,c,t);case 36:return new t$(tV.DOLLAR,o,o+1,a,c,t);case 38:return new t$(tV.AMP,o,o+1,a,c,t);case 40:return new t$(tV.PAREN_L,o,o+1,a,c,t);case 41:return new t$(tV.PAREN_R,o,o+1,a,c,t);case 46:if(46===i.charCodeAt(o+1)&&46===i.charCodeAt(o+2))return new t$(tV.SPREAD,o,o+3,a,c,t);break;case 58:return new t$(tV.COLON,o,o+1,a,c,t);case 61:return new t$(tV.EQUALS,o,o+1,a,c,t);case 64:return new t$(tV.AT,o,o+1,a,c,t);case 91:return new t$(tV.BRACKET_L,o,o+1,a,c,t);case 93:return new t$(tV.BRACKET_R,o,o+1,a,c,t);case 123:return new t$(tV.BRACE_L,o,o+1,a,c,t);case 124:return new t$(tV.PIPE,o,o+1,a,c,t);case 125:return new t$(tV.BRACE_R,o,o+1,a,c,t);case 34:if(34===i.charCodeAt(o+1)&&34===i.charCodeAt(o+2))return function(e,t,n,i,r,o){for(var s=e.body,a=t+3,c=a,u=0,l="";a<s.length&&!isNaN(u=s.charCodeAt(a));){if(34===u&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2))return l+=s.slice(c,a),new t$(tV.BLOCK_STRING,t,a+3,n,i,r,function(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,i=!0,r=0,o=null,s=0;s<e.length;++s)switch(e.charCodeAt(s)){case 13:10===e.charCodeAt(s+1)&&++s;case 10:n=!1,i=!0,r=0;break;case 9:case 32:++r;break;default:i&&!n&&(null===o||r<o)&&(o=r),i=!1}return null!==(t=o)&&void 0!==t?t:0}(e);if(0!==n)for(var i=1;i<t.length;i++)t[i]=t[i].slice(n);for(var r=0;r<t.length&&tY(t[r]);)++r;for(var o=t.length;o>r&&tY(t[o-1]);)--o;return t.slice(r,o).join("\n")}(l));if(u<32&&9!==u&&10!==u&&13!==u)throw tU(e,a,"Invalid character within String: ".concat(tJ(u),"."));10===u?(++a,++o.line,o.lineStart=a):13===u?(10===s.charCodeAt(a+1)?a+=2:++a,++o.line,o.lineStart=a):92===u&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2)&&34===s.charCodeAt(a+3)?(l+=s.slice(c,a)+'"""',a+=4,c=a):++a}throw tU(e,a,"Unterminated string.")}(n,o,a,c,t,e);return function(e,t,n,i,r){for(var o=e.body,s=t+1,a=s,c=0,u="";s<o.length&&!isNaN(c=o.charCodeAt(s))&&10!==c&&13!==c;){if(34===c)return u+=o.slice(a,s),new t$(tV.STRING,t,s+1,n,i,r,u);if(c<32&&9!==c)throw tU(e,s,"Invalid character within String: ".concat(tJ(c),"."));if(++s,92===c){switch(u+=o.slice(a,s-1),c=o.charCodeAt(s)){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+="\n";break;case 114:u+="\r";break;case 116:u+="	";break;case 117:var l,d,h,f,p=(l=o.charCodeAt(s+1),d=o.charCodeAt(s+2),h=o.charCodeAt(s+3),f=o.charCodeAt(s+4),t0(l)<<12|t0(d)<<8|t0(h)<<4|t0(f));if(p<0){var y=o.slice(s+1,s+5);throw tU(e,s,"Invalid character escape sequence: \\u".concat(y,"."))}u+=String.fromCharCode(p),s+=4;break;default:throw tU(e,s,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}a=++s}}throw tU(e,s,"Unterminated string.")}(n,o,a,c,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,i,r,o){var s,a=e.body,c=n,u=t,l=!1;if(45===c&&(c=a.charCodeAt(++u)),48===c){if((c=a.charCodeAt(++u))>=48&&c<=57)throw tU(e,u,"Invalid number, unexpected digit after 0: ".concat(tJ(c),"."))}else u=tZ(e,u,c),c=a.charCodeAt(u);if(46===c&&(l=!0,c=a.charCodeAt(++u),u=tZ(e,u,c),c=a.charCodeAt(u)),(69===c||101===c)&&(l=!0,(43===(c=a.charCodeAt(++u))||45===c)&&(c=a.charCodeAt(++u)),u=tZ(e,u,c),c=a.charCodeAt(u)),46===c||95===(s=c)||s>=65&&s<=90||s>=97&&s<=122)throw tU(e,u,"Invalid number, expected digit but got: ".concat(tJ(c),"."));return new t$(l?tV.FLOAT:tV.INT,t,u,i,r,o,a.slice(t,u))}(n,o,s,a,c,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,n,i,r){for(var o=e.body,s=o.length,a=t+1,c=0;a!==s&&!isNaN(c=o.charCodeAt(a))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++a;return new t$(tV.NAME,t,a,n,i,r,o.slice(t,a))}(n,o,a,c,t)}throw tU(n,o,s<32&&9!==s&&10!==s&&13!==s?"Cannot contain the invalid character ".concat(tJ(s),"."):39===s?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(tJ(s),"."))}var u=e.line,l=1+o-e.lineStart;return new t$(tV.EOF,r,r,u,l,t)}(this,t);while(t.kind===tV.COMMENT);return t},e}();function tJ(e){return isNaN(e)?tV.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function tZ(e,t,n){var i=e.body,r=t,o=n;if(o>=48&&o<=57){do o=i.charCodeAt(++r);while(o>=48&&o<=57);return r}throw tU(e,r,"Invalid number, expected digit but got: ".concat(tJ(o),"."))}function t0(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function t1(e,t){return new t2(e,t).parseDocument()}var t2=function(){function e(e,t){var n=e instanceof tH?e:new tH(e);this._lexer=new tX(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(tV.NAME);return{kind:tF.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:tF.DOCUMENT,definitions:this.many(tV.SOF,this.parseDefinition,tV.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(tV.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else if(this.peek(tV.BRACE_L))return this.parseOperationDefinition();else if(this.peekDescription())return this.parseTypeSystemDefinition();throw this.unexpected()},t.parseOperationDefinition=function(){var e,t=this._lexer.token;if(this.peek(tV.BRACE_L))return{kind:tF.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(t)};var n=this.parseOperationType();return this.peek(tV.NAME)&&(e=this.parseName()),{kind:tF.OPERATION_DEFINITION,operation:n,name:e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseOperationType=function(){var e=this.expectToken(tV.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(tV.PAREN_L,this.parseVariableDefinition,tV.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:tF.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(tV.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(tV.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(tV.DOLLAR),{kind:tF.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:tF.SELECTION_SET,selections:this.many(tV.BRACE_L,this.parseSelection,tV.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(tV.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,i=this.parseName();return this.expectOptionalToken(tV.COLON)?(e=i,t=this.parseName()):t=i,{kind:tF.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(tV.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(tV.PAREN_L,t,tV.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(tV.COLON),{kind:tF.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:tF.ARGUMENT,name:this.parseName(),value:(this.expectToken(tV.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(tV.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(tV.NAME)?{kind:tF.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:tF.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return(this.expectKeyword("fragment"),(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)===!0)?{kind:tF.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:tF.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case tV.BRACKET_L:return this.parseList(e);case tV.BRACE_L:return this.parseObject(e);case tV.INT:return this._lexer.advance(),{kind:tF.INT,value:t.value,loc:this.loc(t)};case tV.FLOAT:return this._lexer.advance(),{kind:tF.FLOAT,value:t.value,loc:this.loc(t)};case tV.STRING:case tV.BLOCK_STRING:return this.parseStringLiteral();case tV.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:tF.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:tF.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:tF.NULL,loc:this.loc(t)};default:return{kind:tF.ENUM,value:t.value,loc:this.loc(t)}}case tV.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:tF.STRING,value:e.value,block:e.kind===tV.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:tF.LIST,values:this.any(tV.BRACKET_L,function(){return t.parseValueLiteral(e)},tV.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:tF.OBJECT,fields:this.any(tV.BRACE_L,function(){return t.parseObjectField(e)},tV.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(tV.COLON),{kind:tF.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(tV.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(tV.AT),{kind:tF.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return(this.expectOptionalToken(tV.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(tV.BRACKET_R),e={kind:tF.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(tV.BANG))?{kind:tF.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:tF.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===tV.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(tV.STRING)||this.peek(tV.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),i=this.many(tV.BRACE_L,this.parseOperationTypeDefinition,tV.BRACE_R);return{kind:tF.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:i,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(tV.COLON);var n=this.parseNamedType();return{kind:tF.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),i=this.parseDirectives(!0);return{kind:tF.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:i,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:tF.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:r,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if((null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)===!0){var t=[];this.expectOptionalToken(tV.AMP);do t.push(this.parseNamedType());while(this.expectOptionalToken(tV.AMP)||this.peek(tV.NAME));return t}return this.delimitedMany(tV.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)===!0&&this.peek(tV.BRACE_L)&&this._lexer.lookahead().kind===tV.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(tV.BRACE_L,this.parseFieldDefinition,tV.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),i=this.parseArgumentDefs();this.expectToken(tV.COLON);var r=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:tF.FIELD_DEFINITION,description:t,name:n,arguments:i,type:r,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(tV.PAREN_L,this.parseInputValueDef,tV.PAREN_R)},t.parseInputValueDef=function(){var e,t=this._lexer.token,n=this.parseDescription(),i=this.parseName();this.expectToken(tV.COLON);var r=this.parseTypeReference();this.expectOptionalToken(tV.EQUALS)&&(e=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:tF.INPUT_VALUE_DEFINITION,description:n,name:i,type:r,defaultValue:e,directives:o,loc:this.loc(t)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:tF.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:i,directives:r,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),i=this.parseDirectives(!0),r=this.parseUnionMemberTypes();return{kind:tF.UNION_TYPE_DEFINITION,description:t,name:n,directives:i,types:r,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(tV.EQUALS)?this.delimitedMany(tV.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),i=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();return{kind:tF.ENUM_TYPE_DEFINITION,description:t,name:n,directives:i,values:r,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(tV.BRACE_L,this.parseEnumValueDefinition,tV.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),i=this.parseDirectives(!0);return{kind:tF.ENUM_VALUE_DEFINITION,description:t,name:n,directives:i,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),i=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();return{kind:tF.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:i,fields:r,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(tV.BRACE_L,this.parseInputValueDef,tV.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===tV.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(tV.BRACE_L,this.parseOperationTypeDefinition,tV.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:tF.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:tF.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),r=this.parseFieldsDefinition();if(0===n.length&&0===i.length&&0===r.length)throw this.unexpected();return{kind:tF.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:r,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),r=this.parseFieldsDefinition();if(0===n.length&&0===i.length&&0===r.length)throw this.unexpected();return{kind:tF.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:i,fields:r,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseUnionMemberTypes();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:tF.UNION_TYPE_EXTENSION,name:t,directives:n,types:i,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:tF.ENUM_TYPE_EXTENSION,name:t,directives:n,values:i,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();if(0===n.length&&0===i.length)throw this.unexpected();return{kind:tF.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:i,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(tV.AT);var n=this.parseName(),i=this.parseArgumentDefs(),r=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:tF.DIRECTIVE_DEFINITION,description:t,name:n,arguments:i,repeatable:r,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(tV.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==tQ[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if((null===(t=this._options)||void 0===t?void 0:t.noLocation)!==!0)return new tq(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw tU(this._lexer.source,t.start,"Expected ".concat(t3(e),", found ").concat(t4(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind===tV.NAME&&t.value===e)this._lexer.advance();else throw tU(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(t4(t),"."))},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===tV.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return tU(this._lexer.source,t.start,"Unexpected ".concat(t4(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var i=[];!this.expectOptionalToken(n);)i.push(t.call(this));return i},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var i=[];do i.push(t.call(this));while(!this.expectOptionalToken(n));return i}return[]},t.many=function(e,t,n){this.expectToken(e);var i=[];do i.push(t.call(this));while(!this.expectOptionalToken(n));return i},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do n.push(t.call(this));while(this.expectOptionalToken(e));return n},e}();function t4(e){var t=e.value;return t3(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function t3(e){return e===tV.BANG||e===tV.DOLLAR||e===tV.AMP||e===tV.PAREN_L||e===tV.PAREN_R||e===tV.SPREAD||e===tV.COLON||e===tV.EQUALS||e===tV.AT||e===tV.BRACKET_L||e===tV.BRACKET_R||e===tV.BRACE_L||e===tV.PIPE||e===tV.BRACE_R?'"'.concat(e,'"'):e}var t6={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},t5=Object.freeze({});function t8(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t6,i=void 0,r=Array.isArray(e),o=[e],s=-1,a=[],c=void 0,u=void 0,l=void 0,d=[],h=[],f=e;do{var p,y=++s===o.length,m=y&&0!==a.length;if(y){if(u=0===h.length?void 0:d[d.length-1],c=l,l=h.pop(),m){if(r)c=c.slice();else{for(var g={},E=0,v=Object.keys(c);E<v.length;E++){var b=v[E];g[b]=c[b]}c=g}for(var S=0,I=0;I<a.length;I++){var T=a[I][0],w=a[I][1];r&&(T-=S),r&&null===w?(c.splice(T,1),S++):c[T]=w}}s=i.index,o=i.keys,a=i.edits,r=i.inArray,i=i.prev}else{if(u=l?r?s:o[s]:void 0,null==(c=l?l[u]:f))continue;l&&d.push(u)}var x=void 0;if(!Array.isArray(c)){if(!tK(c))throw Error("Invalid AST Node: ".concat(tG(c,[]),"."));var A=function(e,t,n){var i=e[t];if(i){if(!n&&"function"==typeof i)return i;var r=n?i.leave:i.enter;if("function"==typeof r)return r}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var s=o[t];if("function"==typeof s)return s}}}(t,c.kind,y);if(A){if((x=A.call(t,c,u,l,d,h))===t5)break;if(!1===x){if(!y){d.pop();continue}}else if(void 0!==x&&(a.push([u,x]),!y)){if(tK(x))c=x;else{d.pop();continue}}}}void 0===x&&m&&a.push([u,c]),y?d.pop():(i={inArray:r,index:s,keys:o,edits:a,prev:i},o=(r=Array.isArray(c))?c:null!==(p=n[c.kind])&&void 0!==p?p:[],s=-1,a=[],l&&h.push(l),l=c)}while(void 0!==i);return 0!==a.length&&(f=a[a.length-1][1]),f}(e,{leave:t7})}var t7={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return ne(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,i=nn("(",ne(e.variableDefinitions,", "),")"),r=ne(e.directives," "),o=e.selectionSet;return n||r||i||"query"!==t?ne([t,ne([n,i]),r,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,i=e.defaultValue,r=e.directives;return t+": "+n+nn(" = ",i)+nn(" ",ne(r," "))},SelectionSet:function(e){return nt(e.selections)},Field:function(e){var t=e.alias,n=e.name,i=e.arguments,r=e.directives,o=e.selectionSet,s=nn("",t,": ")+n,a=s+nn("(",ne(i,", "),")");return a.length>80&&(a=s+nn("(\n",ni(ne(i,"\n")),"\n)")),ne([a,ne(r," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+nn(" ",ne(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,i=e.selectionSet;return ne(["...",nn("on ",t),ne(n," "),i]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,i=e.variableDefinitions,r=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(nn("(",ne(i,", "),")")," ")+"on ".concat(n," ").concat(nn("",ne(r," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=-1===e.indexOf("\n"),r=" "===e[0]||"	"===e[0],o='"'===e[e.length-1],s="\\"===e[e.length-1],a=!i||o||s||n,c="";return a&&!(i&&r)&&(c+="\n"+t),c+=t?e.replace(/\n/g,"\n"+t):e,a&&(c+="\n"),'"""'+c.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+ne(e.values,", ")+"]"},ObjectValue:function(e){return"{"+ne(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+nn("(",ne(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:t9(function(e){var t=e.directives,n=e.operationTypes;return ne(["schema",ne(t," "),nt(n)]," ")}),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:t9(function(e){return ne(["scalar",e.name,ne(e.directives," ")]," ")}),ObjectTypeDefinition:t9(function(e){var t=e.name,n=e.interfaces,i=e.directives,r=e.fields;return ne(["type",t,nn("implements ",ne(n," & ")),ne(i," "),nt(r)]," ")}),FieldDefinition:t9(function(e){var t=e.name,n=e.arguments,i=e.type,r=e.directives;return t+(no(n)?nn("(\n",ni(ne(n,"\n")),"\n)"):nn("(",ne(n,", "),")"))+": "+i+nn(" ",ne(r," "))}),InputValueDefinition:t9(function(e){var t=e.name,n=e.type,i=e.defaultValue,r=e.directives;return ne([t+": "+n,nn("= ",i),ne(r," ")]," ")}),InterfaceTypeDefinition:t9(function(e){var t=e.name,n=e.interfaces,i=e.directives,r=e.fields;return ne(["interface",t,nn("implements ",ne(n," & ")),ne(i," "),nt(r)]," ")}),UnionTypeDefinition:t9(function(e){var t=e.name,n=e.directives,i=e.types;return ne(["union",t,ne(n," "),i&&0!==i.length?"= "+ne(i," | "):""]," ")}),EnumTypeDefinition:t9(function(e){var t=e.name,n=e.directives,i=e.values;return ne(["enum",t,ne(n," "),nt(i)]," ")}),EnumValueDefinition:t9(function(e){return ne([e.name,ne(e.directives," ")]," ")}),InputObjectTypeDefinition:t9(function(e){var t=e.name,n=e.directives,i=e.fields;return ne(["input",t,ne(n," "),nt(i)]," ")}),DirectiveDefinition:t9(function(e){var t=e.name,n=e.arguments,i=e.repeatable,r=e.locations;return"directive @"+t+(no(n)?nn("(\n",ni(ne(n,"\n")),"\n)"):nn("(",ne(n,", "),")"))+(i?" repeatable":"")+" on "+ne(r," | ")}),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return ne(["extend schema",ne(t," "),nt(n)]," ")},ScalarTypeExtension:function(e){return ne(["extend scalar",e.name,ne(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,i=e.directives,r=e.fields;return ne(["extend type",t,nn("implements ",ne(n," & ")),ne(i," "),nt(r)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,i=e.directives,r=e.fields;return ne(["extend interface",t,nn("implements ",ne(n," & ")),ne(i," "),nt(r)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,i=e.types;return ne(["extend union",t,ne(n," "),i&&0!==i.length?"= "+ne(i," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,i=e.values;return ne(["extend enum",t,ne(n," "),nt(i)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,i=e.fields;return ne(["extend input",t,ne(n," "),nt(i)]," ")}};function t9(e){return function(t){return ne([t.description,e(t)],"\n")}}function ne(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter(function(e){return e}).join(n))&&void 0!==t?t:""}function nt(e){return nn("{\n",ni(ne(e,"\n")),"\n}")}function nn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function ni(e){return nn("  ",e.replace(/\n/g,"\n  "))}function nr(e){return -1!==e.indexOf("\n")}function no(e){return null!=e&&e.some(nr)}var ns=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function na(e){return x(null==e?void 0:e.then)}function nc(e){return Symbol.asyncIterator&&x(null==e?void 0:e[Symbol.asyncIterator])}function nu(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var nl="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function nd(e){return x(null==e?void 0:e[nl])}function nh(e){return(0,C.FC)(this,arguments,function(){var t,n,i;return(0,C.Jh)(this,function(r){switch(r.label){case 0:t=e.getReader(),r.label=1;case 1:r.trys.push([1,,9,10]),r.label=2;case 2:return[4,(0,C.qq)(t.read())];case 3:if(i=(n=r.sent()).value,!n.done)return[3,5];return[4,(0,C.qq)(void 0)];case 4:return[2,r.sent()];case 5:return[4,(0,C.qq)(i)];case 6:return[4,r.sent()];case 7:return r.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function nf(e){return x(null==e?void 0:e.getReader)}function np(e){if(e instanceof tr)return e;if(null!=e){if(x(e[ti]))return new tr(function(t){var n=e[ti]();if(x(n.subscribe))return n.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")});if(ns(e))return new tr(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()});if(na(e))return new tr(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,M)});if(nc(e))return ny(e);if(nd(e))return new tr(function(t){var n,i;try{for(var r=(0,C.XA)(e),o=r.next();!o.done;o=r.next()){var s=o.value;if(t.next(s),t.closed)return}}catch(e){n={error:e}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}t.complete()});if(nf(e))return ny(nh(e))}throw nu(e)}function ny(e){return new tr(function(t){(function(e,t){var n,i,r,o;return(0,C.mG)(this,void 0,void 0,function(){var s;return(0,C.Jh)(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),n=(0,C.KL)(e),a.label=1;case 1:return[4,n.next()];case 2:if((i=a.sent()).done)return[3,4];if(s=i.value,t.next(s),t.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return r={error:a.sent()},[3,11];case 6:if(a.trys.push([6,,9,10]),!(i&&!i.done&&(o=n.return)))return[3,8];return[4,o.call(n)];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(r)throw r.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}var nm=n(91453),ng=n(75570),nE=n(62044);class nv extends nE._{get response(){return this._response?nb(this._response):void 0}constructor(e){super(e),this.constructor=nv,Object.setPrototypeOf(this,nv.prototype),e.response&&(this._response=e.response)}}let nb=e=>({...e,headers:{...e.headers}});class nS extends nv{constructor(e){super(e),this.constructor=nS,Object.setPrototypeOf(this,nS.prototype)}}class nI extends nS{constructor(e={}){super({name:"CanceledError",message:"Request is canceled by user",...e}),this.constructor=nI,Object.setPrototypeOf(this,nI.prototype)}}let nT=e=>!!e&&e instanceof nI;(m||(m={})).InvalidApiName="InvalidApiName",m.InvalidApiName;var nw=n(54773);let nx=async e=>{if(!e)return;let t=await (0,nw.f)(nA(e));if(t){let n=await e.body?.text();return nC(t,{statusCode:e.statusCode,headers:e.headers,body:n})}},nA=e=>{let t;let n=new Proxy(e.body,{get:(e,n,i)=>"json"===n?async()=>{t||(t=e.text());try{return JSON.parse(await t)}catch(e){return{}}}:"text"===n?async()=>(t||(t=e.text()),t):Reflect.get(e,n,i)});return new Proxy(e,{get:(e,t,i)=>"body"===t?n:Reflect.get(e,t,i)})},nC=(e,t)=>Object.assign(new nS({name:e?.name,message:e.message,underlyingError:e,response:t}),{$metadata:e.$metadata});var n_=n(63446);let nN=new n_.k("RestApis");var nR=n(19154),nO=n(71706);let nP="execute-api",nk=/^.+\.([a-z0-9-]+)\.([a-z0-9-]+)\.amazonaws\.com/,nD=(e,t)=>{let{service:n=nP,region:i="us-east-1"}=t?.amplify.getConfig()?.API?.REST?.[t?.apiName]??{},{hostname:r}=e,[,o,s]=nk.exec(r)??[];return o===nP?{service:o,region:s??i}:"appsync-api"===o?{service:"appsync",region:s??i}:{service:n,region:i}},nM=e=>({retryStrategy:e.libraryOptions?.API?.REST?.retryStrategy,defaultAuthMode:e.libraryOptions?.API?.REST?.defaultAuthMode}),nU=(e,t)=>{let n={};for(let t in e)n[t.toLowerCase()]=e[t];if(t){let e=n["content-type"];e&&(e.startsWith("application/json")||e.startsWith("application/")&&e.includes("+json"))||(n["content-type"]="application/json; charset=UTF-8"),t instanceof FormData&&delete n["content-type"]}return n};var nF=n(52059),nL=n(13968),nB=n(13705);let nq=e=>Object.keys(e).map(e=>e.toLowerCase()).sort().join(";"),n$="aws4_request",nK="AWS4-HMAC-SHA256",nV="UNSIGNED-PAYLOAD",nj=(e,t,n)=>`${e}/${t}/${n}/${n$}`,nG=e=>{let t=e.toISOString().replace(/[:-]|\.\d{3}/g,"");return{longDate:t,shortDate:t.slice(0,8)}},nz=({credentials:e,signingDate:t=new Date,signingRegion:n,signingService:i,uriEscapePath:r=!0})=>{let{accessKeyId:o,secretAccessKey:s,sessionToken:a}=e,{longDate:c,shortDate:u}=nG(t);return{accessKeyId:o,credentialScope:nj(u,n,i),longDate:c,secretAccessKey:s,sessionToken:a,shortDate:u,signingRegion:n,signingService:i,uriEscapePath:r}};var nW=n(74497),nH=n(86688);let nQ=(e,t)=>{let n=new nW.f(e??void 0);return n.update(t),n.digestSync()},nY=(e,t)=>{let n=nQ(e,t);return(0,nH.N)(n)},nX=e=>Object.entries(e).map(([e,t])=>({key:e.toLowerCase(),value:t?.trim().replace(/\s+/g," ")??""})).sort((e,t)=>e.key<t.key?-1:1).map(e=>`${e.key}:${e.value}
`).join(""),nJ=e=>Array.from(e).sort(([e,t],[n,i])=>e===n?t<i?-1:1:e<n?-1:1).map(([e,t])=>`${nZ(e)}=${nZ(t)}`).join("&"),nZ=e=>encodeURIComponent(e).replace(/[!'()*]/g,n0),n0=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,n1=(e,t=!0)=>e?t?encodeURIComponent(e).replace(/%2F/g,"/"):e:"/",n2=e=>null==e?"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855":n4(e)?nY(null,e):nV,n4=e=>e!==nV&&("string"==typeof e||ArrayBuffer.isView(e)||n3(e)),n3=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e),n6=({body:e,headers:t,method:n,url:i},r=!0)=>[n,n1(i.pathname,r),nJ(i.searchParams),nX(t),nq(t),n2(e)].join("\n"),n5=(e,t,n,i)=>{let r=nQ(`AWS4${e}`,t),o=nQ(r,n),s=nQ(o,i);return nQ(s,n$)},n8=(e,t,n)=>[nK,e,t,n].join("\n"),n7=(e,{credentialScope:t,longDate:n,secretAccessKey:i,shortDate:r,signingRegion:o,signingService:s,uriEscapePath:a})=>{let c=n8(n,t,nY(null,n6(e,a)));return nY(n5(i,r,o,s),c)},n9=(e,t)=>{let n=nz(t),{accessKeyId:i,credentialScope:r,longDate:o,sessionToken:s}=n,a={...e.headers};a.host=e.url.host,a["x-amz-date"]=o,s&&(a["x-amz-security-token"]=s);let c={...e,headers:a},u=n7(c,n),l=`Credential=${i}/${r}`,d=`SignedHeaders=${nq(a)}`,h=`Signature=${u}`;return a.authorization=`${nK} ${l}, ${d}, ${h}`,c},ie=e=>new Date(Date.now()+e),it=(e,t)=>Math.abs(ie(t).getTime()-e)>=3e5,ii=(e,t)=>it(e,t)?e-Date.now():t,ir=({headers:e}={})=>e?.date??e?.Date??e?.["x-amz-date"];var io=n(42548);let is=(0,io.V)(nF.S,[nL.n,nB.d,({credentials:e,region:t,service:n,uriEscapePath:i=!0})=>{let r;return(o,s)=>async function(a){r=r??0;let c={credentials:"function"==typeof e?await e({forceRefresh:!!s?.isCredentialsExpired}):e,signingDate:ie(r),signingRegion:t,signingService:n,uriEscapePath:i},u=await n9(a,c),l=await o(u),d=ir(l);return d&&(r=ii(Date.parse(d),r)),l}}]),ia=(0,io.V)(nF.S,[nL.n,nB.d]),ic=async(e,t,n,i)=>{let r;let{url:o,method:s,headers:a,body:c,withCredentials:u,abortSignal:l,retryStrategy:d}=t,h=c?c instanceof FormData?c:JSON.stringify(c??""):void 0,f={url:o,headers:nU(a,c),method:s,body:h},{retryStrategy:p,defaultAuthMode:y}=nM(e),m={retryDecider:iu(d??p),computeDelay:nR.k,withCrossDomainCredentials:u,abortSignal:l},g=t.defaultAuthMode??y,E=null;if("none"!==g&&(E=await il(e)),n(f,i)&&E){let e=nD(o),t=i?.service??e.service,n=i?.region??e.region;r=await is(f,{...m,credentials:E,region:n,service:t})}else r=await ia(f,{...m});return{statusCode:r.statusCode,headers:r.headers,body:r.body}},iu=e=>"no-retry"===e?.strategy?()=>Promise.resolve({retryable:!1}):(0,nO.j)(nx),il=async e=>{try{let{credentials:t}=await e.Auth.fetchAuthSession();if(t)return t}catch(e){nN.debug("No credentials available, the request will be unsigned.")}return null},id=({headers:e},t)=>!e.authorization&&!e["x-api-key"]&&!!t,ih=new WeakMap,ip=(e,{url:t,options:n,abortController:i})=>{let r=i??new AbortController,o=(function(e,t,n,i){let r;let o=t.signal;if(null!=i){if(i<0)throw Error("Timeout must be a non-negative number");setTimeout(()=>{r="TimeoutError",t.abort(r)},i)}let s=async()=>{try{let t=await e();if(t.statusCode>=300)throw await nx(t);return t}catch(e){if("AbortError"===e.name||o?.aborted===!0){if(r&&"TimeoutError"===r){let e=Error(`Request timeout after ${i}ms`);throw e.name="TimeoutError",nN.debug(e),e}{let t=r??o.reason,n=new nI({...t&&{message:t},underlyingError:e,recoverySuggestion:"The API request was explicitly canceled. If this is not intended, validate if you called the `cancel()` function on the API request erroneously."});throw nN.debug(n),n}}throw nN.debug(e),e}};return"internal"===n?s():{response:s(),cancel:e=>{!0!==o.aborted&&(t.abort(e),e&&o.reason!==e&&(r=e))}}})(async()=>ic(e,{url:t,method:"POST",...n,abortSignal:r.signal,retryStrategy:{strategy:"jittered-exponential-backoff"}},id,n?.signingServiceInfo),r,"internal").finally(()=>{ih.delete(o)});return o},iy=(e,t)=>{let n=ih.get(e);return!!n&&(n.abort(t),t&&n.signal.reason!==t&&(n.signal.reason=t),!0)},im=(e,t)=>{ih.set(e,t)};var ig=n(41442);let iE=[400,401,403],iv=["BadRequestException","UnauthorizedException"];(a=g||(g={})).GQL_CONNECTION_INIT="connection_init",a.GQL_CONNECTION_ERROR="connection_error",a.GQL_CONNECTION_ACK="connection_ack",a.GQL_START="start",a.GQL_START_ACK="start_ack",a.DATA="data",a.GQL_CONNECTION_KEEP_ALIVE="ka",a.GQL_STOP="stop",a.GQL_COMPLETE="complete",a.GQL_ERROR="error",a.EVENT_SUBSCRIBE="subscribe",a.EVENT_PUBLISH="publish",a.EVENT_SUBSCRIBE_ACK="subscribe_success",a.EVENT_PUBLISH_ACK="publish_success",a.EVENT_STOP="unsubscribe",a.EVENT_COMPLETE="unsubscribe_success",a.EVENT_SUBSCRIBE_ERROR="subscribe_error",(c=E||(E={}))[c.PENDING=0]="PENDING",c[c.CONNECTED=1]="CONNECTED",c[c.FAILED=2]="FAILED",(u=v||(v={}))[u.CLOSED=0]="CLOSED",u[u.READY=1]="READY",u[u.CONNECTING=2]="CONNECTING";let ib={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"};class iS extends Error{constructor(){super(...arguments),this.nonRetryable=!0}}var iI=n(67787);let iT=e=>e&&e.nonRetryable;var iw=n(86530),ix=n(71941),iA=n(7926);let iC=new n_.k("retryUtil");async function i_(e,t,n,i){if("function"!=typeof e)throw Error("functionToRetry must be a function");return new Promise(async(r,o)=>{let s,a,c=0,u=!1,l=()=>{};for(i&&i.then(()=>{u=!0,clearTimeout(s),l()});!u;){c++,iC.debug(`${e.name} attempt #${c} with this vars: ${JSON.stringify(t)}`);try{r(await e(...t));return}catch(r){if(a=r,iC.debug(`error on ${e.name}`,r),iT(r)){iC.debug(`${e.name} non retryable error`,r),o(r);return}let i=n(c,t,r);if(iC.debug(`${e.name} retrying in ${i} ms`),!1===i||u){o(r);return}await new Promise(e=>{s=setTimeout(l=e,i)})}}o(a)})}let iN=(e,t,n=ix.t,i)=>i_(e,t,(0,iA.k)(n),i);function iR(e,t,n,i,r){void 0===i&&(i=0),void 0===r&&(r=!1);var o=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function iO(e,t){return void 0===t&&(t=0),A(function(n,i){n.subscribe(H(i,function(n){return iR(i,e,function(){return i.next(n)},t)},function(){return iR(i,e,function(){return i.complete()},t)},function(n){return iR(i,e,function(){return i.error(n)},t)}))})}function iP(e,t){return void 0===t&&(t=0),A(function(n,i){i.add(e.schedule(function(){return n.subscribe(i)},t))})}function ik(e,t){if(!e)throw Error("Iterable cannot be null");return new tr(function(n){iR(n,t,function(){var i=e[Symbol.asyncIterator]();iR(n,t,function(){i.next().then(function(e){e.done?n.complete():n.next(e.value)})},0,!0)})})}(l=b||(b={})).CONNECTION_CLOSED="Connection closed",l.CONNECTION_FAILED="Connection failed",l.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",l.SUBSCRIPTION_ACK="Subscription ack",l.TIMEOUT_DISCONNECT="Timeout disconnect",(d=S||(S={})).Connected="Connected",d.ConnectedPendingNetwork="ConnectedPendingNetwork",d.ConnectionDisrupted="ConnectionDisrupted",d.ConnectionDisruptedPendingNetwork="ConnectionDisruptedPendingNetwork",d.Connecting="Connecting",d.ConnectedPendingDisconnect="ConnectedPendingDisconnect",d.Disconnected="Disconnected",d.ConnectedPendingKeepAlive="ConnectedPendingKeepAlive";let iD=()=>{if("undefined"==typeof self)return!1;let e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope};class iM{networkMonitor(e){let t=iD()?self:"undefined"!=typeof window&&window;if(!t){var n,i;return n=[{online:!0}],i?function(e,t){if(null!=e){if(x(e[ti]))return np(e).pipe(iP(t),iO(t));if(ns(e))return new tr(function(n){var i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})});if(na(e))return np(e).pipe(iP(t),iO(t));if(nc(e))return ik(e,t);if(nd(e))return new tr(function(n){var i;return iR(n,t,function(){i=e[nl](),iR(n,t,function(){var e,t,r;try{t=(e=i.next()).value,r=e.done}catch(e){n.error(e);return}r?n.complete():n.next(t)},0,!0)}),function(){return x(null==i?void 0:i.return)&&i.return()}});if(nf(e))return ik(nh(e),t)}throw nu(e)}(n,i):np(n)}return new tr(e=>{e.next({online:t.navigator.onLine});let n=()=>{e.next({online:!0})},i=()=>{e.next({online:!1})};return t.addEventListener("online",n),t.addEventListener("offline",i),iM._observers.push(e),()=>{t.removeEventListener("online",n),t.removeEventListener("offline",i),iM._observers=iM._observers.filter(t=>t!==e)}})}static _observerOverride(e){for(let t of this._observers){if(t.closed){this._observers=this._observers.filter(e=>e!==t);continue}t?.next&&t.next(e)}}}iM._observers=[];let iU=()=>new iM().networkMonitor(),iF={KEEP_ALIVE_MISSED:{keepAliveState:"unhealthy"},KEEP_ALIVE:{keepAliveState:"healthy"},CONNECTION_ESTABLISHED:{connectionState:"connected"},CONNECTION_FAILED:{intendedConnectionState:"disconnected",connectionState:"disconnected"},CLOSING_CONNECTION:{intendedConnectionState:"disconnected"},OPENING_CONNECTION:{intendedConnectionState:"connected",connectionState:"connecting"},CLOSED:{connectionState:"disconnected"},ONLINE:{networkState:"connected"},OFFLINE:{networkState:"disconnected"}};class iL{constructor(){this._networkMonitoringSubscription=void 0,this._linkedConnectionState={networkState:"connected",connectionState:"disconnected",intendedConnectionState:"disconnected",keepAliveState:"healthy"},this._initialNetworkStateSubscription=iU().subscribe(({online:e})=>{this.record(e?iF.ONLINE:iF.OFFLINE),this._initialNetworkStateSubscription?.unsubscribe()}),this._linkedConnectionStateObservable=new tr(e=>{e.next(this._linkedConnectionState),this._linkedConnectionStateObserver=e})}enableNetworkMonitoring(){this._initialNetworkStateSubscription?.unsubscribe(),void 0===this._networkMonitoringSubscription&&(this._networkMonitoringSubscription=iU().subscribe(({online:e})=>{this.record(e?iF.ONLINE:iF.OFFLINE)}))}disableNetworkMonitoring(){this._networkMonitoringSubscription?.unsubscribe(),this._networkMonitoringSubscription=void 0}get connectionStateObservable(){var e;let t;return this._linkedConnectionStateObservable.pipe(Y(e=>this.connectionStatesTranslator(e))).pipe((e=e=>{let n=e!==t;return t=e,n},A(function(t,n){var i=0;t.subscribe(H(n,function(t){return e.call(void 0,t,i++)&&n.next(t)}))})))}record(e){"connected"===e.intendedConnectionState?this.enableNetworkMonitoring():"disconnected"===e.intendedConnectionState&&this.disableNetworkMonitoring();let t={...this._linkedConnectionState,...e};this._linkedConnectionState={...t},this._linkedConnectionStateObserver?.next(this._linkedConnectionState)}connectionStatesTranslator({connectionState:e,networkState:t,intendedConnectionState:n,keepAliveState:i}){return"connected"===e&&"disconnected"===t?S.ConnectedPendingNetwork:"connected"===e&&"disconnected"===n?S.ConnectedPendingDisconnect:"disconnected"===e&&"connected"===n&&"disconnected"===t?S.ConnectionDisruptedPendingNetwork:"disconnected"===e&&"connected"===n?S.ConnectionDisrupted:"connected"===e&&"unhealthy"===i?S.ConnectedPendingKeepAlive:"connecting"===e?S.Connecting:"disconnected"===e?S.Disconnected:S.Connected}}(h=I||(I={})).START_RECONNECT="START_RECONNECT",h.HALT_RECONNECT="HALT_RECONNECT";class iB{constructor(){this.reconnectObservers=[]}addObserver(e){this.reconnectObservers.push(e)}record(e){e===I.START_RECONNECT&&void 0===this.reconnectSetTimeoutId&&void 0===this.reconnectIntervalId&&(this.reconnectSetTimeoutId=setTimeout(()=>{this._triggerReconnect(),this.reconnectIntervalId=setInterval(()=>{this._triggerReconnect()},6e4)},5e3)),e===I.HALT_RECONNECT&&(this.reconnectIntervalId&&(clearInterval(this.reconnectIntervalId),this.reconnectIntervalId=void 0),this.reconnectSetTimeoutId&&(clearTimeout(this.reconnectSetTimeoutId),this.reconnectSetTimeoutId=void 0))}close(){this.reconnectObservers.forEach(e=>{e.complete?.()})}_triggerReconnect(){this.reconnectObservers.forEach(e=>{e.next?.()})}}let iq="wss://",i$=/^https:\/\/\w{26}\.appsync-api\.\w{2}(?:(?:-\w{2,})+)-\d\.amazonaws.com(?:\.cn)?\/graphql$/i,iK=/^https:\/\/\w{26}\.\w+-api\.\w{2}(?:(?:-\w{2,})+)-\d\.amazonaws.com(?:\.cn)?\/event$/i,iV="/realtime",ij=e=>null===e.match(i$),iG=e=>null!==e.match(iK),iz=e=>{let t=e??"";return t=(t=iG(t)?t.concat(iV).replace("ddpg-api","grt-gamma").replace("appsync-api","appsync-realtime-api"):ij(t)?t.concat(iV):t.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta").replace("ddpg-api","grt-gamma")).replace("https://",iq).replace("http://",iq),new nm.a(t)},iW=e=>{if(!e)return{};if("Authorization"in e){let{Authorization:t,...n}=e;return n}return e},iH=e=>{let t=iW(e),n=new nm.z;return Object.entries(t).forEach(([e,t])=>{n.append(e,t)}),n},iQ=(e,t)=>{let n=iz(e),i=new nm.z(n.search);for(let[e,n]of t.entries())i.append(e,n);return n.search=i.toString(),n.toString()},iY=async e=>{let{appSyncGraphqlEndpoint:t,query:n,libraryConfigHeaders:i=()=>({}),additionalHeaders:r={},authToken:o}=e,s={},a=await i();return s="function"==typeof r?await r({url:t||"",queryString:n||""}):r,o&&(s={...s,Authorization:o}),{additionalCustomHeaders:s,libraryConfigHeaders:a}};var iX=n(59490);let iJ=new n_.k("AWSAppSyncRealTimeProvider Auth"),iZ=async({host:e})=>{let t=await (0,iX.y)();return{Authorization:t?.tokens?.accessToken?.toString(),host:e}},i0=async({apiKey:e,host:t})=>({host:t,"x-amz-date":new Date().toISOString().replace(/[:-]|\.\d{3}/g,""),"x-api-key":e}),i1=async({payload:e,canonicalUri:t,appSyncGraphqlEndpoint:n,region:i})=>{let r={region:i,service:"appsync"},o=(await (0,iX.y)()).credentials,s={url:`${n}${t}`,data:e,method:"POST",headers:{...ib}};return n9({headers:s.headers,method:s.method,url:new nm.a(s.url),body:s.data},{credentials:o,signingRegion:r.region,signingService:r.service}).headers},i2=async({host:e,additionalCustomHeaders:t})=>{if(!t?.Authorization)throw Error("No auth token specified");return{Authorization:t.Authorization,host:e}},i4=async({apiKey:e,authenticationType:t,canonicalUri:n,appSyncGraphqlEndpoint:i,region:r,additionalCustomHeaders:o,payload:s})=>{let a={apiKey:i0,iam:i1,oidc:iZ,userPool:iZ,lambda:i2,none:i2};if(t&&a[t]){let c=a[t],u=i?new nm.a(i).host:void 0;return iJ.debug(`Authenticating with ${JSON.stringify(t)}`),await c({payload:s,canonicalUri:n,appSyncGraphqlEndpoint:i,apiKey:"apiKey"===t?e:void 0,region:r,host:u,additionalCustomHeaders:o})}iJ.debug(`Authentication type ${t} not supported`)},i3=e=>{w.Xb.dispatch("api",e,"PubSub",w.SQ)};class i6{constructor(e){this.subscriptionObserverMap=new Map,this.allowNoSubscriptions=!1,this.socketStatus=v.CLOSED,this.keepAliveTimestamp=Date.now(),this.promiseArray=[],this.connectionStateMonitor=new iL,this.reconnectionMonitor=new iB,this._establishConnection=async(e,t)=>{this.logger.debug(`Establishing WebSocket connection to ${e}`);try{await this._openConnection(e,t),await this._initiateHandshake()}catch(n){let{errorType:e,errorCode:t}=n;if(iE.includes(t)||iv.includes(e))throw new iS(e);if(e)throw Error(e);throw n}},this.logger=new n_.k(e.providerName),this.wsProtocolName=e.wsProtocolName,this.wsConnectUri=e.connectUri,this.connectionStateMonitorSubscription=this._startConnectionStateMonitoring()}close(){return this.socketStatus=v.CLOSED,this.connectionStateMonitor.record(iF.CONNECTION_FAILED),this.connectionStateMonitorSubscription.unsubscribe(),this.reconnectionMonitor.close(),new Promise((e,t)=>{this.awsRealTimeSocket?(this.awsRealTimeSocket.onclose=t=>{this._closeSocket(),this.subscriptionObserverMap=new Map,this.awsRealTimeSocket=void 0,e()},this.awsRealTimeSocket.onerror=e=>{t(e)},this.awsRealTimeSocket.close()):e()})}subscribe(e,t){return new tr(n=>{if(!e?.appSyncGraphqlEndpoint){n.error({errors:[{...new tD("Subscribe only available for AWS AppSync endpoint")}]}),n.complete();return}let i=!1,r=(0,iI.r)(),o=()=>{i||(i=!0,this._startSubscriptionWithAWSAppSyncRealTime({options:e,observer:n,subscriptionId:r,customUserAgentDetails:t}).catch(e=>{this.logger.debug(`${b.REALTIME_SUBSCRIPTION_INIT_ERROR}: ${e}`),this._closeSocket()}).finally(()=>{i=!1}))},s=new tr(e=>{this.reconnectionMonitor.addObserver(e)}).subscribe(()=>{o()});return o(),async()=>{await this._cleanupSubscription(r,s)}})}async connect(e){this.socketStatus!==v.READY&&await this._connectWebSocket(e)}async publish(e,t){if(this.socketStatus!==v.READY)throw Error("Subscription has not been initialized");return this._publishMessage(e,t)}async _connectWebSocket(e){let{apiKey:t,appSyncGraphqlEndpoint:n,authenticationType:i,region:r}=e,{additionalCustomHeaders:o}=await iY(e);this.connectionStateMonitor.record(iF.OPENING_CONNECTION),await this._initializeWebSocketConnection({apiKey:t,appSyncGraphqlEndpoint:n,authenticationType:i,region:r,additionalCustomHeaders:o})}async _publishMessage(e,t){let n=(0,iI.r)(),{additionalCustomHeaders:i,libraryConfigHeaders:r}=await iY(e),o=await this._prepareSubscriptionPayload({options:e,subscriptionId:n,customUserAgentDetails:t,additionalCustomHeaders:i,libraryConfigHeaders:r,publish:!0});return new Promise((e,t)=>{if(this.awsRealTimeSocket){let i=r=>{let o=JSON.parse(r.data);if(o.id===n&&"publish_success"===o.type&&(this.awsRealTimeSocket&&this.awsRealTimeSocket.removeEventListener("message",i),a(),e()),o.errors&&o.errors.length>0){let e=o.errors.map(e=>e.errorType);a(),t(Error(`Publish errors: ${e.join(", ")}`))}},r=e=>{a(),t(Error(`WebSocket error: ${e}`))},s=()=>{a(),t(Error("WebSocket is closed"))},a=()=>{this.awsRealTimeSocket?.removeEventListener("message",i),this.awsRealTimeSocket?.removeEventListener("error",r),this.awsRealTimeSocket?.removeEventListener("close",s)};this.awsRealTimeSocket.addEventListener("message",i),this.awsRealTimeSocket.addEventListener("error",r),this.awsRealTimeSocket.addEventListener("close",s),this.awsRealTimeSocket.send(o)}else t(Error("WebSocket is not connected"))})}async _cleanupSubscription(e,t){t?.unsubscribe();try{await this._waitForSubscriptionToBeConnected(e);let{subscriptionState:t}=this.subscriptionObserverMap.get(e)||{};if(!t)return;if(t===E.CONNECTED)this._sendUnsubscriptionMessage(e);else throw Error("Subscription never connected")}catch(e){this.logger.debug(`Error while unsubscribing ${e}`)}finally{this._removeSubscriptionObserver(e)}}_startConnectionStateMonitoring(){return this.connectionStateMonitor.connectionStateObservable.subscribe(e=>{i3({event:"ConnectionStateChange",data:{provider:this,connectionState:e},message:`Connection state is ${e}`}),this.connectionState=e,e===S.ConnectionDisrupted&&this.reconnectionMonitor.record(I.START_RECONNECT),[S.Connected,S.ConnectedPendingDisconnect,S.ConnectedPendingKeepAlive,S.ConnectedPendingNetwork,S.ConnectionDisruptedPendingNetwork,S.Disconnected].includes(e)&&this.reconnectionMonitor.record(I.HALT_RECONNECT)})}async _startSubscriptionWithAWSAppSyncRealTime({options:e,observer:t,subscriptionId:n,customUserAgentDetails:i}){let{query:r,variables:o}=e;this.subscriptionObserverMap.set(n,{observer:t,query:r??"",variables:o??{},subscriptionState:E.PENDING,startAckTimeoutId:void 0});let{additionalCustomHeaders:s,libraryConfigHeaders:a}=await iY(e),c=await this._prepareSubscriptionPayload({options:e,subscriptionId:n,customUserAgentDetails:i,additionalCustomHeaders:s,libraryConfigHeaders:a});try{await this._connectWebSocket(e)}catch(e){this._logStartSubscriptionError(n,t,e);return}let{subscriptionFailedCallback:u,subscriptionReadyCallback:l}=this.subscriptionObserverMap.get(n)??{};this.subscriptionObserverMap.set(n,{observer:t,subscriptionState:E.PENDING,query:r??"",variables:o??{},subscriptionReadyCallback:l,subscriptionFailedCallback:u,startAckTimeoutId:setTimeout(()=>{this._timeoutStartSubscriptionAck(n)},15e3)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(c)}_logStartSubscriptionError(e,t,n){this.logger.debug({err:n});let i=String(n.message??"");if(this._closeSocket(),this.connectionState!==S.ConnectionDisruptedPendingNetwork){iT(n)?t.error({errors:[{...new tD(`${b.CONNECTION_FAILED}: ${i}`)}]}):this.logger.debug(`${b.CONNECTION_FAILED}: ${i}`);let{subscriptionFailedCallback:r}=this.subscriptionObserverMap.get(e)||{};"function"==typeof r&&r()}}async _waitForSubscriptionToBeConnected(e){let t=this.subscriptionObserverMap.get(e);if(t){let{subscriptionState:n}=t;if(n===E.PENDING)return new Promise((n,i)=>{let{observer:r,subscriptionState:o,variables:s,query:a}=t;this.subscriptionObserverMap.set(e,{observer:r,subscriptionState:o,variables:s,query:a,subscriptionReadyCallback:n,subscriptionFailedCallback:i})})}}_sendUnsubscriptionMessage(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===v.READY){let t=this._unsubscribeMessage(e),n=JSON.stringify(t);this.awsRealTimeSocket.send(n)}}catch(e){this.logger.debug({err:e})}}_removeSubscriptionObserver(e){this.subscriptionObserverMap.delete(e),this.allowNoSubscriptions||setTimeout(this._closeSocketIfRequired.bind(this),1e3)}_closeSocketIfRequired(){if(!(this.subscriptionObserverMap.size>0)){if(!this.awsRealTimeSocket){this.socketStatus=v.CLOSED;return}if(this.connectionStateMonitor.record(iF.CLOSING_CONNECTION),this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{this.logger.debug("closing WebSocket...");let e=this.awsRealTimeSocket;e.onclose=null,e.onerror=null,e.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=v.CLOSED,this._closeSocket()}}}maintainKeepAlive(){this.keepAliveTimestamp=Date.now()}keepAliveHeartbeat(e){let t=Date.now();t-this.keepAliveTimestamp>65e3?this.connectionStateMonitor.record(iF.KEEP_ALIVE_MISSED):this.connectionStateMonitor.record(iF.KEEP_ALIVE),t-this.keepAliveTimestamp>e&&this._errorDisconnect(b.TIMEOUT_DISCONNECT)}_handleIncomingSubscriptionMessage(e){if("string"!=typeof e.data)return;let[t,n]=this._handleSubscriptionData(e);if(t){this.maintainKeepAlive();return}let{type:i,id:r,payload:o}=n,{observer:s=null,query:a="",variables:c={},startAckTimeoutId:u,subscriptionReadyCallback:l,subscriptionFailedCallback:d}=this.subscriptionObserverMap.get(r)||{};if(i===g.GQL_START_ACK||i===g.EVENT_SUBSCRIBE_ACK){this.logger.debug(`subscription ready for ${JSON.stringify({query:a,variables:c})}`),"function"==typeof l&&l(),u&&clearTimeout(u),i3({event:b.SUBSCRIPTION_ACK,data:{query:a,variables:c},message:"Connection established for subscription"});let e=E.CONNECTED;s&&this.subscriptionObserverMap.set(r,{observer:s,query:a,variables:c,startAckTimeoutId:void 0,subscriptionState:e,subscriptionReadyCallback:l,subscriptionFailedCallback:d}),this.connectionStateMonitor.record(iF.CONNECTION_ESTABLISHED);return}if(i===g.GQL_CONNECTION_KEEP_ALIVE){this.maintainKeepAlive();return}if(i===g.GQL_ERROR||i===g.EVENT_SUBSCRIBE_ERROR){let t=E.FAILED;if(s){this.subscriptionObserverMap.set(r,{observer:s,query:a,variables:c,startAckTimeoutId:u,subscriptionReadyCallback:l,subscriptionFailedCallback:d,subscriptionState:t});let h=JSON.stringify(o??n);if(i===g.EVENT_SUBSCRIBE_ERROR){let{errors:t}=JSON.parse(String(e.data));if(Array.isArray(t)&&t.length>0){let e=t[0];h=`${e.errorType}: ${e.message}`}}this.logger.debug(`${b.CONNECTION_FAILED}: ${h}`),s.error({errors:[{...new tD(`${b.CONNECTION_FAILED}: ${h}`)}]}),u&&clearTimeout(u),"function"==typeof d&&d()}}}_errorDisconnect(e){this.logger.debug(`Disconnect error: ${e}`),this.awsRealTimeSocket&&(this._closeSocket(),this.awsRealTimeSocket.close()),this.socketStatus=v.CLOSED}_closeSocket(){this.keepAliveHeartbeatIntervalId&&(clearInterval(this.keepAliveHeartbeatIntervalId),this.keepAliveHeartbeatIntervalId=void 0),this.connectionStateMonitor.record(iF.CLOSED)}_timeoutStartSubscriptionAck(e){let t=this.subscriptionObserverMap.get(e);if(t){let{observer:n,query:i,variables:r}=t;if(!n)return;this.subscriptionObserverMap.set(e,{observer:n,query:i,variables:r,subscriptionState:E.FAILED}),this._closeSocket(),this.logger.debug("timeoutStartSubscription",JSON.stringify({query:i,variables:r}))}}_initializeWebSocketConnection({appSyncGraphqlEndpoint:e,authenticationType:t,apiKey:n,region:i,additionalCustomHeaders:r}){if(this.socketStatus!==v.READY)return new Promise(async(o,s)=>{if(this.promiseArray.push({res:o,rej:s}),this.socketStatus===v.CLOSED)try{this.socketStatus=v.CONNECTING;let o=await i4({authenticationType:t,payload:"{}",canonicalUri:this.wsConnectUri,apiKey:n,appSyncGraphqlEndpoint:e,region:i,additionalCustomHeaders:r}),s=o?JSON.stringify(o):"",a=iw.u.convert(s,{urlSafe:!0,skipPadding:!0}),c=`header-${a}`,u=iH(r),l=iQ(e,u);await this._establishRetryableConnection(l,c),this.promiseArray.forEach(({res:e})=>{this.logger.debug("Notifying connection successful"),e()}),this.socketStatus=v.READY,this.promiseArray=[]}catch(e){this.logger.debug("Connection exited with",e),this.promiseArray.forEach(({rej:t})=>{t(e)}),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=v.CLOSED}})}async _establishRetryableConnection(e,t){this.logger.debug("Establishing retryable connection"),await iN(this._establishConnection.bind(this),[e,t],5e3)}async _openConnection(e,t){return new Promise((n,i)=>{let r=this._getNewWebSocket(e,[this.wsProtocolName,t]);r.onerror=()=>{this.logger.debug("WebSocket connection error")},r.onclose=()=>{this._closeSocket(),i(Error("Connection handshake error"))},r.onopen=()=>{this.awsRealTimeSocket=r,n()}})}_getNewWebSocket(e,t){return new WebSocket(e,t)}async _initiateHandshake(){return new Promise((e,t)=>{if(!this.awsRealTimeSocket){t(Error("awsRealTimeSocket undefined"));return}let n=!1;this.awsRealTimeSocket.onerror=e=>{this.logger.debug(`WebSocket error ${JSON.stringify(e)}`)},this.awsRealTimeSocket.onclose=e=>{this.logger.debug(`WebSocket closed ${e.reason}`),this._closeSocket(),t(Error(JSON.stringify(e)))},this.awsRealTimeSocket.onmessage=i=>{if("string"!=typeof i.data)return;this.logger.debug(`subscription message from AWS AppSyncRealTime: ${i.data} `);let r=JSON.parse(i.data),{type:o}=r,s=this._extractConnectionTimeout(r);if(o===g.GQL_CONNECTION_ACK){n=!0,this._registerWebsocketHandlers(s),e("Connected to AWS AppSyncRealTime");return}if(o===g.GQL_CONNECTION_ERROR){let{errorType:e,errorCode:n}=this._extractErrorCodeAndType(r);t({errorType:e,errorCode:n})}};let i={type:g.GQL_CONNECTION_INIT};this.awsRealTimeSocket.send(JSON.stringify(i));let r=e=>{e||(this.connectionStateMonitor.record(iF.CONNECTION_FAILED),t(Error("Connection timeout: ack from AWSAppSyncRealTime was not received after 15000 ms")))};setTimeout(()=>{r(n)},15e3)})}_registerWebsocketHandlers(e){this.awsRealTimeSocket&&(this.keepAliveHeartbeatIntervalId=setInterval(()=>{this.keepAliveHeartbeat(e)},5e3),this.awsRealTimeSocket.onmessage=this._handleIncomingSubscriptionMessage.bind(this),this.awsRealTimeSocket.onerror=e=>{this.logger.debug(e),this._errorDisconnect(b.CONNECTION_CLOSED)},this.awsRealTimeSocket.onclose=e=>{this.logger.debug(`WebSocket closed ${e.reason}`),this._closeSocket(),this._errorDisconnect(b.CONNECTION_CLOSED)})}}let i5="AWSAppSyncRealTimeProvider";class i8 extends i6{constructor(){super({providerName:i5,wsProtocolName:"graphql-ws",connectUri:"/connect"})}getProviderName(){return i5}subscribe(e,t){return super.subscribe(e,t)}async _prepareSubscriptionPayload({options:e,subscriptionId:t,customUserAgentDetails:n,additionalCustomHeaders:i,libraryConfigHeaders:r}){let{appSyncGraphqlEndpoint:o,authenticationType:s,query:a,variables:c,apiKey:u,region:l}=e,d=JSON.stringify({query:a,variables:c}),h={...await i4({apiKey:u,appSyncGraphqlEndpoint:o,authenticationType:s,payload:d,canonicalUri:"",region:l,additionalCustomHeaders:i}),...r,...i,[ig.Mt]:(0,ng.Zm)(n)};return JSON.stringify({id:t,payload:{data:d,extensions:{authorization:{...h}}},type:g.GQL_START})}_handleSubscriptionData(e){this.logger.debug(`subscription message from AWS AppSync RealTime: ${e.data}`);let{id:t="",payload:n,type:i}=JSON.parse(String(e.data)),{observer:r=null,query:o="",variables:s={}}=this.subscriptionObserverMap.get(t)||{};return(this.logger.debug({id:t,observer:r,query:o,variables:s}),i===g.DATA&&n&&n.data)?(r?r.next(n):this.logger.debug(`observer not found for id: ${t}`),[!0,{id:t,type:i,payload:n}]):[!1,{id:t,type:i,payload:n}]}_unsubscribeMessage(e){return{id:e,type:g.GQL_STOP}}_extractConnectionTimeout(e){let{payload:{connectionTimeoutMs:t=3e5}={}}=e;return t}_extractErrorCodeAndType(e){let{payload:{errors:[{errorType:t="",errorCode:n=0}={}]=[]}={}}=e;return{errorCode:n,errorType:t}}}class i7 extends nE._{constructor(e){super(e),this.constructor=i7,Object.setPrototypeOf(this,i7.prototype)}}(f=T||(T={})).NoAuthSession="NoAuthSession",f.NoRegion="NoRegion",f.NoCustomEndpoint="NoCustomEndpoint";let i9={[T.NoAuthSession]:{message:"Auth session should not be empty."},[T.NoRegion]:{message:"Missing region."},[T.NoCustomEndpoint]:{message:"Custom endpoint region is present without custom endpoint."}},re=new n_.k("GraphQLAPI resolveConfig"),rt=e=>{let t=e.getConfig();t.API?.GraphQL||re.warn("The API configuration is missing. This is likely due to Amplify.configure() not being called prior to generateClient().");let{apiKey:n,customEndpoint:i,customEndpointRegion:r,defaultAuthMode:o,endpoint:s,region:a}=t.API?.GraphQL??{};return!function(e,t){let{message:n,recoverySuggestion:i}=i9[t];if(!e)throw new i7({name:t,message:n,recoverySuggestion:i})}(!(!i&&r),T.NoCustomEndpoint),{apiKey:n,customEndpoint:i,customEndpointRegion:r,defaultAuthMode:o,endpoint:s,region:a}},rn=e=>({headers:e.libraryOptions?.API?.GraphQL?.headers,withCredentials:e.libraryOptions?.API?.GraphQL?.withCredentials});function ri(e){return e.errors&&Array.isArray(e.errors)&&e.errors.forEach(e=>{(e?.originalError?.name?.startsWith("UnauthorizedException")||e.message?.startsWith("Connection failed:")&&e.message?.includes("Permission denied"))&&(e.message="Unauthorized",e.recoverySuggestion="If you're calling an Amplify-generated API, make sure to set the \"authMode\" in generateClient({ authMode: '...' }) to the backend authorization rule's auth provider ('apiKey', 'userPool', 'iam', 'oidc', 'lambda')")}),e}let rr={name:"NoApiKey",message:y.NO_API_KEY,recoverySuggestion:'The API request was made with `authMode: "apiKey"` but no API Key was passed into `Amplify.configure()`. Review if your API key is passed into the `Amplify.configure()` function.'},ro={name:"NoCredentials",message:y.NO_CREDENTIALS,recoverySuggestion:`The API request was made with \`authMode: "iam"\` but no authentication credentials are available.

If you intended to make a request using an authenticated role, review if your user is signed in before making the request.

If you intend to make a request using an unauthenticated role or also known as "guest access", verify if "Auth.Cognito.allowGuestAccess" is set to "true" in the \`Amplify.configure()\` function.`},rs={name:"NoValidAuthTokens",message:y.NO_FEDERATED_JWT,recoverySuggestion:"If you intended to make an authenticated API request, review if the current user is signed in."},ra={name:"NoSignedUser",message:y.NO_CURRENT_USER,recoverySuggestion:"Review the underlying exception field for more details. If you intended to make an authenticated API request, review if the current user is signed in."},rc={name:"NoAuthorizationHeader",message:y.NO_AUTH_TOKEN,recoverySuggestion:'The API request was made with `authMode: "lambda"` but no `authToken` is set. Review if a valid authToken is passed into the request options or in the `Amplify.configure()` function.'},ru={name:"NoEndpoint",message:"No GraphQL endpoint configured in `Amplify.configure()`.",recoverySuggestion:"Review if the GraphQL API endpoint is set in the `Amplify.configure()` function."},rl=e=>({data:{},errors:[new tD(e.message,null,null,null,null,e)]});async function rd(e,t,n,i={}){let r={};switch(t){case"apiKey":if(!n)throw new i7(rr);r={"X-Api-Key":n};break;case"iam":if(void 0===(await e.Auth.fetchAuthSession()).credentials)throw new i7(ro);break;case"oidc":case"userPool":{let t;try{t=(await e.Auth.fetchAuthSession()).tokens?.accessToken.toString()}catch(e){throw new i7({...ra,underlyingError:e})}if(!t)throw new i7(rs);r={Authorization:t};break}case"lambda":if("object"==typeof i&&!i.Authorization)throw new i7(rc);r={Authorization:i.Authorization}}return r}let rh=e=>"function"!=typeof e;class rf{constructor(){this.appSyncRealTime=new Map,this._api={post:ip,cancelREST:iy,isCancelErrorREST:nT,updateRequestToBeCancellable:im}}getModuleName(){return"InternalGraphQLAPI"}getGraphqlOperationType(e){let[{operation:t}]=t1(e).definitions;return t}graphql(e,{query:t,variables:n={},authMode:i,authToken:r,endpoint:o,apiKey:s},a,c){let u="string"==typeof t?t1(t):t1(t8(t)),[l={}]=u.definitions.filter(e=>"OperationDefinition"===e.kind),{operation:d}=l,h=a||{};switch(d){case"query":case"mutation":{let t;let a=new AbortController;return t=rh(e)?this._graphql(e,{query:u,variables:n,authMode:i,apiKey:s,endpoint:o},h,a,c,r):e(async e=>await this._graphql(e,{query:u,variables:n,authMode:i,apiKey:s,endpoint:o},h,a,c,r)),this._api.updateRequestToBeCancellable(t,a),t}case"subscription":return this._graphqlSubscribe(e,{query:u,variables:n,authMode:i,apiKey:s,endpoint:o},h,c,r);default:throw Error(`invalid operation type: ${d}`)}}async _graphql(e,{query:t,variables:n,authMode:i,endpoint:r,apiKey:o},s={},a,c,u){var l;let d,h,f;let{apiKey:p,region:y,endpoint:m,customEndpoint:g,customEndpointRegion:E,defaultAuthMode:v}=rt(e),b=i||v||"iam",S="identityPool"===b?"iam":b,{headers:I,withCredentials:T}=rn(e);if("function"==typeof s){let e={method:"POST",url:new nm.a(r||g||m||"").toString(),queryString:t8(t)};d=await s(e)}else d=s;u&&(d={...d,Authorization:u});let w=await rd(e,S,o??p,d),x={...!g&&w,...g&&(E?w:{})||{},...I&&await I({query:t8(t),variables:n}),...d,...!g&&{"x-amz-user-agent":(0,ng.Zm)(c)}},A={query:t8(t),variables:n||null};h=g&&!E||"oidc"!==S&&"userPool"!==S&&"iam"!==S&&"lambda"!==S?void 0:{service:E?"execute-api":"appsync",region:E||y};let C=r||g||m;if(!C)throw rl(new i7(ru));try{let{body:t}=await this._api.post(e,{url:new nm.a(C),options:{headers:x,body:A,signingServiceInfo:h,withCredentials:T},abortController:a});f=await t.json()}catch(e){if(this.isCancelError(e))throw e;f=rl(e)}if((l=f)&&Array.isArray(l.errors)&&l.errors.length>0)throw ri(f);return f}isCancelError(e){return this._api.isCancelErrorREST(e)}cancel(e,t){return this._api.cancelREST(e,t)}_graphqlSubscribe(e,{query:t,variables:n,authMode:i,apiKey:r,endpoint:o},s={},a,c){let u=rt(e),l=i||u?.defaultAuthMode||"iam",{headers:d}=rn(e),h=o??u?.endpoint,f=h??"none",p=this.appSyncRealTime.get(f)??new i8;return this.appSyncRealTime.set(f,p),p.subscribe({query:t8(t),variables:n,appSyncGraphqlEndpoint:h,region:u?.region,authenticationType:"identityPool"===l?"iam":l,apiKey:r??u?.apiKey,additionalHeaders:s,authToken:c,libraryConfigHeaders:d},a).pipe(function e(t){return A(function(n,i){var r,o=null,s=!1;o=n.subscribe(H(i,void 0,void 0,function(a){r=np(t(a,e(t)(n))),o?(o.unsubscribe(),o=null,r.subscribe(i)):s=!0})),s&&(o.unsubscribe(),o=null,r.subscribe(i))})}(e=>{if(e.errors)throw ri(e);throw e}))}}new rf;class rp extends rf{getModuleName(){return"GraphQLAPI"}graphql(e,t,n){let i={category:tg.WD.API,action:tg.gq.GraphQl};if(eb in t){let{[eb]:r,...o}=t;return super.graphql(e,o,n,{...i,...r})}return super.graphql(e,t,n,{...i})}isCancelError(e){return super.isCancelError(e)}cancel(e,t){return super.cancel(e,t)}}let ry=new rp;function rm(e,t){let n=tm(this),i=n.endpoint,r=n.authMode,o=n.apiKey;if(e.authMode=e.authMode||r,e.apiKey=e.apiKey??o,e.authToken=e.authToken||n.authToken,i&&"apiKey"===e.authMode&&!e.apiKey)throw Error("graphql() requires an explicit `apiKey` for a custom `endpoint` when `authMode = 'apiKey'`.");let s=t||n.headers;return ry.graphql(n.amplify,{...e,endpoint:i},s)}function rg(e,t){return ry.cancel(e,t)}function rE(e){return ry.isCancelError(e)}let rv=e=>{w.Xb.listen("core",t=>{if("configure"!==t.payload.event)return;let n=t.payload.data.API?.GraphQL;void 0!==n&&tu(e,n,tm)})},rb=new Proxy({},{get(){throw Error("Client could not be generated. This is likely due to `Amplify.configure()` not being called prior to `generateClient()` or because the configuration passed to `Amplify.configure()` is missing GraphQL provider configuration.")}});var rS=n(60214);function rI(e){return function(e){let t={[tl]:e.amplify,[td]:e.authMode,[th]:e.authToken,[tf]:"apiKey"in e?e.apiKey:void 0,[ty]:"endpoint"in e?e.endpoint:void 0,[tp]:e.headers,graphql:rm,cancel:rg,isCancelError:rE,models:rb,enums:rb,queries:rb,mutations:rb,subscriptions:rb},n=e.amplify.getConfig().API?.GraphQL;if(t[ty]){if(!t[td])throw Error("generateClient() requires an explicit `authMode` when `endpoint` is provided.");if("apiKey"===t[td]&&!t[tf])throw Error("generateClient() requires an explicit `apiKey` when `endpoint` is provided and `authMode = 'apiKey'`.")}return t[ty]||(void 0!==n?tu(t,n,tm):rv(t)),t}({...e||{},amplify:rS.d})}},58463:function(e,t,n){"use strict";n.d(t,{h:function(){return f}});var i=n(60443),r=n(14843),o=n(63610);n(74497);var s=n(23906),a=n(40762),c=n(35314),u=n(81247),l=n(64244),d=n(79260),h=n(22943);async function f({username:e,password:t,clientMetadata:n,config:f,tokenOrchestrator:p,authFlow:y,preferredChallenge:m}){let{userPoolId:g,userPoolClientId:E,userPoolEndpoint:v}=f,b=g?.split("_")[1]||"",S=await (0,o.d)(b),I={USERNAME:e,SRP_A:S.A.toString(16)};"USER_AUTH"===y&&m&&(I.PREFERRED_CHALLENGE=m);let T=(0,r.u)({username:e,userPoolId:g,userPoolClientId:E}),w=(0,s.N)({endpointResolver:(0,a.e)({endpointOverride:v})}),x=await w({region:(0,c.y)(g),userAgentValue:(0,u.W)(i.g4.SignIn)},{AuthFlow:y,AuthParameters:I,ClientMetadata:n,ClientId:E,UserContextData:T}),{ChallengeParameters:A,Session:C}=x,_=A?.USERNAME??e;return((0,h.r)(_),"PASSWORD_VERIFIER"===x.ChallengeName)?(0,d.H)(l.i,[t,A,n,C,S,f,p],_,p):x}},59819:function(e,t,n){"use strict";var i;let r;function o(){return{active:!1}}n.d(t,{E:function(){return s}});let s=(r=(i=(e,t)=>{switch(t.type){case"SET_USERNAME":return{...e,username:t.value};case"SET_SESSION":return{...e,session:t.value};case"START":return{...e,active:!0};case"RESET":return o();default:return e}})(o(),{type:"RESET"}),{getState:()=>r,dispatch:e=>{r=i(r,e)}})},77464:function(e,t,n){"use strict";let i;n.d(t,{fZ:function(){return u},k4:function(){return p},signInStore:function(){return f}});var r,o=n(71171);let s="CognitoSignInState",a={username:`${s}.username`,challengeName:`${s}.challengeName`,signInSession:`${s}.signInSession`,expiry:`${s}.expiry`},c=e=>Number(e)<=Date.now(),u=()=>{f.dispatch({type:"RESET_STATE"})},l=()=>{for(let e of Object.values(a))o.$2.removeItem(e)},d=()=>({username:void 0,challengeName:void 0,signInSession:void 0}),h=()=>{let e=o.$2.getItem(a.expiry);return!e||c(e)?(l(),d()):{username:o.$2.getItem(a.username)??void 0,challengeName:o.$2.getItem(a.challengeName)??void 0,signInSession:o.$2.getItem(a.signInSession)??void 0}},f=(i=(r=(e,t)=>{switch(t.type){case"SET_SIGN_IN_SESSION":return y({signInSession:t.value}),{...e,signInSession:t.value};case"SET_SIGN_IN_STATE":return y(t.value),{...t.value};case"SET_CHALLENGE_NAME":return y({challengeName:t.value}),{...e,challengeName:t.value};case"SET_USERNAME":return y({username:t.value}),{...e,username:t.value};case"SET_INITIAL_STATE":return h();case"RESET_STATE":return l(),d();default:return e}})(d(),{type:"SET_INITIAL_STATE"}),{getState:()=>i,dispatch:e=>{i=r(i,e)}});function p(e){f.dispatch({type:"SET_SIGN_IN_STATE",value:e})}let y=({challengeName:e,signInSession:t,username:n})=>{n&&o.$2.setItem(a.username,n),e&&o.$2.setItem(a.challengeName,e),t&&(o.$2.setItem(a.signInSession,t),o.$2.setItem(a.expiry,String(Date.now()+18e4)))}},24510:function(e,t,n){"use strict";n.d(t,{By:function(){return c},kq:function(){return s}});var i,r,o,s,a=n(56693);let c={[a.X.EmptyChallengeResponse]:{message:"challengeResponse is required to confirmSignIn"},[a.X.EmptyConfirmResetPasswordUsername]:{message:"username is required to confirmResetPassword"},[a.X.EmptyConfirmSignUpCode]:{message:"code is required to confirmSignUp"},[a.X.EmptyConfirmSignUpUsername]:{message:"username is required to confirmSignUp"},[a.X.EmptyConfirmResetPasswordConfirmationCode]:{message:"confirmationCode is required to confirmResetPassword"},[a.X.EmptyConfirmResetPasswordNewPassword]:{message:"newPassword is required to confirmResetPassword"},[a.X.EmptyResendSignUpCodeUsername]:{message:"username is required to confirmSignUp"},[a.X.EmptyResetPasswordUsername]:{message:"username is required to resetPassword"},[a.X.EmptySignInPassword]:{message:"password is required to signIn"},[a.X.EmptySignInUsername]:{message:"username is required to signIn"},[a.X.EmptySignUpPassword]:{message:"password is required to signUp"},[a.X.EmptySignUpUsername]:{message:"username is required to signUp"},[a.X.CustomAuthSignInPassword]:{message:"A password is not needed when signing in with CUSTOM_WITHOUT_SRP",recoverySuggestion:"Do not include a password in your signIn call."},[a.X.IncorrectMFAMethod]:{message:"Incorrect MFA method was chosen. It should be either SMS, TOTP, or EMAIL",recoverySuggestion:"Try to pass SMS, TOTP, or EMAIL as the challengeResponse"},[a.X.EmptyVerifyTOTPSetupCode]:{message:"code is required to verifyTotpSetup"},[a.X.EmptyUpdatePassword]:{message:"oldPassword and newPassword are required to changePassword"},[a.X.EmptyConfirmUserAttributeCode]:{message:"confirmation code is required to confirmUserAttribute"}};(i=o||(o={})).DEFAULT_MSG="Authentication Error",i.EMPTY_EMAIL="Email cannot be empty",i.EMPTY_PHONE="Phone number cannot be empty",i.EMPTY_USERNAME="Username cannot be empty",i.INVALID_USERNAME="The username should either be a string or one of the sign in types",i.EMPTY_PASSWORD="Password cannot be empty",i.EMPTY_CODE="Confirmation code cannot be empty",i.SIGN_UP_ERROR="Error creating account",i.NO_MFA="No valid MFA method provided",i.INVALID_MFA="Invalid MFA type",i.EMPTY_CHALLENGE="Challenge response cannot be empty",i.NO_USER_SESSION="Failed to get the session because the user is empty",i.NETWORK_ERROR="Network Error",i.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",i.AUTOSIGNIN_ERROR="Please use your credentials to sign in",i.OAUTH_ERROR="Couldn't finish OAuth flow, check your User Pool HostedUI settings",(r=s||(s={})).SignInException="SignInException",r.OAuthSignInError="OAuthSignInException"},89560:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});var i=n(62044);class r extends i._{constructor(e){super(e),this.constructor=r,Object.setPrototypeOf(this,r.prototype)}}},77743:function(e,t,n){"use strict";n.d(t,{EU:function(){return o},Jg:function(){return r},MA:function(){return a},VL:function(){return l},hj:function(){return h},mP:function(){return s},sX:function(){return f},vC:function(){return c},wW:function(){return d},x9:function(){return u}});var i=n(89560);let r="UserUnAuthenticatedException",o="UserAlreadyAuthenticatedException",s="DeviceMetadataNotFoundException",a="AutoSignInException",c=new i.l({name:"InvalidRedirectException",message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."});new i.l({name:"InvalidAppSchemeException",message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."});let u=new i.l({name:"InvalidPreferredRedirectUrlException",message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."}),l=new i.l({name:"InvalidOriginException",message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."}),d="OAuthSignOutException",h="TokenRefreshException",f="UnexpectedSignInInterruptionException"},56693:function(e,t,n){"use strict";var i,r;n.d(t,{X:function(){return i}}),(r=i||(i={})).EmptySignInUsername="EmptySignInUsername",r.EmptySignInPassword="EmptySignInPassword",r.CustomAuthSignInPassword="CustomAuthSignInPassword",r.EmptySignUpUsername="EmptySignUpUsername",r.EmptySignUpPassword="EmptySignUpPassword",r.EmptyConfirmSignUpUsername="EmptyConfirmSignUpUsername",r.EmptyConfirmSignUpCode="EmptyConfirmSignUpCode",r.EmptyResendSignUpCodeUsername="EmptyresendSignUpCodeUsername",r.EmptyChallengeResponse="EmptyChallengeResponse",r.EmptyConfirmResetPasswordUsername="EmptyConfirmResetPasswordUsername",r.EmptyConfirmResetPasswordNewPassword="EmptyConfirmResetPasswordNewPassword",r.EmptyConfirmResetPasswordConfirmationCode="EmptyConfirmResetPasswordConfirmationCode",r.EmptyResetPasswordUsername="EmptyResetPasswordUsername",r.EmptyVerifyTOTPSetupCode="EmptyVerifyTOTPSetupCode",r.EmptyConfirmUserAttributeCode="EmptyConfirmUserAttributeCode",r.IncorrectMFAMethod="IncorrectMFAMethod",r.EmptyUpdatePassword="EmptyUpdatePassword"},49793:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var i=n(35332),r=n(89560);function o(e){if(!e||"Error"===e.name||e instanceof TypeError)throw new r.l({name:i.Z.Unknown,message:"An unknown error has occurred.",underlyingError:e})}},34161:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var i=n(24510),r=n(89560);function o(e,t){let{message:n,recoverySuggestion:o}=i.By[t];if(!e)throw new r.l({name:t,message:n,recoverySuggestion:o})}},94361:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});let i="cognito-idp"},48470:function(e,t,n){"use strict";n.d(t,{n:function(){return a}});var i=n(71706),r=n(54773),o=n(19154),s=n(75570);let a={service:n(94361).t,retryDecider:(0,i.j)(r.f),computeDelay:o.k,get userAgentValue(){return(0,s.Zm)()},cache:"no-store"}},23906:function(e,t,n){"use strict";n.d(t,{N:function(){return c}});var i=n(91296),r=n(86695),o=n(65640),s=n(49380),a=n(48470);let c=e=>(0,i.z)(s.x,(0,r.u)("InitiateAuth"),(0,o.o)(),{...a.n,...e})},55702:function(e,t,n){"use strict";n.d(t,{u:function(){return c}});var i=n(91296),r=n(49380),o=n(86695),s=n(65640),a=n(48470);let c=e=>(0,i.z)(r.x,(0,o.u)("RespondToAuthChallenge"),(0,s.o)(),{...a.n,...e})},49380:function(e,t,n){"use strict";n.d(t,{x:function(){return o}});var i=n(42548),r=n(20382);let o=(0,i.V)(r.y,[()=>(e,t)=>async function(t){return t.headers["cache-control"]="no-store",e(t)}])},65640:function(e,t,n){"use strict";n.d(t,{o:function(){return s}});var i=n(54773),r=n(49793),o=n(89560);let s=()=>async e=>{if(e.statusCode>=300){let t=await (0,i.f)(e);throw(0,r.R)(t),new o.l({name:t.name,message:t.message,metadata:t.$metadata})}return(0,i.e)(e)}},86695:function(e,t,n){"use strict";n.d(t,{u:function(){return i}});let i=e=>(t,n)=>o(n,r(e),JSON.stringify(t)),r=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}),o=({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"})},35314:function(e,t,n){"use strict";n.d(t,{N:function(){return o},y:function(){return r}});var i=n(89560);function r(e){let t=e?.split("_")[0];if(!e||0>e.indexOf("_")||!t||"string"!=typeof t)throw new i.l({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}function o(e){if(!e||!e.includes(":"))throw new i.l({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}},48073:function(e,t,n){"use strict";n.d(t,{Dv:function(){return o},I:function(){return r}});var i=n(59819);function r(e){}function o(e=!0){i.E.dispatch({type:"RESET"})}n(89560),n(77743)},55808:function(e,t,n){"use strict";n.d(t,{_:function(){return S}});var i=n(60214),r=n(71634),o=n(60443),s=n(10397),a=n(34161),c=n(56693),u=n(35314),l=n(81247),d=n(14843),h=n(91296),f=n(48470),p=n(49380),y=n(86695),m=n(65640);let g=e=>(0,h.z)(p.x,(0,y.u)("ConfirmSignUp"),(0,m.o)(),{...f.n,...e});var E=n(40762),v=n(59819),b=n(48073);async function S(e){let{username:t,confirmationCode:n,options:h}=e,f=i.d.getConfig().Auth?.Cognito;(0,r.FG)(f);let{userPoolId:p,userPoolClientId:y,userPoolEndpoint:m}=f,S=h?.clientMetadata;(0,a.n)(!!t,c.X.EmptyConfirmSignUpUsername),(0,a.n)(!!n,c.X.EmptyConfirmSignUpCode);let I=(0,d.u)({username:t,userPoolId:p,userPoolClientId:y}),T=g({endpointResolver:(0,E.e)({endpointOverride:m})}),{Session:w}=await T({region:(0,u.y)(f.userPoolId),userAgentValue:(0,l.W)(o.g4.ConfirmSignUp)},{Username:t,ConfirmationCode:n,ClientMetadata:S,ForceAliasCreation:h?.forceAliasCreation,ClientId:f.userPoolClientId,UserContextData:I});return new Promise((e,n)=>{try{let n={isSignUpComplete:!0,nextStep:{signUpStep:"DONE"}},i=v.E.getState();if(!i.active||i.username!==t){e(n),(0,b.Dv)();return}v.E.dispatch({type:"SET_SESSION",value:w});let r=s.qC.listen("auth-internal",({payload:t})=>{"autoSignIn"===t.event&&(e({isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"}}),r())});s.qC.dispatch("auth-internal",{event:"confirmSignUp",data:n})}catch(e){n(e)}})}},22819:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var i=n(60214),r=n(71634),o=n(29093);let s=async e=>{let t=e.getConfig().Auth?.Cognito;(0,r.FG)(t);let n=await e.Auth.getTokens({forceRefresh:!1});(0,o.CA)(n);let{"cognito:username":i,sub:s}=n.idToken?.payload??{},a={username:i,userId:s},c=n?.signInDetails;return c&&(a.signInDetails=c),a},a=async()=>s(i.d)},54493:function(e,t,n){"use strict";n.d(t,{z:function(){return S}});var i=n(66463),r=n(60214),o=n(71634),s=n(56693),a=n(34161),c=n(49793),u=n(77464),l=n(5374),d=n(24764),h=n(11720),f=n(79260),p=n(72286);async function y(e){let t=r.d.getConfig().Auth?.Cognito;(0,o.FG)(t);let{username:n,password:y,options:m}=e,g={loginId:n,authFlowType:"CUSTOM_WITHOUT_SRP"},E=m?.clientMetadata;(0,a.n)(!!n,s.X.EmptySignInUsername),(0,a.n)(!y,s.X.CustomAuthSignInPassword);try{let{ChallengeName:e,ChallengeParameters:r,AuthenticationResult:o,Session:s}=await (0,f.H)(i.pB,[n,E,t,d.C],n,d.C),a=(0,i.QS)(n);if((0,u.k4)({signInSession:s,username:a,challengeName:e,signInDetails:g}),o)return await (0,l.x)({username:a,...o,NewDeviceMetadata:await (0,p.F)({userPoolId:t.userPoolId,userPoolEndpoint:t.userPoolEndpoint,newDeviceMetadata:o.NewDeviceMetadata,accessToken:o.AccessToken}),signInDetails:g}),(0,u.fZ)(),await (0,h.O)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return(0,i.cP)({challengeName:e,challengeParameters:r})}catch(t){(0,u.fZ)(),(0,c.R)(t);let e=(0,i.yM)(t.name);if(e)return e;throw t}}async function m(e){let{username:t,password:n,options:f}=e,y={loginId:t,authFlowType:"CUSTOM_WITH_SRP"},m=r.d.getConfig().Auth?.Cognito;(0,o.FG)(m);let g=f?.clientMetadata;(0,a.n)(!!t,s.X.EmptySignInUsername),(0,a.n)(!!n,s.X.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:r,AuthenticationResult:o,Session:s}=await (0,i.Mf)(t,n,g,m,d.C),a=(0,i.QS)(t);if((0,u.k4)({signInSession:s,username:a,challengeName:e,signInDetails:y}),o)return await (0,l.x)({username:a,...o,NewDeviceMetadata:await (0,p.F)({userPoolId:m.userPoolId,userPoolEndpoint:m.userPoolEndpoint,newDeviceMetadata:o.NewDeviceMetadata,accessToken:o.AccessToken}),signInDetails:y}),(0,u.fZ)(),await (0,h.O)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return(0,i.cP)({challengeName:e,challengeParameters:r})}catch(t){(0,u.fZ)(),(0,c.R)(t);let e=(0,i.yM)(t.name);if(e)return e;throw t}}var g=n(48073);async function E(e){let{username:t,password:n}=e,f=r.d.getConfig().Auth?.Cognito,y={loginId:t,authFlowType:"USER_SRP_AUTH"};(0,o.FG)(f);let m=e.options?.clientMetadata;(0,a.n)(!!t,s.X.EmptySignInUsername),(0,a.n)(!!n,s.X.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:r,AuthenticationResult:o,Session:s}=await (0,i.U)(t,n,m,f,d.C),a=(0,i.QS)(t);if((0,u.k4)({signInSession:s,username:a,challengeName:e,signInDetails:y}),o)return await (0,l.x)({username:a,...o,NewDeviceMetadata:await (0,p.F)({userPoolId:f.userPoolId,userPoolEndpoint:f.userPoolEndpoint,newDeviceMetadata:o.NewDeviceMetadata,accessToken:o.AccessToken}),signInDetails:y}),(0,u.fZ)(),await (0,h.O)(),(0,g.Dv)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return(0,i.cP)({challengeName:e,challengeParameters:r})}catch(t){(0,u.fZ)(),(0,g.Dv)(),(0,c.R)(t);let e=(0,i.yM)(t.name);if(e)return e;throw t}}async function v(e){let{username:t,password:n,options:y}=e,m=r.d.getConfig().Auth?.Cognito,E={loginId:t,authFlowType:"USER_PASSWORD_AUTH"};(0,o.FG)(m);let v=y?.clientMetadata;(0,a.n)(!!t,s.X.EmptySignInUsername),(0,a.n)(!!n,s.X.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:r,AuthenticationResult:o,Session:s}=await (0,f.H)(i.x6,[t,n,v,m,d.C],t,d.C),a=(0,i.QS)(t);if((0,u.k4)({signInSession:s,username:a,challengeName:e,signInDetails:E}),o)return await (0,l.x)({...o,username:a,NewDeviceMetadata:await (0,p.F)({userPoolId:m.userPoolId,userPoolEndpoint:m.userPoolEndpoint,newDeviceMetadata:o.NewDeviceMetadata,accessToken:o.AccessToken}),signInDetails:E}),(0,u.fZ)(),await (0,h.O)(),(0,g.Dv)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return(0,i.cP)({challengeName:e,challengeParameters:r})}catch(t){(0,u.fZ)(),(0,g.Dv)(),(0,c.R)(t);let e=(0,i.yM)(t.name);if(e)return e;throw t}}var b=n(746);async function S(e){(0,g.Dv)(!1);let t=e.options?.authFlowType;switch(await (0,i.OP)(),t){case"USER_SRP_AUTH":default:return E(e);case"USER_PASSWORD_AUTH":return v(e);case"CUSTOM_WITHOUT_SRP":return y(e);case"CUSTOM_WITH_SRP":return m(e);case"USER_AUTH":return(0,b.G)(e)}}},746:function(e,t,n){"use strict";n.d(t,{G:function(){return x}});var i=n(60214),r=n(71634),o=n(56693),s=n(34161),a=n(49793),c=n(66463),u=n(59819),l=n(77464),d=n(5374),h=n(11720),f=n(24764),p=n(60443),y=n(14843),m=n(23906),g=n(40762),E=n(35314),v=n(81247),b=n(58463),S=n(22943);async function I({username:e,clientMetadata:t,config:n,tokenOrchestrator:i,preferredChallenge:r,password:a,session:c}){let{userPoolId:u,userPoolClientId:l,userPoolEndpoint:d}=n,h=(0,y.u)({username:e,userPoolId:u,userPoolClientId:l}),f={USERNAME:e};if(r){if("PASSWORD_SRP"===r)return(0,s.n)(!!a,o.X.EmptySignInPassword),(0,b.h)({username:e,password:a,clientMetadata:t,config:n,tokenOrchestrator:i,authFlow:"USER_AUTH",preferredChallenge:r});"PASSWORD"===r&&((0,s.n)(!!a,o.X.EmptySignInPassword),f.PASSWORD=a),f.PREFERRED_CHALLENGE=r}let I={AuthFlow:"USER_AUTH",AuthParameters:f,ClientMetadata:t,ClientId:l,UserContextData:h};c&&(I.Session=c);let T=(0,m.N)({endpointResolver:(0,g.e)({endpointOverride:d})}),w=await T({region:(0,E.y)(u),userAgentValue:(0,v.W)(p.g4.SignIn)},I);return(0,S.r)(e),w}var T=n(72286),w=n(48073);async function x(e){let{username:t,password:n,options:p}=e,y=i.d.getConfig().Auth?.Cognito,m={loginId:t,authFlowType:"USER_AUTH"};(0,r.FG)(y);let g=p?.clientMetadata,E=p?.preferredChallenge;(0,s.n)(!!t,o.X.EmptySignInUsername);try{let e={username:t,config:y,tokenOrchestrator:f.C,clientMetadata:g,preferredChallenge:E,password:n},i=u.E.getState();i.active&&i.username===t&&(e.session=i.session);let r=await I(e),o=(0,c.QS)(t);if((0,l.k4)({signInSession:r.Session,username:o,challengeName:r.ChallengeName,signInDetails:m}),r.AuthenticationResult)return await (0,d.x)({username:o,...r.AuthenticationResult,NewDeviceMetadata:await (0,T.F)({userPoolId:y.userPoolId,userPoolEndpoint:y.userPoolEndpoint,newDeviceMetadata:r.AuthenticationResult.NewDeviceMetadata,accessToken:r.AuthenticationResult.AccessToken}),signInDetails:m}),(0,l.fZ)(),await (0,h.O)(),(0,w.Dv)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};return(0,c.cP)({challengeName:r.ChallengeName,challengeParameters:r.ChallengeParameters,availableChallenges:"AvailableChallenges"in r?r.AvailableChallenges:void 0})}catch(t){(0,l.fZ)(),(0,w.Dv)(),(0,a.R)(t);let e=(0,c.yM)(t.name);if(e)return e;throw t}}},94238:function(e,t,n){"use strict";n.d(t,{w:function(){return D}});var i=n(63446),r=n(60214),o=n(71171);function s(){return r.d.Auth.clearCredentials()}var a=n(10397),c=n(71634),u=n(60443),l=n(81247),d=n(89560),h=n(58506),f=n(24764),p=n(35314),y=n(29093);n(74497);let m=async e=>{await e.clearOAuthData(),f.C.clearTokens(),await s(),a.Xb.dispatch("auth",{event:"signedOut"},"Auth",a.SQ)},g=async e=>{window?.location&&(window.location.href=e.replace("http://","https://"))};var E=n(77743);let v=e=>e.startsWith(String(window.location.origin+(window.location.pathname||"/"))),b=e=>e.includes(String(window.location.hostname)),S=e=>e.startsWith("http://"),I=e=>e.startsWith("https://"),T=async(e,t=!1,n)=>{(0,c.V0)(e);let{loginWith:i,userPoolClientId:r}=e,{domain:o,redirectSignOut:s}=i.oauth,a=function(e,t){if(t){let n=e?.find(e=>e===t);if(!n)throw E.x9;return n}{let t=e?.find(v)??e?.find(b),n=e?.find(I)??e?.find(S);if(t)return t;if(n)throw E.VL;throw E.vC}}(s,n);return g(`https://${o}/logout?${Object.entries({client_id:r,logout_uri:encodeURIComponent(a)}).map(([e,t])=>`${e}=${t}`).join("&")}`)},w=async(e,t,n,i)=>{let{isOAuthSignIn:r}=await t.loadOAuthSignIn(),o=await n.getOAuthMetadata();if(await m(t),r||o?.oauthSignIn)return T(e,!1,i)};var x=n(91296),A=n(49380),C=n(86695),_=n(65640),N=n(48470);let R=e=>(0,x.z)(A.x,(0,C.u)("RevokeToken"),(0,_.o)(),{...N.n,...e}),O=e=>(0,x.z)(A.x,(0,C.u)("GlobalSignOut"),(0,_.o)(),{...N.n,...e});var P=n(40762);let k=new i.k("Auth");async function D(e){let t;let n=r.d.getConfig().Auth?.Cognito;(0,c.FG)(n),e?.global?await U(n):await M(n);try{(0,c.V0)(n),t=!0}catch(e){t=!1}if(t){let t=new h.R(o.Fm);t.setAuthConfig(n);let{type:i}=await w(n,t,f.C,e?.oauth?.redirectUrl)??{};if("error"===i)throw new d.l({name:E.wW,message:"An error occurred when attempting to log out from OAuth provider."})}else f.C.clearTokens(),await s(),a.Xb.dispatch("auth",{event:"signedOut"},"Auth",a.SQ)}async function M(e){try{let{userPoolEndpoint:t,userPoolId:n,userPoolClientId:i}=e,r=await f.C.getTokenStore().loadTokens();if((0,y.XD)(r),F(r.accessToken)){let e=R({endpointResolver:(0,P.e)({endpointOverride:t})});await e({region:(0,p.y)(n),userAgentValue:(0,l.W)(u.g4.SignOut)},{ClientId:i,Token:r.refreshToken})}}catch(e){k.debug("Client signOut error caught but will proceed with token removal")}}async function U(e){try{let{userPoolEndpoint:t,userPoolId:n}=e,i=await f.C.getTokenStore().loadTokens();(0,y.CA)(i);let r=O({endpointResolver:(0,P.e)({endpointOverride:t})});await r({region:(0,p.y)(n),userAgentValue:(0,l.W)(u.g4.SignOut)},{AccessToken:i.accessToken.toString()})}catch(e){k.debug("Global signOut error caught but will proceed with token removal")}}let F=e=>!!e?.payload?.origin_jti},32500:function(e,t,n){"use strict";n.d(t,{y:function(){return M}});var i=n(60214),r=n(71634),o=n(60443),s=n(34161),a=n(56693),c=n(35314);function u(e){return Object.entries(e).map(([e,t])=>({Name:e,Value:t}))}var l=n(10397),d=n(54493),h=n(89560),f=n(48073),p=n(77743),y=n(746);function m(e,t){let n;return i=>{n||e(...i),clearTimeout(n),n=setTimeout(()=>{n=void 0},t)}}let g=m(function(e,t,n){let i=Date.now(),r=setInterval(async()=>{if(Date.now()-i>18e4)clearInterval(r),n(new h.l({name:p.MA,message:"The account was not confirmed on time.",recoverySuggestion:"Try to verify your account by clicking the link sent your email or phone and then login manually."})),(0,f.Dv)();else try{let n=await (0,d.z)(e);"CONFIRM_SIGN_UP"!==n.nextStep.signInStep&&(t(n),clearInterval(r),(0,f.Dv)())}catch(e){clearInterval(r),n(e),(0,f.Dv)()}},5e3)},300),E=m(v,300);async function v(e,t,n){try{let n=e?.options?.authFlowType==="USER_AUTH"?await (0,y.G)(e):await (0,d.z)(e);t(n),(0,f.Dv)()}catch(e){n(e),(0,f.Dv)()}}function b(e){return async()=>new Promise((t,n)=>{E([e,t,n])})}var S=n(14843),I=n(81247),T=n(91296),w=n(54773),x=n(24510),A=n(49793),C=n(73840),_=n(86695),N=n(49380),R=n(48470);let O=()=>async e=>{if(e.statusCode>=300){let t=await (0,w.f)(e);if((0,A.R)(t),t.name===C.y3.InvalidParameterException&&/'password'/.test(t.message)&&/Member must not be null/.test(t.message)){let e=a.X.EmptySignUpPassword,{message:t,recoverySuggestion:n}=x.By[e];throw new h.l({name:e,message:t,recoverySuggestion:n})}throw new h.l({name:t.name,message:t.message})}return(0,w.e)(e)},P=e=>(0,T.z)(N.x,(0,_.u)("SignUp"),O(),{...R.n,...e});var k=n(40762),D=n(59819);async function M(e){let{username:t,password:n,options:d}=e,h=i.d.getConfig().Auth?.Cognito,p=h?.signUpVerificationMethod??"code",{clientMetadata:y,validationData:m,autoSignIn:E}=e.options??{};(0,r.FG)(h),(0,s.n)(!!t,a.X.EmptySignUpUsername);let v="boolean"!=typeof E?E:void 0,T={username:t,options:v};v?.authFlowType!=="CUSTOM_WITHOUT_SRP"&&(T.password=n);let{userPoolId:w,userPoolClientId:x,userPoolEndpoint:A}=h,C=P({endpointResolver:(0,k.e)({endpointOverride:A})}),_={Username:t,Password:void 0,UserAttributes:d?.userAttributes&&u(d?.userAttributes),ClientMetadata:y,ValidationData:m&&u(m),ClientId:x,UserContextData:(0,S.u)({username:t,userPoolId:w,userPoolClientId:x})};n&&(_.Password=n);let{UserSub:N,CodeDeliveryDetails:R,UserConfirmed:O,Session:M}=await C({region:(0,c.y)(w),userAgentValue:(0,I.W)(o.g4.SignUp)},_);(v||!0===E)&&(D.E.dispatch({type:"START"}),D.E.dispatch({type:"SET_USERNAME",value:t}),D.E.dispatch({type:"SET_SESSION",value:M}));let U={destination:R?.Destination,deliveryMedium:R?.DeliveryMedium,attributeName:R?.AttributeName},F=D.E.getState().active;if(O)return F?((0,f.I)(b(T)),{isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"},userId:N}):{isSignUpComplete:!0,nextStep:{signUpStep:"DONE"},userId:N};if(F){if("link"===p)return(0,f.I)(async()=>new Promise((e,t)=>{g([T,e,t])})),{isSignUpComplete:!1,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN",codeDeliveryDetails:U},userId:N};!function(e){let t=l.qC.listen("auth-internal",async({payload:n})=>{if("confirmSignUp"===n.event){let i=n.data;i?.isSignUpComplete&&(l.qC.dispatch("auth-internal",{event:"autoSignIn"}),(0,f.I)(b(e)),t())}}),n=setTimeout(()=>{t(),clearTimeout(n),(0,f.Dv)()},18e4)}(T)}return{isSignUpComplete:!1,nextStep:{signUpStep:"CONFIRM_SIGN_UP",codeDeliveryDetails:U},userId:N}}},40762:function(e,t,n){"use strict";n.d(t,{e:function(){return a}});var i=n(91453),r=n(52276),o=n(94361);let s=({region:e})=>({url:new i.a(`https://${o.t}.${e}.${(0,r.b)(e)}`)}),a=({endpointOverride:e})=>t=>e?{url:new i.a(e)}:s(t)},1182:function(e,t,n){"use strict";n.d(t,{sI:function(){return d},_X:function(){return f}});var i,r=n(71634),o=n(89560);let s={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};var a=n(40054);(i||(i={})).InvalidAuthTokens="InvalidAuthTokens";let c={[i.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},u=(0,a.$)(c),l="CognitoIdentityServiceProvider";class d{getKeyValueStorage(){if(!this.keyValueStorage)throw new o.l({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{let e=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e.accessToken);if(!t)throw new o.l({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});let n=(0,r.xp)(t),i=await this.getKeyValueStorage().getItem(e.idToken),s=i?(0,r.xp)(i):void 0,a=await this.getKeyValueStorage().getItem(e.refreshToken)??void 0,c=await this.getKeyValueStorage().getItem(e.clockDrift)??"0",u=Number.parseInt(c),l=await this.getKeyValueStorage().getItem(e.signInDetails),d={accessToken:n,idToken:s,refreshToken:a,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:u,username:await this.getLastAuthUser()};return l&&(d.signInDetails=JSON.parse(l)),d}catch(e){return null}}async storeTokens(e){u(void 0!==e,i.InvalidAuthTokens);let t=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),t);let n=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n.accessToken,e.accessToken.toString()),e.idToken?await this.getKeyValueStorage().setItem(n.idToken,e.idToken.toString()):await this.getKeyValueStorage().removeItem(n.idToken),e.refreshToken?await this.getKeyValueStorage().setItem(n.refreshToken,e.refreshToken):await this.getKeyValueStorage().removeItem(n.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(n.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(n.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(n.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails?await this.getKeyValueStorage().setItem(n.signInDetails,JSON.stringify(e.signInDetails)):await this.getKeyValueStorage().removeItem(n.signInDetails),await this.getKeyValueStorage().setItem(n.clockDrift,`${e.clockDrift}`)}async clearTokens(){let e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(e.oauthMetadata)])}async getDeviceMetadata(e){let t=await this.getAuthKeys(e),n=await this.getKeyValueStorage().getItem(t.deviceKey),i=await this.getKeyValueStorage().getItem(t.deviceGroupKey),r=await this.getKeyValueStorage().getItem(t.randomPasswordKey);return r&&i&&n?{deviceKey:n,deviceGroupKey:i,randomPassword:r}:null}async clearDeviceMetadata(e){let t=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(t.deviceKey),this.getKeyValueStorage().removeItem(t.deviceGroupKey),this.getKeyValueStorage().removeItem(t.randomPasswordKey)])}async getAuthKeys(e){(0,r.FG)(this.authConfig?.Cognito);let t=e??await this.getLastAuthUser();return h(l,`${this.authConfig.Cognito.userPoolClientId}.${t}`)}getLastAuthUserKey(){(0,r.FG)(this.authConfig?.Cognito);let e=this.authConfig.Cognito.userPoolClientId;return`${l}.${e}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}async setOAuthMetadata(e){let{oauthMetadata:t}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(t,JSON.stringify(e))}async getOAuthMetadata(){let{oauthMetadata:e}=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e);return t&&JSON.parse(t)}}let h=(e,t)=>f(s)(`${e}`,t);function f(e){let t=Object.values({...e});return(e,n)=>t.reduce((t,i)=>({...t,[i]:`${e}.${n}.${i}`}),{})}},5374:function(e,t,n){"use strict";n.d(t,{x:function(){return s}});var i=n(71634),r=n(62044),o=n(24764);async function s(e){if(e.AccessToken){let t,n,r;let s=(0,i.xp)(e.AccessToken),a=1e3*(s.payload.iat||0),c=new Date().getTime();e.RefreshToken&&(n=e.RefreshToken),e.IdToken&&(t=(0,i.xp)(e.IdToken)),e?.NewDeviceMetadata&&(r=e.NewDeviceMetadata);let u={accessToken:s,idToken:t,refreshToken:n,clockDrift:a>0?a-c:0,deviceMetadata:r,username:e.username};e?.signInDetails&&(u.signInDetails=e.signInDetails),await o.C.setTokens({tokens:u})}else throw new r._({message:"Invalid tokens",name:"InvalidTokens",recoverySuggestion:"Check Cognito UserPool settings"})}},24764:function(e,t,n){"use strict";let i;n.d(t,{D:function(){return _},C:function(){return N}});var r,o=n(71171),s=n(71634),a=n(35314),c=n(29093),u=n(89560),l=n(40762),d=n(91296),h=n(86695),f=n(65640),p=n(49380),y=n(48470);let m=e=>(0,d.z)(p.x,(0,h.u)("GetTokensFromRefreshToken"),(0,f.o)(),{...y.n,...e}),g=(r=async({tokens:e,authConfig:t,username:n,clientMetadata:i})=>{(0,s.FG)(t?.Cognito);let{userPoolId:r,userPoolClientId:o,userPoolEndpoint:d}=t.Cognito,h=(0,a.y)(r);(0,c.XD)(e);let f=m({endpointResolver:(0,l.e)({endpointOverride:d})}),{AuthenticationResult:p}=await f({region:h},{ClientId:o,RefreshToken:e.refreshToken,DeviceKey:e.deviceMetadata?.deviceKey,ClientMetadata:i}),y=(0,s.xp)(p?.AccessToken??""),g=p?.IdToken?(0,s.xp)(p.IdToken):void 0,{iat:E}=y.payload;if(!E)throw new u.l({name:"iatNotFoundException",message:"iat not found in access token"});return{accessToken:y,idToken:g,clockDrift:1e3*E-new Date().getTime(),refreshToken:p?.RefreshToken??e.refreshToken,username:n}},async(...e)=>i||(i=new Promise((t,n)=>{r(...e).then(e=>{t(e)}).catch(e=>{n(e)}).finally(()=>{i=void 0})})));var E=n(1182),v=n(10397),b=n(86226);function S({expiresAt:e,clockDrift:t,tolerance:n=5e3}){return Date.now()+t+n>e}var I=n(49793);let T=new(n(58506)).R(o.Fm),w=[],x=e=>{w.push(e)};class A{constructor(){this.waitForInflightOAuth=(0,b.j)()?async()=>await T.loadOAuthInFlight()?(this.inflightPromise||(this.inflightPromise=new Promise((e,t)=>{x(e)})),this.inflightPromise):void 0:async()=>{}}setAuthConfig(e){T.setAuthConfig(e.Cognito),this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}getTokenStore(){if(!this.tokenStore)throw new u.l({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new u.l({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}setClientMetadataProvider(e){this.clientMetadataProvider=e}async getTokens(e){let t;try{(0,s.FG)(this.authConfig?.Cognito)}catch(e){return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,t=await this.getTokenStore().loadTokens();let n=await this.getTokenStore().getLastAuthUser();if(null===t)return null;let i=!!t?.idToken&&S({expiresAt:(t.idToken?.payload?.exp??0)*1e3,clockDrift:t.clockDrift??0}),r=S({expiresAt:(t.accessToken?.payload?.exp??0)*1e3,clockDrift:t.clockDrift??0});return(e?.forceRefresh||i||r)&&null===(t=await this.refreshTokens({tokens:t,username:n,clientMetadata:e?.clientMetadata??await this.clientMetadataProvider?.()}))?null:{accessToken:t?.accessToken,idToken:t?.idToken,signInDetails:t?.signInDetails}}async refreshTokens({tokens:e,username:t,clientMetadata:n}){try{let{signInDetails:i}=e,r=await this.getTokenRefresher()({tokens:e,authConfig:this.authConfig,username:t,clientMetadata:n});return r.signInDetails=i,await this.setTokens({tokens:r}),v.Xb.dispatch("auth",{event:"tokenRefresh"},"Auth",v.SQ),r}catch(e){return this.handleErrors(e)}}handleErrors(e){if((0,I.R)(e),this.isAuthenticationError(e)&&this.clearTokens(),v.Xb.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",v.SQ),e.name.startsWith("NotAuthorizedException"))return null;throw e}isAuthenticationError(e){return["NotAuthorizedException","TokenRevokedException","UserNotFoundException","PasswordResetRequiredException","UserNotConfirmedException","RefreshTokenReuseException"].some(t=>e?.name?.startsWith?.(t))}async setTokens({tokens:e}){return this.getTokenStore().storeTokens(e)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}setOAuthMetadata(e){return this.getTokenStore().setOAuthMetadata(e)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}}class C{constructor(){this.authTokenStore=new E.sI,this.authTokenStore.setKeyValueStorage(o.Fm),this.tokenOrchestrator=new A,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(g)}getTokens(e={}){return this.tokenOrchestrator.getTokens(e)}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setClientMetadataProvider(e){this.tokenOrchestrator.setClientMetadataProvider(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}}let _=new C,{tokenOrchestrator:N}=_},73840:function(e,t,n){"use strict";var i,r,o,s,a,c,u,l,d,h,f,p,y,m,g,E,v,b,S,I,T,w,x,A,C,_,N,R,O,P,k,D,M,U,F,L,B,q,$,K,V,j,G,z,W,H,Q,Y;n.d(t,{OK:function(){return g},y3:function(){return S}}),(C=i||(i={})).ConcurrentModificationException="ConcurrentModificationException",C.ForbiddenException="ForbiddenException",C.InternalErrorException="InternalErrorException",C.InvalidParameterException="InvalidParameterException",C.NotAuthorizedException="NotAuthorizedException",C.ResourceNotFoundException="ResourceNotFoundException",C.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",(_=r||(r={})).ForbiddenException="ForbiddenException",_.InternalErrorException="InternalErrorException",_.InvalidParameterException="InvalidParameterException",_.InvalidPasswordException="InvalidPasswordException",_.LimitExceededException="LimitExceededException",_.NotAuthorizedException="NotAuthorizedException",_.PasswordResetRequiredException="PasswordResetRequiredException",_.ResourceNotFoundException="ResourceNotFoundException",_.TooManyRequestsException="TooManyRequestsException",_.UserNotConfirmedException="UserNotConfirmedException",_.UserNotFoundException="UserNotFoundException",(N=o||(o={})).ForbiddenException="ForbiddenException",N.InternalErrorException="InternalErrorException",N.InvalidLambdaResponseException="InvalidLambdaResponseException",N.InvalidParameterException="InvalidParameterException",N.InvalidPasswordException="InvalidPasswordException",N.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",N.NotAuthorizedException="NotAuthorizedException",N.PasswordResetRequiredException="PasswordResetRequiredException",N.ResourceNotFoundException="ResourceNotFoundException",N.TooManyRequestsException="TooManyRequestsException",N.UsernameExistsException="UsernameExistsException",N.UserNotConfirmedException="UserNotConfirmedException",N.UserNotFoundException="UserNotFoundException",(R=s||(s={})).CodeMismatchException="CodeMismatchException",R.ExpiredCodeException="ExpiredCodeException",R.ForbiddenException="ForbiddenException",R.InternalErrorException="InternalErrorException",R.InvalidLambdaResponseException="InvalidLambdaResponseException",R.InvalidParameterException="InvalidParameterException",R.InvalidPasswordException="InvalidPasswordException",R.LimitExceededException="LimitExceededException",R.NotAuthorizedException="NotAuthorizedException",R.ResourceNotFoundException="ResourceNotFoundException",R.TooManyFailedAttemptsException="TooManyFailedAttemptsException",R.TooManyRequestsException="TooManyRequestsException",R.UnexpectedLambdaException="UnexpectedLambdaException",R.UserLambdaValidationException="UserLambdaValidationException",R.UserNotConfirmedException="UserNotConfirmedException",R.UserNotFoundException="UserNotFoundException",(O=a||(a={})).AliasExistsException="AliasExistsException",O.CodeMismatchException="CodeMismatchException",O.ExpiredCodeException="ExpiredCodeException",O.ForbiddenException="ForbiddenException",O.InternalErrorException="InternalErrorException",O.InvalidLambdaResponseException="InvalidLambdaResponseException",O.InvalidParameterException="InvalidParameterException",O.LimitExceededException="LimitExceededException",O.NotAuthorizedException="NotAuthorizedException",O.ResourceNotFoundException="ResourceNotFoundException",O.TooManyFailedAttemptsException="TooManyFailedAttemptsException",O.TooManyRequestsException="TooManyRequestsException",O.UnexpectedLambdaException="UnexpectedLambdaException",O.UserLambdaValidationException="UserLambdaValidationException",O.UserNotFoundException="UserNotFoundException",(P=c||(c={})).ForbiddenException="ForbiddenException",P.InternalErrorException="InternalErrorException",P.InvalidParameterException="InvalidParameterException",P.NotAuthorizedException="NotAuthorizedException",P.PasswordResetRequiredException="PasswordResetRequiredException",P.ResourceNotFoundException="ResourceNotFoundException",P.TooManyRequestsException="TooManyRequestsException",P.UserNotConfirmedException="UserNotConfirmedException",P.UserNotFoundException="UserNotFoundException",(k=u||(u={})).ForbiddenException="ForbiddenException",k.InternalErrorException="InternalErrorException",k.InvalidParameterException="InvalidParameterException",k.NotAuthorizedException="NotAuthorizedException",k.PasswordResetRequiredException="PasswordResetRequiredException",k.ResourceNotFoundException="ResourceNotFoundException",k.TooManyRequestsException="TooManyRequestsException",k.UserNotConfirmedException="UserNotConfirmedException",k.UserNotFoundException="UserNotFoundException",(D=l||(l={})).ForbiddenException="ForbiddenException",D.InternalErrorException="InternalErrorException",D.InvalidParameterException="InvalidParameterException",D.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",D.NotAuthorizedException="NotAuthorizedException",D.PasswordResetRequiredException="PasswordResetRequiredException",D.ResourceNotFoundException="ResourceNotFoundException",D.TooManyRequestsException="TooManyRequestsException",D.UserNotConfirmedException="UserNotConfirmedException",D.UserNotFoundException="UserNotFoundException",(M=d||(d={})).CodeDeliveryFailureException="CodeDeliveryFailureException",M.ForbiddenException="ForbiddenException",M.InternalErrorException="InternalErrorException",M.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",M.InvalidLambdaResponseException="InvalidLambdaResponseException",M.InvalidParameterException="InvalidParameterException",M.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",M.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",M.LimitExceededException="LimitExceededException",M.NotAuthorizedException="NotAuthorizedException",M.ResourceNotFoundException="ResourceNotFoundException",M.TooManyRequestsException="TooManyRequestsException",M.UnexpectedLambdaException="UnexpectedLambdaException",M.UserLambdaValidationException="UserLambdaValidationException",M.UserNotFoundException="UserNotFoundException",(U=h||(h={})).ForbiddenException="ForbiddenException",U.InternalErrorException="InternalErrorException",U.InvalidParameterException="InvalidParameterException",U.NotAuthorizedException="NotAuthorizedException",U.PasswordResetRequiredException="PasswordResetRequiredException",U.ResourceNotFoundException="ResourceNotFoundException",U.TooManyRequestsException="TooManyRequestsException",U.UserNotConfirmedException="UserNotConfirmedException",U.UserNotFoundException="UserNotFoundException",(F=f||(f={})).ExternalServiceException="ExternalServiceException",F.InternalErrorException="InternalErrorException",F.InvalidParameterException="InvalidParameterException",F.LimitExceededException="LimitExceededException",F.NotAuthorizedException="NotAuthorizedException",F.ResourceConflictException="ResourceConflictException",F.ResourceNotFoundException="ResourceNotFoundException",F.TooManyRequestsException="TooManyRequestsException",(L=p||(p={})).ExternalServiceException="ExternalServiceException",L.InternalErrorException="InternalErrorException",L.InvalidIdentityPoolConfigurationException="InvalidIdentityPoolConfigurationException",L.InvalidParameterException="InvalidParameterException",L.NotAuthorizedException="NotAuthorizedException",L.ResourceConflictException="ResourceConflictException",L.ResourceNotFoundException="ResourceNotFoundException",L.TooManyRequestsException="TooManyRequestsException",(B=y||(y={})).CodeDeliveryFailureException="CodeDeliveryFailureException",B.ForbiddenException="ForbiddenException",B.InternalErrorException="InternalErrorException",B.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",B.InvalidLambdaResponseException="InvalidLambdaResponseException",B.InvalidParameterException="InvalidParameterException",B.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",B.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",B.LimitExceededException="LimitExceededException",B.NotAuthorizedException="NotAuthorizedException",B.PasswordResetRequiredException="PasswordResetRequiredException",B.ResourceNotFoundException="ResourceNotFoundException",B.TooManyRequestsException="TooManyRequestsException",B.UnexpectedLambdaException="UnexpectedLambdaException",B.UserLambdaValidationException="UserLambdaValidationException",B.UserNotConfirmedException="UserNotConfirmedException",B.UserNotFoundException="UserNotFoundException",(q=m||(m={})).ForbiddenException="ForbiddenException",q.InternalErrorException="InternalErrorException",q.InvalidParameterException="InvalidParameterException",q.NotAuthorizedException="NotAuthorizedException",q.PasswordResetRequiredException="PasswordResetRequiredException",q.ResourceNotFoundException="ResourceNotFoundException",q.TooManyRequestsException="TooManyRequestsException",q.UserNotConfirmedException="UserNotConfirmedException",($=g||(g={})).PasswordResetRequiredException="PasswordResetRequiredException",$.ForbiddenException="ForbiddenException",$.InternalErrorException="InternalErrorException",$.InvalidLambdaResponseException="InvalidLambdaResponseException",$.InvalidParameterException="InvalidParameterException",$.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",$.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",$.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",$.NotAuthorizedException="NotAuthorizedException",$.ResourceNotFoundException="ResourceNotFoundException",$.TooManyRequestsException="TooManyRequestsException",$.UnexpectedLambdaException="UnexpectedLambdaException",$.UserLambdaValidationException="UserLambdaValidationException",$.UserNotConfirmedException="UserNotConfirmedException",$.UserNotFoundException="UserNotFoundException",(K=E||(E={})).CodeDeliveryFailureException="CodeDeliveryFailureException",K.ForbiddenException="ForbiddenException",K.InternalErrorException="InternalErrorException",K.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",K.InvalidLambdaResponseException="InvalidLambdaResponseException",K.InvalidParameterException="InvalidParameterException",K.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",K.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",K.LimitExceededException="LimitExceededException",K.NotAuthorizedException="NotAuthorizedException",K.ResourceNotFoundException="ResourceNotFoundException",K.TooManyRequestsException="TooManyRequestsException",K.UnexpectedLambdaException="UnexpectedLambdaException",K.UserLambdaValidationException="UserLambdaValidationException",K.UserNotFoundException="UserNotFoundException",(V=v||(v={})).AliasExistsException="AliasExistsException",V.CodeMismatchException="CodeMismatchException",V.ExpiredCodeException="ExpiredCodeException",V.ForbiddenException="ForbiddenException",V.InternalErrorException="InternalErrorException",V.InvalidLambdaResponseException="InvalidLambdaResponseException",V.InvalidParameterException="InvalidParameterException",V.InvalidPasswordException="InvalidPasswordException",V.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",V.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",V.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",V.MFAMethodNotFoundException="MFAMethodNotFoundException",V.NotAuthorizedException="NotAuthorizedException",V.PasswordResetRequiredException="PasswordResetRequiredException",V.ResourceNotFoundException="ResourceNotFoundException",V.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",V.TooManyRequestsException="TooManyRequestsException",V.UnexpectedLambdaException="UnexpectedLambdaException",V.UserLambdaValidationException="UserLambdaValidationException",V.UserNotConfirmedException="UserNotConfirmedException",V.UserNotFoundException="UserNotFoundException",(j=b||(b={})).ForbiddenException="ForbiddenException",j.InternalErrorException="InternalErrorException",j.InvalidParameterException="InvalidParameterException",j.NotAuthorizedException="NotAuthorizedException",j.PasswordResetRequiredException="PasswordResetRequiredException",j.ResourceNotFoundException="ResourceNotFoundException",j.UserNotConfirmedException="UserNotConfirmedException",j.UserNotFoundException="UserNotFoundException",(G=S||(S={})).CodeDeliveryFailureException="CodeDeliveryFailureException",G.InternalErrorException="InternalErrorException",G.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",G.InvalidLambdaResponseException="InvalidLambdaResponseException",G.InvalidParameterException="InvalidParameterException",G.InvalidPasswordException="InvalidPasswordException",G.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",G.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",G.NotAuthorizedException="NotAuthorizedException",G.ResourceNotFoundException="ResourceNotFoundException",G.TooManyRequestsException="TooManyRequestsException",G.UnexpectedLambdaException="UnexpectedLambdaException",G.UserLambdaValidationException="UserLambdaValidationException",G.UsernameExistsException="UsernameExistsException",(z=I||(I={})).AliasExistsException="AliasExistsException",z.CodeDeliveryFailureException="CodeDeliveryFailureException",z.CodeMismatchException="CodeMismatchException",z.ExpiredCodeException="ExpiredCodeException",z.ForbiddenException="ForbiddenException",z.InternalErrorException="InternalErrorException",z.InvalidEmailRoleAccessPolicyException="InvalidEmailRoleAccessPolicyException",z.InvalidLambdaResponseException="InvalidLambdaResponseException",z.InvalidParameterException="InvalidParameterException",z.InvalidSmsRoleAccessPolicyException="InvalidSmsRoleAccessPolicyException",z.InvalidSmsRoleTrustRelationshipException="InvalidSmsRoleTrustRelationshipException",z.NotAuthorizedException="NotAuthorizedException",z.PasswordResetRequiredException="PasswordResetRequiredException",z.ResourceNotFoundException="ResourceNotFoundException",z.TooManyRequestsException="TooManyRequestsException",z.UnexpectedLambdaException="UnexpectedLambdaException",z.UserLambdaValidationException="UserLambdaValidationException",z.UserNotConfirmedException="UserNotConfirmedException",z.UserNotFoundException="UserNotFoundException",(W=T||(T={})).CodeMismatchException="CodeMismatchException",W.EnableSoftwareTokenMFAException="EnableSoftwareTokenMFAException",W.ForbiddenException="ForbiddenException",W.InternalErrorException="InternalErrorException",W.InvalidParameterException="InvalidParameterException",W.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",W.NotAuthorizedException="NotAuthorizedException",W.PasswordResetRequiredException="PasswordResetRequiredException",W.ResourceNotFoundException="ResourceNotFoundException",W.SoftwareTokenMFANotFoundException="SoftwareTokenMFANotFoundException",W.TooManyRequestsException="TooManyRequestsException",W.UserNotConfirmedException="UserNotConfirmedException",W.UserNotFoundException="UserNotFoundException",(H=w||(w={})).AliasExistsException="AliasExistsException",H.CodeMismatchException="CodeMismatchException",H.ExpiredCodeException="ExpiredCodeException",H.ForbiddenException="ForbiddenException",H.InternalErrorException="InternalErrorException",H.InvalidParameterException="InvalidParameterException",H.LimitExceededException="LimitExceededException",H.NotAuthorizedException="NotAuthorizedException",H.PasswordResetRequiredException="PasswordResetRequiredException",H.ResourceNotFoundException="ResourceNotFoundException",H.TooManyRequestsException="TooManyRequestsException",H.UserNotConfirmedException="UserNotConfirmedException",H.UserNotFoundException="UserNotFoundException",(Q=x||(x={})).ForbiddenException="ForbiddenException",Q.InternalErrorException="InternalErrorException",Q.InvalidParameterException="InvalidParameterException",Q.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",Q.NotAuthorizedException="NotAuthorizedException",Q.PasswordResetRequiredException="PasswordResetRequiredException",Q.ResourceNotFoundException="ResourceNotFoundException",Q.TooManyRequestsException="TooManyRequestsException",Q.UserNotConfirmedException="UserNotConfirmedException",Q.UserNotFoundException="UserNotFoundException",(Y=A||(A={})).ForbiddenException="ForbiddenException",Y.InternalErrorException="InternalErrorException",Y.InvalidParameterException="InvalidParameterException",Y.InvalidUserPoolConfigurationException="InvalidUserPoolConfigurationException",Y.NotAuthorizedException="NotAuthorizedException",Y.PasswordResetRequiredException="PasswordResetRequiredException",Y.ResourceNotFoundException="ResourceNotFoundException",Y.TooManyRequestsException="TooManyRequestsException",Y.UserNotConfirmedException="UserNotConfirmedException",Y.UserNotFoundException="UserNotFoundException"},11720:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});var i=n(10397),r=n(22819),o=n(77743),s=n(89560);let a=async()=>{try{i.Xb.dispatch("auth",{event:"signedIn",data:await (0,r.t)()},"Auth",i.SQ)}catch(e){if(e.name===o.Jg)throw new s.l({name:o.sX,message:"Unable to get user session following successful sign-in.",recoverySuggestion:"This most likely is due to auth tokens not being persisted. If you are using cookie store, please ensure cookies can be correctly set from your server."});throw e}}},72286:function(e,t,n){"use strict";n.d(t,{F:function(){return y}});var i=n(86530);let r=async()=>{let{userAgentData:e}=navigator;if(!e)return navigator.userAgent;let{platform:t="",platformVersion:n="",model:i="",architecture:r="",fullVersionList:o=[]}=await e.getHighEntropyValues(["platform","platformVersion","architecture","model","fullVersionList"]);return[t,n,r,i,t,o.map(e=>`${e.brand}/${e.version}`).join(";")].filter(e=>e).join(" ")||navigator.userAgent};var o=n(91296),s=n(49380),a=n(86695),c=n(65640),u=n(48470);let l=e=>(0,o.z)(s.x,(0,a.u)("ConfirmDevice"),(0,c.o)(),{...u.n,...e});var d=n(40762),h=n(35314),f=n(63610),p=n(4583);async function y({userPoolId:e,userPoolEndpoint:t,newDeviceMetadata:n,accessToken:o}){if(!n)return;let s=e.split("_")[1]||"",a=await (0,f.d)(s),c=n?.DeviceKey,u=n?.DeviceGroupKey;try{await a.generateHashDevice(u??"",c??"")}catch(e){return}let y={Salt:i.u.convert((0,p.z)(a.getSaltToHashDevices())),PasswordVerifier:i.u.convert((0,p.z)(a.getVerifierDevices()))},m=a.getRandomPassword();try{let i=l({endpointResolver:(0,d.e)({endpointOverride:t})});return await i({region:(0,h.y)(e)},{AccessToken:o,DeviceName:await r(),DeviceKey:n?.DeviceKey,DeviceSecretVerifierConfig:y}),{deviceKey:c,deviceGroupKey:u,randomPassword:m}}catch(e){return}}n(74497)},2545:function(e,t,n){"use strict";n.d(t,{z:function(){return h}});var i=n(55702),r=n(40762),o=n(35314),s=n(29093),a=n(63610),c=n(4984),u=n(14344),l=n(6841),d=n(14843);async function h({username:e,config:t,clientMetadata:n,session:c,tokenOrchestrator:u}){let{userPoolId:l,userPoolEndpoint:d}=t,h=t.userPoolClientId,p=await u?.getDeviceMetadata(e);(0,s.tr)(p);let y=await (0,a.d)(p.deviceGroupKey),m={USERNAME:e,SRP_A:y.A.toString(16),DEVICE_KEY:p.deviceKey},g=(0,i.u)({endpointResolver:(0,r.e)({endpointOverride:d})}),{ChallengeParameters:E,Session:v}=await g({region:(0,o.y)(l)},{ChallengeName:"DEVICE_SRP_AUTH",ClientId:h,ChallengeResponses:m,ClientMetadata:n,Session:c});return f(e,E,n,v,y,t,u)}async function f(e,t,n,a,h,{userPoolId:f,userPoolClientId:p,userPoolEndpoint:y},m){let g=await m?.getDeviceMetadata(e);(0,s.tr)(g);let E=new l.Z(t?.SRP_B,16),v=new l.Z(t?.SALT,16),{deviceKey:b}=g,{deviceGroupKey:S}=g,I=await h.getPasswordAuthenticationKey({username:g.deviceKey,password:g.randomPassword,serverBValue:E,salt:v}),T=(0,c.H)(),w={USERNAME:t?.USERNAME??e,PASSWORD_CLAIM_SECRET_BLOCK:t?.SECRET_BLOCK,TIMESTAMP:T,PASSWORD_CLAIM_SIGNATURE:(0,u.i)({username:b,userPoolName:S,challengeParameters:t,dateNow:T,hkdf:I}),DEVICE_KEY:b},x=(0,d.u)({username:e,userPoolId:f,userPoolClientId:p});return(0,i.u)({endpointResolver:(0,r.e)({endpointOverride:y})})({region:(0,o.y)(f)},{ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:p,ChallengeResponses:w,Session:a,ClientMetadata:n,UserContextData:x})}},64244:function(e,t,n){"use strict";n.d(t,{i:function(){return h}});var i=n(89560),r=n(55702),o=n(40762),s=n(35314),a=n(6841);n(74497);var c=n(4984),u=n(14344),l=n(14843),d=n(2545);async function h(e,t,n,h,f,p,y){let{userPoolId:m,userPoolClientId:g,userPoolEndpoint:E}=p,v=m?.split("_")[1]||"",b=new a.Z(t?.SRP_B,16),S=new a.Z(t?.SALT,16),I=t?.USER_ID_FOR_SRP;if(!I)throw new i.l({name:"EmptyUserIdForSRPException",message:"USER_ID_FOR_SRP was not found in challengeParameters"});let T=await f.getPasswordAuthenticationKey({username:I,password:e,serverBValue:b,salt:S}),w=(0,c.H)(),x={USERNAME:I,PASSWORD_CLAIM_SECRET_BLOCK:t?.SECRET_BLOCK,TIMESTAMP:w,PASSWORD_CLAIM_SIGNATURE:(0,u.i)({username:I,userPoolName:v,challengeParameters:t,dateNow:w,hkdf:T})},A=await y.getDeviceMetadata(I);A&&A.deviceKey&&(x.DEVICE_KEY=A.deviceKey);let C=(0,l.u)({username:I,userPoolId:m,userPoolClientId:g}),_=(0,r.u)({endpointResolver:(0,o.e)({endpointOverride:E})}),N=await _({region:(0,s.y)(m)},{ChallengeName:"PASSWORD_VERIFIER",ChallengeResponses:x,ClientMetadata:n,Session:h,ClientId:g,UserContextData:C});return"DEVICE_SRP_AUTH"===N.ChallengeName?(0,d.z)({username:I,config:p,clientMetadata:n,session:N.Session,tokenOrchestrator:y}):N}},79260:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});var i=n(89560);async function r(e,t,n,r){try{return await e(...t)}catch(o){if(o instanceof i.l&&"ResourceNotFoundException"===o.name&&o.message.includes("Device does not exist."))return await r.clearDeviceMetadata(n),e(...t);throw o}}},22943:function(e,t,n){"use strict";n.d(t,{r:function(){return r}});var i=n(77464);function r(e){let{dispatch:t}=i.signInStore;t({type:"SET_USERNAME",value:e})}},66463:function(e,t,n){"use strict";n.d(t,{OP:function(){return ef},QS:function(){return ep},cP:function(){return ec},yM:function(){return eu},pB:function(){return es},Mf:function(){return ea},x6:function(){return er},U:function(){return eo}});var i,r,o=n(60214),s=n(60443),a=n(71634),c=n(91453),u=n(89560),l=n(73840),d=n(24510),h=n(77743),f=n(22819),p=n(81247),y=n(23906),m=n(91296),g=n(49380),E=n(86695),v=n(65640),b=n(48470);let S=e=>(0,m.z)(g.x,(0,E.u)("AssociateSoftwareToken"),(0,v.o)(),{...b.n,...e});var I=n(40762),T=n(35314),w=n(55702),x=n(5374),A=n(11720),C=n(77464),_=n(62044),N=n(40054);let R="Passkeys may not be supported on this device. Ensure your application is running in a secure context (HTTPS) and Web Authentication API is supported.";class O extends _._{constructor(e){super(e),this.constructor=O,Object.setPrototypeOf(this,O.prototype)}}(i=r||(r={})).PasskeyNotSupported="PasskeyNotSupported",i.PasskeyAlreadyExists="PasskeyAlreadyExists",i.InvalidPasskeyRegistrationOptions="InvalidPasskeyRegistrationOptions",i.InvalidPasskeyAuthenticationOptions="InvalidPasskeyAuthenticationOptions",i.RelyingPartyMismatch="RelyingPartyMismatch",i.PasskeyRegistrationFailed="PasskeyRegistrationFailed",i.PasskeyRetrievalFailed="PasskeyRetrievalFailed",i.PasskeyRegistrationCanceled="PasskeyRegistrationCanceled",i.PasskeyAuthenticationCanceled="PasskeyAuthenticationCanceled",i.PasskeyOperationAborted="PasskeyOperationAborted";let P="User may have canceled the ceremony or another interruption has occurred. Check underlying error for details.",k="Ensure your user pool is configured to support the WEB_AUTHN as an authentication factor.",D={[r.PasskeyNotSupported]:{message:"Passkeys may not be supported on this device.",recoverySuggestion:R},[r.InvalidPasskeyRegistrationOptions]:{message:"Invalid passkey registration options.",recoverySuggestion:k},[r.InvalidPasskeyAuthenticationOptions]:{message:"Invalid passkey authentication options.",recoverySuggestion:k},[r.PasskeyRegistrationFailed]:{message:"Device failed to create passkey.",recoverySuggestion:R},[r.PasskeyRetrievalFailed]:{message:"Device failed to retrieve passkey.",recoverySuggestion:"Passkeys may not be available on this device. Try an alternative authentication factor like PASSWORD, EMAIL_OTP, or SMS_OTP."},[r.PasskeyAlreadyExists]:{message:"Passkey already exists in authenticator.",recoverySuggestion:"Proceed with existing passkey or try again after deleting the credential."},[r.PasskeyRegistrationCanceled]:{message:"Passkey registration ceremony has been canceled.",recoverySuggestion:P},[r.PasskeyAuthenticationCanceled]:{message:"Passkey authentication ceremony has been canceled.",recoverySuggestion:P},[r.PasskeyOperationAborted]:{message:"Passkey operation has been aborted.",recoverySuggestion:P},[r.RelyingPartyMismatch]:{message:"Relying party does not match current domain.",recoverySuggestion:"Ensure relying party identifier matches current domain."}},M=(0,N.$)(D,O);var U=n(35332);let F=e=>{if(e instanceof Error){if("AbortError"===e.name){let{message:t,recoverySuggestion:n}=D[r.PasskeyOperationAborted];return new O({name:r.PasskeyOperationAborted,message:t,recoverySuggestion:n,underlyingError:e})}if("SecurityError"===e.name){let{message:t,recoverySuggestion:n}=D[r.RelyingPartyMismatch];return new O({name:r.RelyingPartyMismatch,message:t,recoverySuggestion:n,underlyingError:e})}}return new O({name:U.Z.Unknown,message:"An unknown error has occurred.",underlyingError:e})},L=e=>{if(e instanceof O)return e;if(e instanceof Error&&"NotAllowedError"===e.name){let{message:t,recoverySuggestion:n}=D[r.PasskeyAuthenticationCanceled];return new O({name:r.PasskeyAuthenticationCanceled,message:t,recoverySuggestion:n,underlyingError:e})}return F(e)};var B=n(86226);let q=()=>(0,B.j)()&&window.isSecureContext&&"credentials"in navigator&&"function"==typeof window.PublicKeyCredential;var $=n(86530);let K=e=>$.u.convert(new Uint8Array(e),{urlSafe:!0,skipPadding:!0});var V=n(19889);let j=e=>Uint8Array.from(V.$.convert(e,{urlSafe:!0}),e=>e.charCodeAt(0)).buffer,G=e=>{let t=j(e.challenge),n=(e.allowCredentials||[]).map(e=>({...e,id:j(e.id)}));return{...e,challenge:t,allowCredentials:n}},z=e=>{let t={clientDataJSON:K(e.response.clientDataJSON),authenticatorData:K(e.response.authenticatorData),signature:K(e.response.signature)};e.response.userHandle&&(t.userHandle=K(e.response.userHandle));let n={id:e.id,rawId:K(e.rawId),type:e.type,clientExtensionResults:e.getClientExtensionResults(),response:t};return e.authenticatorAttachment&&(n.authenticatorAttachment=e.authenticatorAttachment),n},W=async e=>{try{let t=q();M(t,r.PasskeyNotSupported);let n=G(e),i=await navigator.credentials.get({publicKey:n});return M(i&&i instanceof PublicKeyCredential&&i.response instanceof AuthenticatorAssertionResponse,r.PasskeyRetrievalFailed),z(i)}catch(e){throw L(e)}};var H=n(72286);async function Q(e){let t=o.d.getConfig().Auth?.Cognito;(0,a.FG)(t);let{username:n,signInSession:i,signInDetails:c,challengeName:l}=C.signInStore.getState();if("WEB_AUTHN"!==l||!n)throw new u.l({name:d.kq.SignInException,message:"Unable to proceed due to invalid sign in state."});let{CREDENTIAL_REQUEST_OPTIONS:h}=e;M(!!h,r.InvalidPasskeyAuthenticationOptions);let f=await W(JSON.parse(h)),y=(0,w.u)({endpointResolver:(0,I.e)({endpointOverride:t.userPoolEndpoint})}),{ChallengeName:m,ChallengeParameters:g,AuthenticationResult:E,Session:v}=await y({region:(0,T.y)(t.userPoolId),userAgentValue:(0,p.W)(s.g4.ConfirmSignIn)},{ChallengeName:"WEB_AUTHN",ChallengeResponses:{USERNAME:n,CREDENTIAL:JSON.stringify(f)},ClientId:t.userPoolClientId,Session:i});if((0,C.k4)({signInSession:v,username:n,challengeName:m,signInDetails:c}),E)return await (0,x.x)({...E,username:n,NewDeviceMetadata:await (0,H.F)({userPoolId:t.userPoolId,userPoolEndpoint:t.userPoolEndpoint,newDeviceMetadata:E.NewDeviceMetadata,accessToken:E.AccessToken}),signInDetails:c}),C.signInStore.dispatch({type:"RESET_STATE"}),await (0,A.O)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}};if("WEB_AUTHN"===m)throw new u.l({name:d.kq.SignInException,message:"Sequential WEB_AUTHN challenges returned from underlying service cannot be handled."});return{challengeName:m,challengeParameters:g}}var Y=n(58463),X=n(63610);n(74497);var J=n(14843),Z=n(64244),ee=n(2545),et=n(79260),en=n(22943);let ei="userAttributes.";async function er(e,t,n,i,r){let{userPoolClientId:o,userPoolId:a,userPoolEndpoint:c}=i,u={USERNAME:e,PASSWORD:t},l=await r.getDeviceMetadata(e);l&&l.deviceKey&&(u.DEVICE_KEY=l.deviceKey);let d=(0,J.u)({username:e,userPoolId:a,userPoolClientId:o}),h=(0,y.N)({endpointResolver:(0,I.e)({endpointOverride:c})}),f=await h({region:(0,T.y)(a),userAgentValue:(0,p.W)(s.g4.SignIn)},{AuthFlow:"USER_PASSWORD_AUTH",AuthParameters:u,ClientMetadata:n,ClientId:o,UserContextData:d}),m=f.ChallengeParameters?.USERNAME??f.ChallengeParameters?.USER_ID_FOR_SRP??e;return((0,en.r)(m),"DEVICE_SRP_AUTH"===f.ChallengeName)?(0,ee.z)({username:m,config:i,clientMetadata:n,session:f.Session,tokenOrchestrator:r}):f}async function eo(e,t,n,i,r){return(0,Y.h)({username:e,password:t,clientMetadata:n,config:i,tokenOrchestrator:r,authFlow:"USER_SRP_AUTH"})}async function es(e,t,n,i){let{userPoolClientId:r,userPoolId:o,userPoolEndpoint:a}=n,c={USERNAME:e},u=await i.getDeviceMetadata(e);u&&u.deviceKey&&(c.DEVICE_KEY=u.deviceKey);let l=(0,J.u)({username:e,userPoolId:o,userPoolClientId:r}),d=(0,y.N)({endpointResolver:(0,I.e)({endpointOverride:a})}),h=await d({region:(0,T.y)(o),userAgentValue:(0,p.W)(s.g4.SignIn)},{AuthFlow:"CUSTOM_AUTH",AuthParameters:c,ClientMetadata:t,ClientId:r,UserContextData:l}),f=h.ChallengeParameters?.USERNAME??e;return((0,en.r)(f),"DEVICE_SRP_AUTH"===h.ChallengeName)?(0,ee.z)({username:f,config:n,clientMetadata:t,session:h.Session,tokenOrchestrator:i}):h}async function ea(e,t,n,i,r){(0,a.FG)(i);let{userPoolId:o,userPoolClientId:c,userPoolEndpoint:u}=i,l=o?.split("_")[1]||"",d=await (0,X.d)(l),h={USERNAME:e,SRP_A:d.A.toString(16),CHALLENGE_NAME:"SRP_A"},f=(0,J.u)({username:e,userPoolId:o,userPoolClientId:c}),m=(0,y.N)({endpointResolver:(0,I.e)({endpointOverride:u})}),{ChallengeParameters:g,Session:E}=await m({region:(0,T.y)(o),userAgentValue:(0,p.W)(s.g4.SignIn)},{AuthFlow:"CUSTOM_AUTH",AuthParameters:h,ClientMetadata:n,ClientId:c,UserContextData:f}),v=g?.USERNAME??e;return(0,en.r)(v),(0,et.H)(Z.i,[t,g,n,E,d,i,r],v,r)}async function ec(e){var t;let{challengeName:n,challengeParameters:i,availableChallenges:r}=e,s=o.d.getConfig().Auth?.Cognito;switch((0,a.FG)(s),n){case"CUSTOM_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_CUSTOM_CHALLENGE",additionalInfo:i}};case"MFA_SETUP":{let{signInSession:e,username:t}=C.signInStore.getState(),n=ed(eh(i.MFAS_CAN_SETUP))||[],r=n.filter(e=>"EMAIL"===e||"TOTP"===e),o=r.includes("TOTP"),a=r.includes("EMAIL");if(o&&a)return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SETUP_SELECTION",allowedMFATypes:r}};if(a)return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_EMAIL_SETUP"}};if(o){let n=S({endpointResolver:(0,I.e)({endpointOverride:s.userPoolEndpoint})}),{Session:i,SecretCode:r}=await n({region:(0,T.y)(s.userPoolId)},{Session:e});return C.signInStore.dispatch({type:"SET_SIGN_IN_SESSION",value:i}),{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_TOTP_SETUP",totpSetupDetails:{sharedSecret:r,getSetupUri:(e,n)=>{let i=`otpauth://totp/${e}:${n??t}?secret=${r}&issuer=${e}`;return new c.a(i)}}}}}throw new u.l({name:d.kq.SignInException,message:`Cannot initiate MFA setup from available types: ${n}`})}case"NEW_PASSWORD_REQUIRED":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_NEW_PASSWORD_REQUIRED",missingAttributes:(t=i.requiredAttributes)?JSON.parse(t).map(e=>e.includes(ei)?e.replace(ei,""):e):[]}};case"SELECT_MFA_TYPE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_MFA_SELECTION",allowedMFATypes:ed(eh(i.MFAS_CAN_CHOOSE))}};case"SMS_OTP":case"SMS_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_SMS_CODE",codeDeliveryDetails:{deliveryMedium:i.CODE_DELIVERY_DELIVERY_MEDIUM,destination:i.CODE_DELIVERY_DESTINATION}}};case"SOFTWARE_TOKEN_MFA":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_TOTP_CODE"}};case"EMAIL_OTP":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_EMAIL_CODE",codeDeliveryDetails:{deliveryMedium:i.CODE_DELIVERY_DELIVERY_MEDIUM,destination:i.CODE_DELIVERY_DESTINATION}}};case"WEB_AUTHN":{let e=await Q(i);if("isSignedIn"in e&&"nextStep"in e)return e;return ec(e)}case"PASSWORD":case"PASSWORD_SRP":return{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_IN_WITH_PASSWORD"}};case"SELECT_CHALLENGE":return{isSignedIn:!1,nextStep:{signInStep:"CONTINUE_SIGN_IN_WITH_FIRST_FACTOR_SELECTION",availableChallenges:r}}}throw new u.l({name:d.kq.SignInException,message:`An error occurred during the sign in process. ${n} challengeName returned by the underlying service was not addressed.`})}function eu(e){return e===l.OK.PasswordResetRequiredException?{isSignedIn:!1,nextStep:{signInStep:"RESET_PASSWORD"}}:e===l.OK.UserNotConfirmedException?{isSignedIn:!1,nextStep:{signInStep:"CONFIRM_SIGN_UP"}}:void 0}function el(e){return"SMS_MFA"===e?"SMS":"SOFTWARE_TOKEN_MFA"===e?"TOTP":"EMAIL_OTP"===e?"EMAIL":void 0}function ed(e){if(e)return e.map(el).filter(Boolean)}function eh(e){return e?JSON.parse(e):[]}async function ef(){let e;try{e=await (0,f.t)()}catch(e){}if(e&&e.userId&&e.username)throw new u.l({name:h.EU,message:"There is already a signed in user.",recoverySuggestion:"Call signOut before calling signIn again."})}function ep(e){return C.signInStore.getState().username??e}},58506:function(e,t,n){"use strict";n.d(t,{R:function(){return c}});var i=n(71634),r=n(1182),o=n(29093);let s="amplify-signin-with-hostedUI",a="CognitoIdentityServiceProvider";class c{constructor(e){this.keyValueStorage=e}async clearOAuthInflightData(){(0,i.FG)(this.cognitoConfig);let e=u(a,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){(0,i.FG)(this.cognitoConfig);let e=u(a,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(s),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){(0,i.FG)(this.cognitoConfig);let e=u(a,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){(0,i.FG)(this.cognitoConfig);let t=u(a,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthState,e)}loadPKCE(){(0,i.FG)(this.cognitoConfig);let e=u(a,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){(0,i.FG)(this.cognitoConfig);let t=u(a,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){(0,i.FG)(this.cognitoConfig);let e=u(a,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(e.inflightOAuth)==="true"}async storeOAuthInFlight(e){(0,i.FG)(this.cognitoConfig);let t=u(a,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(t.inflightOAuth,`${e}`)}async loadOAuthSignIn(){(0,i.FG)(this.cognitoConfig);let e=u(a,this.cognitoConfig.userPoolClientId),t=await this.keyValueStorage.getItem(s),[n,r]=(await this.keyValueStorage.getItem(e.oauthSignIn))?.split(",")??[];return{isOAuthSignIn:"true"===n||"true"===t,preferPrivateSession:"true"===r}}async storeOAuthSignIn(e,t=!1){(0,i.FG)(this.cognitoConfig);let n=u(a,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.oauthSignIn,`${e},${t}`)}}let u=(e,t)=>(0,r._X)(o.Bx)(e,t)},6841:function(e,t,n){"use strict";let i,r,o;function s(e,t){null!=e&&this.fromString(e,t)}function a(){return new s(null,null)}n.d(t,{Z:function(){return s}});let c="undefined"!=typeof navigator;c&&"Microsoft Internet Explorer"===navigator.appName?(s.prototype.am=function(e,t,n,i,r,o){let s=32767&t,a=t>>15;for(;--o>=0;){let t=32767&this[e],o=this[e++]>>15,c=a*t+o*s;r=((t=s*t+((32767&c)<<15)+n[i]+(1073741823&r))>>>30)+(c>>>15)+a*o+(r>>>30),n[i++]=1073741823&t}return r},i=30):c&&"Netscape"!==navigator.appName?(s.prototype.am=function(e,t,n,i,r,o){for(;--o>=0;){let o=t*this[e++]+n[i]+r;r=Math.floor(o/67108864),n[i++]=67108863&o}return r},i=26):(s.prototype.am=function(e,t,n,i,r,o){let s=16383&t,a=t>>14;for(;--o>=0;){let t=16383&this[e],o=this[e++]>>14,c=a*t+o*s;r=((t=s*t+((16383&c)<<14)+n[i]+r)>>28)+(c>>14)+a*o,n[i++]=268435455&t}return r},i=28),s.prototype.DB=i,s.prototype.DM=(1<<i)-1,s.prototype.DV=1<<i,s.prototype.FV=4503599627370496,s.prototype.F1=52-i,s.prototype.F2=2*i-52;let u=[];for(o=0,r=48;o<=9;++o)u[r++]=o;for(o=10,r=97;o<36;++o)u[r++]=o;for(o=10,r=65;o<36;++o)u[r++]=o;function l(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function d(e){let t=a();return t.fromInt(e),t}function h(e){let t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function f(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}f.prototype.convert=function(e){let t=a();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(s.ZERO)>0&&this.m.subTo(t,t),t},f.prototype.revert=function(e){let t=a();return e.copyTo(t),this.reduce(t),t},f.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(let t=0;t<this.m.t;++t){let n=32767&e[t],i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},f.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},f.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},s.prototype.copyTo=function(e){for(let t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},s.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},s.prototype.fromString=function(e,t){let n;if(16===t)n=4;else if(8===t)n=3;else if(2===t)n=1;else if(32===t)n=5;else if(4===t)n=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;let i=e.length,r=!1,o=0;for(;--i>=0;){let t=function(e,t){let n=u[e.charCodeAt(t)];return null==n?-1:n}(e,i);if(t<0){"-"===e.charAt(i)&&(r=!0);continue}r=!1,0===o?this[this.t++]=t:o+n>this.DB?(this[this.t-1]|=(t&(1<<this.DB-o)-1)<<o,this[this.t++]=t>>this.DB-o):this[this.t-1]|=t<<o,(o+=n)>=this.DB&&(o-=this.DB)}this.clamp(),r&&s.ZERO.subTo(this,this)},s.prototype.clamp=function(){let e=this.s&this.DM;for(;this.t>0&&this[this.t-1]==e;)--this.t},s.prototype.dlShiftTo=function(e,t){let n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},s.prototype.drShiftTo=function(e,t){for(let n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},s.prototype.lShiftTo=function(e,t){let n;let i=e%this.DB,r=this.DB-i,o=(1<<r)-1,s=Math.floor(e/this.DB),a=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>r|a,a=(this[n]&o)<<i;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},s.prototype.rShiftTo=function(e,t){t.s=this.s;let n=Math.floor(e/this.DB);if(n>=this.t){t.t=0;return}let i=e%this.DB,r=this.DB-i,o=(1<<i)-1;t[0]=this[n]>>i;for(let e=n+1;e<this.t;++e)t[e-n-1]|=(this[e]&o)<<r,t[e-n]=this[e]>>i;i>0&&(t[this.t-n-1]|=(this.s&o)<<r),t.t=this.t-n,t.clamp()},s.prototype.subTo=function(e,t){let n=0,i=0,r=Math.min(e.t,this.t);for(;n<r;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[n++]=this.DV+i:i>0&&(t[n++]=i),t.t=n,t.clamp()},s.prototype.multiplyTo=function(e,t){let n=this.abs(),i=e.abs(),r=n.t;for(t.t=r+i.t;--r>=0;)t[r]=0;for(r=0;r<i.t;++r)t[r+n.t]=n.am(0,i[r],t,r,0,n.t);t.s=0,t.clamp(),this.s!==e.s&&s.ZERO.subTo(t,t)},s.prototype.squareTo=function(e){let t=this.abs(),n=e.t=2*t.t;for(;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){let i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},s.prototype.divRemTo=function(e,t,n){let i=e.abs();if(i.t<=0)return;let r=this.abs();if(r.t<i.t){null!=t&&t.fromInt(0),null!=n&&this.copyTo(n);return}null===n&&(n=a());let o=a(),c=this.s,u=e.s,l=this.DB-h(i[i.t-1]);l>0?(i.lShiftTo(l,o),r.lShiftTo(l,n)):(i.copyTo(o),r.copyTo(n));let d=o.t,f=o[d-1];if(0===f)return;let p=f*(1<<this.F1)+(d>1?o[d-2]>>this.F2:0),y=this.FV/p,m=(1<<this.F1)/p,g=1<<this.F2,E=n.t,v=E-d,b=null===t?a():t;for(o.dlShiftTo(v,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),s.ONE.dlShiftTo(d,b),b.subTo(o,o);o.t<d;)o[o.t++]=0;for(;--v>=0;){let e=n[--E]===f?this.DM:Math.floor(n[E]*y+(n[E-1]+g)*m);if((n[E]+=o.am(0,e,n,v,0,d))<e)for(o.dlShiftTo(v,b),n.subTo(b,n);n[E]<--e;)n.subTo(b,n)}null!==t&&(n.drShiftTo(d,t),c!==u&&s.ZERO.subTo(t,t)),n.t=d,n.clamp(),l>0&&n.rShiftTo(l,n),c<0&&s.ZERO.subTo(n,n)},s.prototype.invDigit=function(){if(this.t<1)return 0;let e=this[0];if((1&e)==0)return 0;let t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},s.prototype.addTo=function(e,t){let n=0,i=0,r=Math.min(e.t,this.t);for(;n<r;)i+=this[n]+e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i+=e[n],t[n++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=i<0?-1:0,i>0?t[n++]=i:i<-1&&(t[n++]=this.DV+i),t.t=n,t.clamp()},s.prototype.toString=function(e){let t,n;if(this.s<0)return"-"+this.negate().toString(e);if(16==e)t=4;else if(8===e)t=3;else if(2===e)t=1;else if(32===e)t=5;else if(4===e)t=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");let i=(1<<t)-1,r=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(r=!0,o=l(n));s>=0;)a<t?n=(this[s]&(1<<a)-1)<<t-a|this[--s]>>(a+=this.DB-t):(n=this[s]>>(a-=t)&i,a<=0&&(a+=this.DB,--s)),n>0&&(r=!0),r&&(o+=l(n));return r?o:"0"},s.prototype.negate=function(){let e=a();return s.ZERO.subTo(this,e),e},s.prototype.abs=function(){return this.s<0?this.negate():this},s.prototype.compareTo=function(e){let t=this.s-e.s;if(0!=t)return t;let n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},s.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+h(this[this.t-1]^this.s&this.DM)},s.prototype.mod=function(e){let t=a();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(s.ZERO)>0&&e.subTo(t,t),t},s.prototype.equals=function(e){return 0===this.compareTo(e)},s.prototype.add=function(e){let t=a();return this.addTo(e,t),t},s.prototype.subtract=function(e){let t=a();return this.subTo(e,t),t},s.prototype.multiply=function(e){let t=a();return this.multiplyTo(e,t),t},s.prototype.divide=function(e){let t=a();return this.divRemTo(e,t,null),t},s.prototype.modPow=function(e,t,n){let i,r,o,s=e.bitLength(),c=d(1),u=new f(t);if(s<=0)return c;let l=[],p=3,y=(i=s<18?1:s<48?3:s<144?4:s<768?5:6)-1,m=(1<<i)-1;if(l[1]=u.convert(this),i>1){let e=a();for(u.sqrTo(l[1],e);p<=m;)l[p]=a(),u.mulTo(e,l[p-2],l[p]),p+=2}let g=e.t-1,E=!0,v=a();for(s=h(e[g])-1;g>=0;){for(s>=y?r=e[g]>>s-y&m:(r=(e[g]&(1<<s+1)-1)<<y-s,g>0&&(r|=e[g-1]>>this.DB+s-y)),p=i;(1&r)==0;)r>>=1,--p;if((s-=p)<0&&(s+=this.DB,--g),E)l[r].copyTo(c),E=!1;else{for(;p>1;)u.sqrTo(c,v),u.sqrTo(v,c),p-=2;p>0?u.sqrTo(c,v):(o=c,c=v,v=o),u.mulTo(v,l[r],c)}for(;g>=0&&(e[g]&1<<s)==0;)u.sqrTo(c,v),o=c,c=v,v=o,--s<0&&(s=this.DB-1,--g)}let b=u.revert(c);return n(null,b),b},s.ZERO=d(0),s.ONE=d(1)},58216:function(e,t,n){"use strict";n.d(t,{$v:function(){return i},H3:function(){return o},rt:function(){return r}});let i="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",r={},o={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),r[e]=t,o[t]=e}},63610:function(e,t,n){"use strict";n.d(t,{d:function(){return w}});var i=n(89560),r=n(34506),o=n(6841);let s=async({a:e,g:t,k:n,x:i,B:r,N:o,U:s})=>new Promise((a,c)=>{t.modPow(i,o,(t,u)=>{if(t){c(t);return}r.subtract(n.multiply(u)).modPow(e.add(s.multiply(i)),o,(e,t)=>{if(e){c(e);return}a(t.mod(o))})})});var a=n(4583),c=n(74497),u=n(58216);let l=e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=u.rt[e[n]];return t},d=e=>{let t=new c.f;t.update(e);let n=l(t.digestSync());return Array(64-n.length).join("0")+n},h=e=>d((0,a.z)(e)),f=/^[89a-f]/i,p=e=>{if(!(e instanceof o.Z))throw Error("Not a BigInteger");let t=0>e.compareTo(o.Z.ZERO),n=e.abs().toString(16);if(n=n.length%2!=0?`0${n}`:n,n=f.test(n)?`00${n}`:n,t){let e=n.split("").map(e=>{let t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)}).join("");(n=new o.Z(e,16).add(o.Z.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},y=({A:e,B:t})=>{let n=new o.Z(h(p(e)+p(t)),16);if(n.equals(o.Z.ZERO))throw Error("U cannot be zero.");return n},m=(e,t,n)=>{let i=new c.f(t);i.update(e);let r=i.digestSync(),o=new c.f(r);return o.update(n),o.digestSync().slice(0,16)};var g=n(16214);class E{constructor(e,t){this.words=[];let n=e;n=this.words=n||[],void 0!==t?this.sigBytes=t:this.sigBytes=4*n.length}random(e){let t=[];for(let n=0;n<e;n+=4)t.push((0,g.MX)().getRandomValues(new Uint32Array(1))[0]);return new E(t,e)}toString(){return function(e){let{words:t}=e,{sigBytes:n}=e,i=[];for(let e=0;e<n;e++){let n=t[e>>>2]>>>24-e%4*8&255;i.push((n>>>4).toString(16)),i.push((15&n).toString(16))}return i.join("")}(this)}}let v=e=>{let t=new E().random(e).toString();return(0,a.z)(t)};var b=n(86530);let S=()=>b.u.convert(v(40));class I{constructor({userPoolName:e,a:t,g:n,A:i,N:s}){this.encoder=r.o,this.userPoolName=e,this.a=t,this.g=n,this.A=i,this.N=s,this.k=new o.Z(h(`${p(s)}${p(n)}`),16)}getRandomPassword(){if(!this.randomPassword)throw new i.l({name:"EmptyBigIntegerRandomPassword",message:"random password is empty"});return this.randomPassword}getSaltToHashDevices(){if(!this.saltToHashDevices)throw new i.l({name:"EmptyBigIntegersaltToHashDevices",message:"saltToHashDevices is empty"});return this.saltToHashDevices}getVerifierDevices(){if(!this.verifierDevices)throw new i.l({name:"EmptyBigIntegerVerifierDevices",message:"verifyDevices is empty"});return this.verifierDevices}async generateHashDevice(e,t){this.randomPassword=S();let n=d(`${e}${t}:${this.randomPassword}`),i=l(v(16));return this.saltToHashDevices=p(new o.Z(i,16)),new Promise((e,t)=>{this.g.modPow(new o.Z(h(this.saltToHashDevices+n),16),this.N,(n,i)=>{if(n){t(n);return}this.verifierDevices=p(i),e()})})}async getPasswordAuthenticationKey({username:e,password:t,serverBValue:n,salt:i}){if(n.mod(this.N).equals(o.Z.ZERO))throw Error("B cannot be zero.");let r=y({A:this.A,B:n}),c=d(`${this.userPoolName}${e}:${t}`),u=new o.Z(h(p(i)+c),16),l=await s({a:this.a,g:this.g,k:this.k,x:u,B:n,N:this.N,U:r}),f=this.encoder.convert("Caldera Derived Key"),g=this.encoder.convert("\x01"),E=new Uint8Array(f.byteLength+g.byteLength);return E.set(f,0),E.set(g,f.byteLength),m((0,a.z)(p(l)),(0,a.z)(p(r)),E)}}let T=async({a:e,g:t,N:n})=>new Promise((i,r)=>{t.modPow(e,n,(e,t)=>{if(e){r(e);return}if(t.mod(n).equals(o.Z.ZERO)){r(Error("Illegal parameter. A mod N cannot be 0."));return}i(t)})}),w=async e=>{let t=new o.Z(u.$v,16),n=new o.Z("2",16),i=x(),r=await T({a:i,g:n,N:t});return new I({userPoolName:e,a:i,g:n,A:r,N:t})},x=()=>{let e=l(v(128));return new o.Z(e,16)}},4583:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var i=n(58216);let r=e=>{if(e.length%2!=0)throw Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){let r=e.slice(n,n+2).toLowerCase();if(r in i.H3)t[n/2]=i.H3[r];else throw Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return t}},4984:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});let i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=()=>{let e=new Date,t=r[e.getUTCDay()],n=i[e.getUTCMonth()],o=e.getUTCDate(),s=e.getUTCHours();s<10&&(s=`0${s}`);let a=e.getUTCMinutes();a<10&&(a=`0${a}`);let c=e.getUTCSeconds();c<10&&(c=`0${c}`);let u=e.getUTCFullYear();return`${t} ${n} ${o} ${s}:${a}:${c} UTC ${u}`}},14344:function(e,t,n){"use strict";n.d(t,{i:function(){return a}});var i=n(74497),r=n(86530),o=n(19889),s=n(34506);let a=({userPoolName:e,username:t,challengeParameters:n,dateNow:o,hkdf:a})=>{let u=s.o.convert(e),l=s.o.convert(t),d=c(n.SECRET_BLOCK),h=s.o.convert(o),f=new Uint8Array(u.byteLength+l.byteLength+d.byteLength+h.byteLength);f.set(u,0),f.set(l,u.byteLength),f.set(d,u.byteLength+l.byteLength),f.set(h,u.byteLength+l.byteLength+d.byteLength);let p=new i.f(a);p.update(f);let y=p.digestSync();return r.u.convert(y)},c=e=>{let t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),i=o.$.convert(n),r=new Uint8Array(i.length);for(let e=0;e<i.length;++e)r[e]=i.charCodeAt(e);return r}},34506:function(e,t,n){"use strict";n.d(t,{o:function(){return i}});let i={convert:e=>new TextEncoder().encode(e)}},29093:function(e,t,n){"use strict";n.d(t,{Bx:function(){return d},CA:function(){return o},Cg:function(){return s},XD:function(){return u},tr:function(){return l}});var i=n(89560),r=n(77743);function o(e){if(!e||!e.accessToken)throw new i.l({name:r.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}function s(e){if(!e||!e.idToken)throw new i.l({name:r.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}let a=new i.l({name:r.hj,message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),c=new i.l({name:r.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function u(e){if(h(e)&&!e?.refreshToken)throw a;if(!(h(e)&&e?.refreshToken))throw c}function l(e){if(!e||!e.deviceKey||!e.deviceGroupKey||!e.randomPassword)throw new i.l({name:r.mP,message:"Either deviceKey, deviceGroupKey or secretPassword were not found during the sign-in process.",recoverySuggestion:"Make sure to not clear storage after calling the signIn API."})}let d={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function h(e){return e?.accessToken||e?.idToken}},14843:function(e,t,n){"use strict";function i({username:e,userPoolId:t,userPoolClientId:n}){if("undefined"==typeof window)return;let i=window.AmazonCognitoAdvancedSecurityData;if(void 0===i)return;let r=i.getData(e,t,n);return r?{EncodedData:r}:{}}n.d(t,{u:function(){return i}})},81247:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var i=n(75570),r=n(60443);let o=(e,t)=>(0,i.Zm)({category:r.WD.Auth,action:e,...t})},97971:function(e,t,n){"use strict";n.d(t,{C:function(){return b}});var i,r,o=n(63446),s=n(28944),a=n(67227);let c={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8},u="CurSize";function l(e){let t=0;t=e.length;for(let n=e.length;n>=0;n-=1){let i=e.charCodeAt(n);i>127&&i<=2047?t+=1:i>2047&&i<=65535&&(t+=2),i>=56320&&i<=57343&&(n-=1)}return t}function d(){return new Date().getTime()}let h=e=>`${e}${u}`;var f=n(40054);(i=r||(r={})).NoCacheItem="NoCacheItem",i.NullNextNode="NullNextNode",i.NullPreviousNode="NullPreviousNode";let p={[r.NoCacheItem]:{message:"Item not found in the cache storage."},[r.NullNextNode]:{message:"Next node is null."},[r.NullPreviousNode]:{message:"Previous node is null."}},y=(0,f.$)(p),m=new o.k("StorageCache");class g{constructor({config:e,keyValueStorage:t}){this.config={...c,...e},this.keyValueStorage=t,this.sanitizeConfig()}getModuleName(){return"Cache"}configure(e){return e&&(e.keyPrefix&&m.warn("keyPrefix can not be re-configured on an existing Cache instance."),this.config={...this.config,...e}),this.sanitizeConfig(),this.config}async getCurrentCacheSize(){let e=await this.getStorage().getItem(h(this.config.keyPrefix));return e||(await this.getStorage().setItem(h(this.config.keyPrefix),"0"),e="0"),Number(e)}async setItem(e,t,n){if(m.debug(`Set item: key is ${e}, value is ${t} with options: ${n}`),!e||e===u){m.warn(`Invalid key: should not be empty or reserved key: '${u}'`);return}if(void 0===t){m.warn("The value of item should not be undefined!");return}let i={priority:n?.priority!==void 0?n.priority:this.config.defaultPriority,expires:n?.expires!==void 0?n.expires:this.config.defaultTTL+d()};if(i.priority<1||i.priority>5){m.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");return}let r=`${this.config.keyPrefix}${e}`,o=this.fillCacheItem(r,t,i);if(o.byteSize>this.config.itemMaxSize){m.warn(`Item with key: ${e} you are trying to put into is too big!`);return}try{let e=await this.getStorage().getItem(r);if(e&&await this.removeCacheItem(r,JSON.parse(e).byteSize),await this.isCacheFull(o.byteSize)){let e=await this.clearInvalidAndGetRemainingKeys();if(await this.isCacheFull(o.byteSize)){let t=await this.sizeToPop(o.byteSize);await this.popOutItems(e,t)}}return this.setCacheItem(r,o)}catch(e){m.warn(`setItem failed! ${e}`)}}async getItem(e,t){let n;if(m.debug(`Get item: key is ${e} with options ${t}`),!e||e===u)return m.warn(`Invalid key: should not be empty or reserved key: '${u}'`),null;let i=`${this.config.keyPrefix}${e}`;try{if(n=await this.getStorage().getItem(i),null!=n){if(!await this.isExpired(i))return(await this.updateVisitedTime(JSON.parse(n),i)).data;await this.removeCacheItem(i,JSON.parse(n).byteSize)}if(t?.callback){let n=t.callback();return null!==n&&await this.setItem(e,n,t),n}return null}catch(e){return m.warn(`getItem failed! ${e}`),null}}async removeItem(e){if(m.debug(`Remove item: key is ${e}`),!e||e===u){m.warn(`Invalid key: should not be empty or reserved key: '${u}'`);return}let t=`${this.config.keyPrefix}${e}`;try{let e=await this.getStorage().getItem(t);e&&await this.removeCacheItem(t,JSON.parse(e).byteSize)}catch(e){m.warn(`removeItem failed! ${e}`)}}async getAllKeys(){try{return await this.getAllCacheKeys()}catch(e){return m.warn(`getAllkeys failed! ${e}`),[]}}getStorage(){return this.keyValueStorage}async isExpired(e){let t=await this.getStorage().getItem(e);y(null!==t,r.NoCacheItem,`Key: ${e}`);let n=JSON.parse(t);return d()>=n.expires}async removeCacheItem(e,t){let n=await this.getStorage().getItem(e);y(null!==n,r.NoCacheItem,`Key: ${e}`);let i=t??JSON.parse(n).byteSize;await this.decreaseCurrentSizeInBytes(i);try{await this.getStorage().removeItem(e)}catch(e){await this.increaseCurrentSizeInBytes(i),m.error(`Failed to remove item: ${e}`)}}fillCacheItem(e,t,n){let i={key:e,data:t,timestamp:d(),visitedTime:d(),priority:n.priority??0,expires:n.expires??0,type:typeof t,byteSize:0};return i.byteSize=l(JSON.stringify(i)),i.byteSize=l(JSON.stringify(i)),i}sanitizeConfig(){this.config.itemMaxSize>this.config.capacityInBytes&&(m.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=c.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(m.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=c.defaultPriority),(Number(this.config.warningThreshold)>1||0>Number(this.config.warningThreshold))&&(m.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=c.warningThreshold),this.config.capacityInBytes>5242880&&(m.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=c.capacityInBytes)}async increaseCurrentSizeInBytes(e){let t=await this.getCurrentCacheSize();await this.getStorage().setItem(h(this.config.keyPrefix),(t+e).toString())}async decreaseCurrentSizeInBytes(e){let t=await this.getCurrentCacheSize();await this.getStorage().setItem(h(this.config.keyPrefix),(t-e).toString())}async updateVisitedTime(e,t){return e.visitedTime=d(),await this.getStorage().setItem(t,JSON.stringify(e)),e}async setCacheItem(e,t){await this.increaseCurrentSizeInBytes(t.byteSize);try{await this.getStorage().setItem(e,JSON.stringify(t))}catch(e){await this.decreaseCurrentSizeInBytes(t.byteSize),m.error(`Failed to set item ${e}`)}}async sizeToPop(e){let t=await this.getCurrentCacheSize()+e-this.config.capacityInBytes,n=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>n?t:n}async isCacheFull(e){return e+await this.getCurrentCacheSize()>this.config.capacityInBytes}async popOutItems(e,t){let n=[],i=t;for(let t of e){let e=await this.getStorage().getItem(t);if(null!=e){let t=JSON.parse(e);n.push(t)}}for(let e of(n.sort((e,t)=>e.priority>t.priority?-1:e.priority<t.priority?1:e.visitedTime<t.visitedTime?-1:1),n))if(await this.removeCacheItem(e.key,e.byteSize),(i-=e.byteSize)<=0)return}async clearInvalidAndGetRemainingKeys(){let e=[];for(let t of(await this.getAllCacheKeys({omitSizeKey:!0})))await this.isExpired(t)?await this.removeCacheItem(t):e.push(t);return e}async clear(){m.debug("Clear Cache");try{for(let e of(await this.getAllKeys())){let t=`${this.config.keyPrefix}${e}`;await this.getStorage().removeItem(t)}}catch(e){m.warn(`clear failed! ${e}`)}}}let E=new o.k("StorageCache");class v extends g{constructor(e){let t=(0,a.K)();super({config:e,keyValueStorage:new s.T(t)}),this.storage=t,this.getItem=this.getItem.bind(this),this.setItem=this.setItem.bind(this),this.removeItem=this.removeItem.bind(this)}async getAllCacheKeys(e){let{omitSizeKey:t}=e??{},n=[];for(let e=0;e<this.storage.length;e++){let i=this.storage.key(e);(!t||i!==h(this.config.keyPrefix))&&i?.startsWith(this.config.keyPrefix)&&n.push(i.substring(this.config.keyPrefix.length))}return n}createInstance(e){return e.keyPrefix&&e.keyPrefix!==c.keyPrefix||(E.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=d.toString()),new v(e)}}let b=new v},10397:function(e,t,n){"use strict";n.d(t,{SQ:function(){return s},Xb:function(){return u},qC:function(){return l}});var i=n(63446),r=n(41442),o=n(62044);let s="undefined"!=typeof Symbol?Symbol("amplify_default"):"@@amplify_default",a=new i.k("Hub");class c{constructor(e){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}_remove(e,t){let n=this.listeners.get(e);if(!n){a.warn(`No listeners for ${e}`);return}this.listeners.set(e,[...n.filter(({callback:e})=>e!==t)])}dispatch(e,t,n,i){"string"==typeof e&&this.protectedChannels.indexOf(e)>-1&&i!==s&&a.warn(`WARNING: ${e} is protected and dispatching on it can have unintended consequences`);let r={channel:e,payload:{...t},source:n,patternInfo:[]};try{this._toListeners(r)}catch(e){a.error(e)}}listen(e,t,n="noname"){if("function"!=typeof t)throw new o._({name:r.z2,message:"No callback supplied to Hub"});let i=this.listeners.get(e);return i||(i=[],this.listeners.set(e,i)),i.push({name:n,callback:t}),()=>{this._remove(e,t)}}_toListeners(e){let{channel:t,payload:n}=e,i=this.listeners.get(t);i&&i.forEach(i=>{a.debug(`Dispatching to ${t} with `,n);try{i.callback(e)}catch(e){a.error(e)}})}}let u=new c("__default__"),l=new c("internal-hub")},63446:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var i,r,o=n(41442);(i=r||(r={})).DEBUG="DEBUG",i.ERROR="ERROR",i.INFO="INFO",i.WARN="WARN",i.VERBOSE="VERBOSE",i.NONE="NONE";let s={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class a{constructor(e,t=r.WARN){this.name=e,this.level=t,this._pluggables=[]}_padding(e){return e<10?"0"+e:""+e}_ts(){let e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()}configure(e){return e&&(this._config=e),this._config}_log(e,...t){let n=this.level;a.LOG_LEVEL&&(n=a.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(n=window.LOG_LEVEL);let i=s[n];if(!(s[e]>=i))return;let o=console.log.bind(console);e===r.ERROR&&console.error&&(o=console.error.bind(console)),e===r.WARN&&console.warn&&(o=console.warn.bind(console)),a.BIND_ALL_LOG_LEVELS&&(e===r.INFO&&console.info&&(o=console.info.bind(console)),e===r.DEBUG&&console.debug&&(o=console.debug.bind(console)));let c=`[${e}] ${this._ts()} ${this.name}`,u="";if(1===t.length&&"string"==typeof t[0])o(u=`${c} - ${t[0]}`);else if(1===t.length)u=`${c} ${t[0]}`,o(c,t[0]);else if("string"==typeof t[0]){let e=t.slice(1);1===e.length&&(e=e[0]),u=`${c} - ${t[0]} ${e}`,o(`${c} - ${t[0]}`,e)}else u=`${c} ${t}`,o(c,t);for(let e of this._pluggables){let t={message:u,timestamp:Date.now()};e.pushLogs([t])}}log(...e){this._log(r.INFO,...e)}info(...e){this._log(r.INFO,...e)}warn(...e){this._log(r.WARN,...e)}error(...e){this._log(r.ERROR,...e)}debug(...e){this._log(r.DEBUG,...e)}verbose(...e){this._log(r.VERBOSE,...e)}addPluggable(e){e&&e.getCategoryName()===o.YG&&(this._pluggables.push(e),e.configure(this._config))}listPluggables(){return this._pluggables}}a.LOG_LEVEL=null,a.BIND_ALL_LOG_LEVELS=!1},75570:function(e,t,n){"use strict";let i;n.d(t,{Zm:function(){return C}});var r=n(60443);let o="6.15.9";var s=n(59792);let a=()=>"undefined"!=typeof global,c=()=>"undefined"!=typeof window,u=()=>"undefined"!=typeof document,l=()=>void 0!==s,d=(e,t)=>!!Object.keys(e).find(e=>e.startsWith(t));var h=n(59792),f=n(59792),p=n(59792);let y=[{platform:r.gQ.Expo,detectionMethod:function(){return a()&&void 0!==global.expo}},{platform:r.gQ.ReactNative,detectionMethod:function(){return"undefined"!=typeof navigator&&void 0!==navigator.product&&"ReactNative"===navigator.product}},{platform:r.gQ.NextJs,detectionMethod:function(){return c()&&window.next&&"object"==typeof window.next}},{platform:r.gQ.Nuxt,detectionMethod:function(){return c()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:r.gQ.Angular,detectionMethod:function(){let e=!!(u()&&document.querySelector("[ng-version]")),t=!!(c()&&void 0!==window.ng);return e||t}},{platform:r.gQ.React,detectionMethod:function(){let e=e=>e.startsWith("_react")||e.startsWith("__react");return u()&&Array.from(document.querySelectorAll("[id]")).some(t=>Object.keys(t).find(e))}},{platform:r.gQ.VueJs,detectionMethod:function(){return c()&&d(window,"__VUE")}},{platform:r.gQ.Svelte,detectionMethod:function(){return c()&&d(window,"__SVELTE")}},{platform:r.gQ.WebUnknown,detectionMethod:function(){return c()}},{platform:r.gQ.NextJsSSR,detectionMethod:function(){return a()&&(d(global,"__next")||d(global,"__NEXT"))}},{platform:r.gQ.NuxtSSR,detectionMethod:function(){return a()&&void 0!==global.__NUXT_PATHS__}},{platform:r.gQ.ReactSSR,detectionMethod:function(){return l()&&void 0!==h.env&&!!Object.keys(h.env).find(e=>e.includes("react"))}},{platform:r.gQ.VueJsSSR,detectionMethod:function(){return a()&&d(global,"__VUE")}},{platform:r.gQ.AngularSSR,detectionMethod:function(){return l()&&"object"==typeof p.env&&p.env.npm_lifecycle_script?.startsWith("ng ")||!1}},{platform:r.gQ.SvelteSSR,detectionMethod:function(){return l()&&void 0!==f.env&&!!Object.keys(f.env).find(e=>e.includes("svelte"))}}],m=[],g=!1,E=()=>{if(!i){if(i=y.find(e=>e.detectionMethod())?.platform||r.gQ.ServerSideUnknown,g)for(;m.length;)m.pop()?.();else m.forEach(e=>{e()});b(r.gQ.ServerSideUnknown,10),b(r.gQ.WebUnknown,10)}return i},v=e=>{g||m.push(e)};function b(e,t){i!==e||g||setTimeout(()=>{i=void 0,g=!0,setTimeout(E,1e3)},t)}let S={},I=(e,t)=>S[e]?.[t]?.additionalDetails,T="aws-amplify",w=e=>e.replace(/\+.*/,"");class x{constructor(){this.userAgent=`${T}/${w(o)}`}get framework(){return E()}get isReactNative(){return this.framework===r.gQ.ReactNative||this.framework===r.gQ.Expo}observeFrameworkChanges(e){v(e)}}new x;let A=({category:e,action:t}={})=>{let n=[[T,w(o)]];if(e&&n.push([e,t]),n.push(["framework",E()]),e&&t){let i=I(e,t);i&&i.forEach(e=>{n.push(e)})}return n},C=e=>A(e).map(([e,t])=>e&&t?`${e}/${t}`:e).join(" ")},60443:function(e,t,n){"use strict";var i,r,o,s,a,c,u,l,d,h,f,p,y,m,g,E,v,b,S,I,T,w,x,A,C,_;n.d(t,{WD:function(){return r},g4:function(){return c},gQ:function(){return i},gq:function(){return a}}),(g=i||(i={})).WebUnknown="0",g.React="1",g.NextJs="2",g.Angular="3",g.VueJs="4",g.Nuxt="5",g.Svelte="6",g.ServerSideUnknown="100",g.ReactSSR="101",g.NextJsSSR="102",g.AngularSSR="103",g.VueJsSSR="104",g.NuxtSSR="105",g.SvelteSSR="106",g.ReactNative="201",g.Expo="202",(E=r||(r={})).AI="ai",E.API="api",E.Auth="auth",E.Analytics="analytics",E.DataStore="datastore",E.Geo="geo",E.InAppMessaging="inappmessaging",E.Interactions="interactions",E.Predictions="predictions",E.PubSub="pubsub",E.PushNotification="pushnotification",E.Storage="storage",(v=o||(o={})).CreateConversation="1",v.GetConversation="2",v.ListConversations="3",v.DeleteConversation="4",v.SendMessage="5",v.ListMessages="6",v.OnMessage="7",v.Generation="8",v.UpdateConversation="9",(b=s||(s={})).Record="1",b.IdentifyUser="2",(S=a||(a={})).GraphQl="1",S.Get="2",S.Post="3",S.Put="4",S.Patch="5",S.Del="6",S.Head="7",(I=c||(c={})).SignUp="1",I.ConfirmSignUp="2",I.ResendSignUpCode="3",I.SignIn="4",I.FetchMFAPreference="6",I.UpdateMFAPreference="7",I.SetUpTOTP="10",I.VerifyTOTPSetup="11",I.ConfirmSignIn="12",I.DeleteUserAttributes="15",I.DeleteUser="16",I.UpdateUserAttributes="17",I.FetchUserAttributes="18",I.ConfirmUserAttribute="22",I.SignOut="26",I.UpdatePassword="27",I.ResetPassword="28",I.ConfirmResetPassword="29",I.FederatedSignIn="30",I.RememberDevice="32",I.ForgetDevice="33",I.FetchDevices="34",I.SendUserAttributeVerificationCode="35",I.SignInWithRedirect="36",I.StartWebAuthnRegistration="37",I.CompleteWebAuthnRegistration="38",I.ListWebAuthnCredentials="39",I.DeleteWebAuthnCredential="40",(T=u||(u={})).Subscribe="1",T.GraphQl="2",(w=l||(l={})).SearchByText="0",w.SearchByCoordinates="1",w.SearchForSuggestions="2",w.SearchByPlaceId="3",w.SaveGeofences="4",w.GetGeofence="5",w.ListGeofences="6",w.DeleteGeofences="7",(x=d||(d={})).SyncMessages="1",x.IdentifyUser="2",x.NotifyMessageInteraction="3",(h||(h={})).None="0",(A=f||(f={})).Convert="1",A.Identify="2",A.Interpret="3",(p||(p={})).Subscribe="1",(C=y||(y={})).InitializePushNotifications="1",C.IdentifyUser="2",(_=m||(m={})).UploadData="1",_.DownloadData="2",_.List="3",_.Copy="4",_.Remove="5",_.GetProperties="6",_.GetUrl="7",_.GetDataAccess="8",_.ListCallerAccessGrants="9"},52276:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});let i={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},r={partitions:[i,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},o=e=>{let{partitions:t}=r;for(let{regions:n,outputs:i,regionRegex:r}of t){let t=new RegExp(r);if(n.includes(e)||t.test(e))return i.dnsSuffix}return i.outputs.dnsSuffix}},20382:function(e,t,n){"use strict";n.d(t,{y:function(){return u}});var i=n(13705),r=n(67787);n(74497),n(86688);var o=n(56073),s=n(13968),a=n(42548),c=n(52059);let u=(0,a.V)(c.S,[s.n,()=>e=>async function(t){return t.headers[o.vt]||(t.headers[o.vt]=(0,r.r)()),e(t)},i.d,({maxAttempts:e=o.tZ})=>(t,n)=>async function(i){let r=n.attemptsCount??0;return i.headers[o.zG]=`attempt=${r+1}; max=${e}`,t(i)}])},52059:function(e,t,n){"use strict";n.d(t,{S:function(){return a}});var i=n(62044),r=n(35332);let o=e=>{let t;return()=>(t||(t=e()),t)},s=e=>!["HEAD","GET"].includes(e.toUpperCase()),a=async({url:e,method:t,headers:n,body:a},{abortSignal:c,cache:u,withCrossDomainCredentials:l})=>{let d;try{d=await fetch(e,{method:t,headers:n,body:s(t)?a:void 0,signal:c,cache:u,credentials:l?"include":"same-origin"})}catch(e){if(e instanceof TypeError)throw new i._({name:r.Z.NetworkError,message:"A network error has occurred.",underlyingError:e});throw e}let h={};d.headers?.forEach((e,t)=>{h[t.toLowerCase()]=e});let f={statusCode:d.status,headers:h,body:null},p=Object.assign(d.body??{},{text:o(()=>d.text()),blob:o(()=>d.blob()),json:o(()=>d.json())});return{...f,body:p}}},91296:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});let i=(e,t,n,i)=>async(r,o)=>{let s={...i,...r},a=await s.endpointResolver(s,o),c=await t(o,a);return n(await e(c,{...s}))}},42548:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});let i=(e,t)=>(n,i)=>{let r={},o=t=>e(t,i);for(let e=t.length-1;e>=0;e--)o=(0,t[e])(i)(o,r);return o(n)}},56073:function(e,t,n){"use strict";n.d(t,{tZ:function(){return i},vt:function(){return r},yx:function(){return s},zG:function(){return o}});let i=3,r="amz-sdk-invocation-id",o="amz-sdk-request",s=3e5},71706:function(e,t,n){"use strict";n.d(t,{j:function(){return s}});var i=n(35332);let r=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],o=e=>!!e&&r.includes(e),s=e=>async(t,n)=>{let i=n??await e(t)??void 0,r=i?.code||i?.name,s=t?.statusCode;return{retryable:l(n)||u(s,r)||o(r)||d(s,r)}},a=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],c=["TimeoutError","RequestTimeout","RequestTimeoutException"],u=(e,t)=>429===e||!!t&&a.includes(t),l=e=>[i.Z.NetworkError,"ERR_NETWORK"].includes(e?.name),d=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&c.includes(t)},19154:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var i=n(7926),r=n(56073);let o=e=>{let t=(0,i.k)(r.yx)(e);return!1===t?r.yx:t}},13705:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});var i=n(56073);let r=({maxAttempts:e=i.tZ,retryDecider:t,computeDelay:n,abortSignal:r})=>{if(e<1)throw Error("maxAttempts must be greater than 0");return(i,a)=>async function(c){let u,l;let d=a.attemptsCount??0,h=()=>{if(l)return s(l,d),l;throw s(u,d),u};for(;!r?.aborted&&d<e;){try{l=await i(c),u=void 0}catch(e){u=e,l=void 0}d=(a.attemptsCount??0)>d?a.attemptsCount??0:d+1,a.attemptsCount=d;let{isCredentialsExpiredError:s,retryable:f}=await t(l,u,a);if(!f)return h();if(a.isCredentialsExpired=!!s,!r?.aborted&&d<e){let e=n(d);await o(e,r)}}if(!r?.aborted)return h();throw Error("Request aborted.")}},o=(e,t)=>{let n,i;if(t?.aborted)return Promise.resolve();let r=new Promise(t=>{i=t,n=setTimeout(t,e)});return t?.addEventListener("abort",function e(r){clearTimeout(n),t?.removeEventListener("abort",e),i()}),r},s=(e,t)=>{"[object Object]"===Object.prototype.toString.call(e)&&(e.$metadata={...e.$metadata??{},attempts:t})}},13968:function(e,t,n){"use strict";n.d(t,{n:function(){return i}});let i=({userAgentHeader:e="x-amz-user-agent",userAgentValue:t=""})=>n=>async function(i){if(0===t.trim().length)return await n(i);{let r=e.toLowerCase();return i.headers[r]=i.headers[r]?`${i.headers[r]} ${t}`:t,await n(i)}}},54773:function(e,t,n){"use strict";n.d(t,{e:function(){return o},f:function(){return r}});var i=n(92635);let r=async e=>{if(!e||e.statusCode<300)return;let t=await o(e),n=(e=>{let[t]=e.toString().split(/[,:]+/);return t.includes("#")?t.split("#")[1]:t})(e.headers["x-amzn-errortype"]??t.code??t.__type??"UnknownError");return Object.assign(Error(t.message??t.Message??"Unknown error"),{name:n,$metadata:(0,i.B)(e)})},o=async e=>{if(!e.body)throw Error("Missing response payload");return Object.assign(await e.body.json(),{$metadata:(0,i.B)(e)})}},92635:function(e,t,n){"use strict";n.d(t,{B:function(){return i}});let i=e=>{let{headers:t,statusCode:n}=e;return{...r(e)?e.$metadata:{},httpStatusCode:n,requestId:t["x-amzn-requestid"]??t["x-amzn-request-id"]??t["x-amz-request-id"],extendedRequestId:t["x-amz-id-2"],cfId:t["x-amz-cf-id"]}},r=e=>"object"==typeof e?.$metadata},41442:function(e,t,n){"use strict";n.d(t,{Mt:function(){return r},YG:function(){return i},z2:function(){return o}});let i="Logging",r="x-amz-user-agent",o="NoHubcallbackProvidedException"},62044:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});class i extends Error{constructor({message:e,name:t,recoverySuggestion:n,underlyingError:r,metadata:o}){if(super(e),this.name=t,this.underlyingError=r,this.recoverySuggestion=n,o){let{extendedRequestId:e,httpStatusCode:t,requestId:n}=o;this.metadata={extendedRequestId:e,httpStatusCode:t,requestId:n}}this.constructor=i,Object.setPrototypeOf(this,i.prototype)}}},27267:function(e,t,n){"use strict";n.d(t,{F:function(){return o}});var i=n(35332),r=n(62044);class o extends r._{constructor(){super({name:i.Z.PlatformNotSupported,message:"Function not supported on current platform"})}}},40054:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var i=n(62044);let r=(e,t=i._)=>(n,i,r)=>{let{message:o,recoverySuggestion:s}=e[i];if(!n)throw new t({name:i,message:r?`${o} ${r}`:o,recoverySuggestion:s})}},60214:function(e,t,n){"use strict";n.d(t,{d:function(){return d}});var i=n(10397);let r=e=>{for(let t of Reflect.ownKeys(e)){let n=e[t];(n&&"object"==typeof n||"function"==typeof n)&&r(n)}return Object.freeze(e)},o=Symbol("oauth-listener");var s=n(10746);n(74497),n(86688);let a=new(n(63446)).k("Auth");class c{configure(e,t){this.authConfig=e,this.authOptions=t,e&&e.Cognito?.userPoolEndpoint&&a.warn(u("Amazon Cognito User Pool")),e&&e.Cognito?.identityPoolEndpoint&&a.warn(u("Amazon Cognito Identity Pool"))}async fetchAuthSession(e={}){let t,n;let i=await this.getTokens(e);return i?(n=i.accessToken?.payload?.sub,t=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:i,authenticated:!0,forceRefresh:e.forceRefresh})):t=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:e.forceRefresh}),{tokens:i,credentials:t?.credentials,identityId:t?.identityId,userSub:n}}async clearCredentials(){await this.authOptions?.credentialsProvider?.clearCredentialsAndIdentityId()}async getTokens(e){return await this.authOptions?.tokenProvider?.getTokens(e)??void 0}}let u=e=>`You are using a custom Amazon ${e} endpoint, ensure the endpoint is correct.`;class l{constructor(){this.oAuthListener=void 0,this.isConfigured=!1,this.resourcesConfig={},this.libraryOptions={},this.Auth=new c}configure(e,t){let n=(0,s.h)(e);this.resourcesConfig=n,t&&(this.libraryOptions=t),this.resourcesConfig=r(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),i.Xb.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",i.SQ),this.notifyOAuthListener(),this.isConfigured=!0}getConfig(){return this.isConfigured||console.warn("Amplify has not been configured. Please call Amplify.configure() before using this service."),this.resourcesConfig}[o](e){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth?e(this.resourcesConfig.Auth?.Cognito):this.oAuthListener=e}notifyOAuthListener(){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth&&this.oAuthListener&&(this.oAuthListener(this.resourcesConfig.Auth?.Cognito),this.oAuthListener=void 0)}}let d=new l},71634:function(e,t,n){"use strict";n.d(t,{YE:function(){return d},V0:function(){return l},FG:function(){return u},xp:function(){return h}});var i,r,o=n(19889),s=n(40054);(i=r||(r={})).AuthTokenConfigException="AuthTokenConfigException",i.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",i.AuthUserPoolException="AuthUserPoolException",i.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",i.OAuthNotConfigureException="OAuthNotConfigureException";let a={[r.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[r.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[r.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[r.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[r.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},c=(0,s.$)(a);function u(e){c(!!e&&!!e.userPoolId&&!!e.userPoolClientId,r.AuthUserPoolException)}function l(e){c(!!e?.loginWith?.oauth?.domain&&!!e?.loginWith?.oauth?.redirectSignOut&&!!e?.loginWith?.oauth?.redirectSignIn&&!!e?.loginWith?.oauth?.responseType,r.OAuthNotConfigureException)}function d(e){c(!!e?.identityPoolId,r.InvalidIdentityPoolIdException)}function h(e){let t=e.split(".");if(3!==t.length)throw Error("Invalid token");try{let n=t[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(o.$.convert(n).split("").map(e=>`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),r=JSON.parse(i);return{toString:()=>e,payload:r}}catch(e){throw Error("Invalid token payload")}}},59490:function(e,t,n){"use strict";n.d(t,{y:function(){return o}});var i=n(60214);let r=(e,t)=>e.Auth.fetchAuthSession(t),o=e=>r(i.d,e)},38144:function(e,t,n){"use strict";n.d(t,{w:function(){return i}});class i{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,t){this.storage.set(e,t)}getItem(e){return this.storage.get(e)??null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}}},28944:function(e,t,n){"use strict";n.d(t,{T:function(){return r}});var i=n(27267);class r{constructor(e){this.storage=e}async setItem(e,t){if(!this.storage)throw new i.F;this.storage.setItem(e,t)}async getItem(e){if(!this.storage)throw new i.F;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new i.F;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new i.F;this.storage.clear()}}},71171:function(e,t,n){"use strict";n.d(t,{Fm:function(){return d},$2:function(){return h}});var i=n(28944),r=n(67227);class o extends i.T{constructor(){super((0,r.K)())}}var s=n(38144);class a extends i.T{constructor(){super((0,r.l)())}}var c=n(27267);class u{constructor(e){this._storage=e}get storage(){if(!this._storage)throw new c.F;return this._storage}setItem(e,t){this.storage.setItem(e,t)}getItem(e){return this.storage.getItem(e)}removeItem(e){this.storage.removeItem(e)}clear(){this.storage.clear()}}class l extends u{constructor(){super((0,r.l)())}}let d=new o;new a;let h=new l;new i.T(new s.w)},67227:function(e,t,n){"use strict";n.d(t,{K:function(){return s},l:function(){return a}});var i=n(63446),r=n(38144);let o=new i.k("CoreStorageUtils"),s=()=>{try{if("undefined"!=typeof window&&window.localStorage)return window.localStorage}catch(e){o.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new r.w},a=()=>{try{if("undefined"!=typeof window&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw Error("sessionStorage is not defined")}catch(e){return o.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new r.w}}},35332:function(e,t,n){"use strict";var i,r;n.d(t,{Z:function(){return i}}),(r=i||(i={})).NoEndpointId="NoEndpointId",r.PlatformNotSupported="PlatformNotSupported",r.Unknown="Unknown",r.NetworkError="NetworkError"},91453:function(e,t,n){"use strict";n.d(t,{a:function(){return i},z:function(){return r}});let i=URL,r=URLSearchParams},67787:function(e,t,n){"use strict";let i;n.d(t,{r:function(){return a}});var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o=new Uint8Array(16),s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));let a=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();let a=(e=e||{}).random??e.rng?.()??function(){if(!i){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");i=crypto.getRandomValues.bind(crypto)}return i(o)}();if(a.length<16)throw Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){if((n=n||0)<0||n+16>t.length)throw RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=a[e];return t}return function(e,t=0){return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}(a)}},19889:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var i=n(16214);let r={convert(e,t){let n=e;return t?.urlSafe&&(n=n.replace(/-/g,"+").replace(/_/g,"/")),(0,i.tl)()(n)}}},86530:function(e,t,n){"use strict";n.d(t,{u:function(){return r}});var i=n(16214);let r={convert(e,t={urlSafe:!1,skipPadding:!1}){let n="string"==typeof e?e:Array.from(e,e=>String.fromCodePoint(e)).join(""),r=(0,i.Ds)()(n);return t.urlSafe&&(r=r.replace(/\+/g,"-").replace(/\//g,"_")),t.skipPadding&&(r=r.replace(/=/g,"")),r}}},16214:function(e,t,n){"use strict";n.d(t,{Ds:function(){return o},MX:function(){return r},tl:function(){return s}});var i=n(62044);let r=()=>{if("object"==typeof window&&"object"==typeof window.crypto)return window.crypto;if("object"==typeof crypto)return crypto;throw new i._({name:"MissingPolyfill",message:"Cannot resolve the `crypto` function from the environment."})},o=()=>{if("undefined"!=typeof window&&"function"==typeof window.btoa)return window.btoa;if("function"==typeof btoa)return btoa;throw new i._({name:"Base64EncoderError",message:"Cannot resolve the `btoa` function from the environment."})},s=()=>{if("undefined"!=typeof window&&"function"==typeof window.atob)return window.atob;if("function"==typeof atob)return atob;throw new i._({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})}},86226:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});let i=()=>"undefined"!=typeof window&&void 0!==window.document},10746:function(e,t,n){"use strict";n.d(t,{h:function(){return f}});var i=n(63446),r=n(62044);let o=new i.k("parseAWSExports"),s={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},a=(e={})=>{if(!Object.prototype.hasOwnProperty.call(e,"aws_project_region"))throw new r._({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});let{aws_appsync_apiKey:t,aws_appsync_authenticationType:n,aws_appsync_graphqlEndpoint:i,aws_appsync_region:a,aws_bots_config:c,aws_cognito_identity_pool_id:d,aws_cognito_sign_up_verification_method:h,aws_cognito_mfa_configuration:f,aws_cognito_mfa_types:p,aws_cognito_password_protection_settings:y,aws_cognito_verification_mechanisms:m,aws_cognito_signup_attributes:g,aws_cognito_social_providers:E,aws_cognito_username_attributes:v,aws_mandatory_sign_in:b,aws_mobile_analytics_app_id:S,aws_mobile_analytics_app_region:I,aws_user_files_s3_bucket:T,aws_user_files_s3_bucket_region:w,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:x,aws_user_pools_id:A,aws_user_pools_web_client_id:C,geo:_,oauth:N,predictions:R,aws_cloud_logic_custom:O,Notifications:P,modelIntrospection:k}=e,D={};S&&(D.Analytics={Pinpoint:{appId:S,region:I}});let{InAppMessaging:M,Push:U}=P??{};if(M?.AWSPinpoint||U?.AWSPinpoint){if(M?.AWSPinpoint){let{appId:e,region:t}=M.AWSPinpoint;D.Notifications={InAppMessaging:{Pinpoint:{appId:e,region:t}}}}if(U?.AWSPinpoint){let{appId:e,region:t}=U.AWSPinpoint;D.Notifications={...D.Notifications,PushNotification:{Pinpoint:{appId:e,region:t}}}}}if(Array.isArray(c)&&(D.Interactions={LexV1:Object.fromEntries(c.map(e=>[e.name,e]))}),i){let e=s[n];e||o.debug(`Invalid authentication type ${n}. Falling back to IAM.`),D.API={GraphQL:{endpoint:i,apiKey:t,region:a,defaultAuthMode:e??"iam"}},k&&(D.API.GraphQL.modelIntrospection=k)}let F=f?{status:f&&f.toLowerCase(),totpEnabled:p?.includes("TOTP")??!1,smsEnabled:p?.includes("SMS")??!1}:void 0,L=y?{minLength:y.passwordPolicyMinLength,requireLowercase:y.passwordPolicyCharacters?.includes("REQUIRES_LOWERCASE")??!1,requireUppercase:y.passwordPolicyCharacters?.includes("REQUIRES_UPPERCASE")??!1,requireNumbers:y.passwordPolicyCharacters?.includes("REQUIRES_NUMBERS")??!1,requireSpecialCharacters:y.passwordPolicyCharacters?.includes("REQUIRES_SYMBOLS")??!1}:void 0,B=Array.from(new Set([...m??[],...g??[]])).reduce((e,t)=>({...e,[t.toLowerCase()]:{required:!0}}),{}),q=v?.includes("EMAIL")??!1,$=v?.includes("PHONE_NUMBER")??!1;(d||A)&&(D.Auth={Cognito:{identityPoolId:d,allowGuestAccess:"enable"!==b,signUpVerificationMethod:h,userAttributes:B,userPoolClientId:C,userPoolId:A,mfa:F,passwordFormat:L,loginWith:{username:!(q||$),email:q,phone:$}}});let K=!!N&&Object.keys(N).length>0,V=!!E&&E.length>0;if(D.Auth&&K&&(D.Auth.Cognito.loginWith={...D.Auth.Cognito.loginWith,oauth:{...u(N),...V&&{providers:l(E)}}}),T&&(D.Storage={S3:{bucket:T,region:w,dangerouslyConnectToHttpEndpointForTesting:x}}),_){let{amazon_location_service:e}=_;D.Geo={LocationService:{maps:e.maps,geofenceCollections:e.geofenceCollections,searchIndices:e.search_indices,region:e.region}}}if(O&&(D.API={...D.API,REST:O.reduce((e,t)=>{let{name:n,endpoint:i,region:r,service:o}=t;return{...e,[n]:{endpoint:i,...o?{service:o}:void 0,...r?{region:r}:void 0}}},{})}),R){let{VoiceId:e}=R?.convert?.speechGenerator?.defaults??{};D.Predictions=e?{...R,convert:{...R.convert,speechGenerator:{...R.convert.speechGenerator,defaults:{voiceId:e}}}}:R}return D},c=e=>e?.split(",")??[],u=({domain:e,scope:t,redirectSignIn:n,redirectSignOut:i,responseType:r})=>({domain:e,scopes:t,redirectSignIn:c(n),redirectSignOut:c(i),responseType:r}),l=e=>e.map(e=>{let t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}),d={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"},h={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"},f=e=>Object.keys(e).some(e=>e.startsWith("aws_"))?a(e):!function(e){let{version:t}=e;return!!t&&t.startsWith("1")}(e)?e:function(e){let t={};if(e.storage&&(t.Storage=function(e){if(!e)return;let{bucket_name:t,aws_region:n,buckets:i}=e;return{S3:{bucket:t,region:n,buckets:i&&function(e){let t={};return e.forEach(({name:e,bucket_name:n,aws_region:i,paths:r})=>{if(e in t)throw Error(`Duplicate friendly name found: ${e}. Name must be unique.`);let o=r?Object.entries(r).reduce((e,[t,n])=>(void 0!==n&&(e[t]=n),e),{}):void 0;t[e]={bucketName:n,region:i,paths:o}}),t}(i)}}}(e.storage)),e.auth&&(t.Auth=function(e){if(!e)return;let{user_pool_id:t,user_pool_client_id:n,identity_pool_id:i,password_policy:r,mfa_configuration:o,mfa_methods:s,unauthenticated_identities_enabled:a,oauth:c,username_attributes:u,standard_required_attributes:l,groups:d}=e,f={Cognito:{userPoolId:t,userPoolClientId:n,groups:d}};return i&&(f.Cognito={...f.Cognito,identityPoolId:i}),r&&(f.Cognito.passwordFormat={requireLowercase:r.require_lowercase,requireNumbers:r.require_numbers,requireUppercase:r.require_uppercase,requireSpecialCharacters:r.require_symbols,minLength:r.min_length??6}),o&&(f.Cognito.mfa={status:"OPTIONAL"===o?"optional":"REQUIRED"===o?"on":"off",smsEnabled:s?.includes("SMS"),totpEnabled:s?.includes("TOTP")}),a&&(f.Cognito.allowGuestAccess=a),c&&(f.Cognito.loginWith={oauth:{domain:c.domain,redirectSignIn:c.redirect_sign_in_uri,redirectSignOut:c.redirect_sign_out_uri,responseType:"token"===c.response_type?"token":"code",scopes:c.scopes,providers:function(e=[]){return e.reduce((e,t)=>(void 0!==h[t]&&e.push(h[t]),e),[])}(c.identity_providers)}}),u&&(f.Cognito.loginWith={...f.Cognito.loginWith,email:u.includes("email"),phone:u.includes("phone_number"),username:u.includes("username")}),l&&(f.Cognito.userAttributes=l.reduce((e,t)=>({...e,[t]:{required:!0}}),{})),f}(e.auth)),e.analytics&&(t.Analytics=function(e){if(!e?.amazon_pinpoint)return;let{amazon_pinpoint:t}=e;return{Pinpoint:{appId:t.app_id,region:t.aws_region}}}(e.analytics)),e.geo&&(t.Geo=function(e){if(!e)return;let{aws_region:t,geofence_collections:n,maps:i,search_indices:r}=e;return{LocationService:{region:t,searchIndices:r,geofenceCollections:n,maps:i}}}(e.geo)),e.data&&(t.API=function(e){if(!e)return;let{aws_region:t,default_authorization_type:n,url:i,api_key:r,model_introspection:o}=e;return{GraphQL:{endpoint:i,defaultAuthMode:d[n],region:t,apiKey:r,modelIntrospection:o}}}(e.data)),e.custom){let n=function(e){if(!e?.events)return;let{url:t,aws_region:n,api_key:i,default_authorization_type:r}=e.events;return{Events:{endpoint:t,defaultAuthMode:d[r],region:n,apiKey:i}}}(e.custom);n&&"Events"in n&&(t.API={...t.API,...n})}return e.notifications&&(t.Notifications=function(e){if(!e)return;let{aws_region:t,channels:n,amazon_pinpoint_app_id:i}=e,r=n.includes("IN_APP_MESSAGING"),o=n.includes("APNS")||n.includes("FCM");if(!(r||o))return;let s={};return r&&(s.InAppMessaging={Pinpoint:{appId:i,region:t}}),o&&(s.PushNotification={Pinpoint:{appId:i,region:t}}),s}(e.notifications)),t}(e)},71941:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});let i=3e5},7926:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});var i=n(71941);function r(e=i.t){return t=>{let n=2**t*100+100*Math.random();return!(n>e)&&n}}},22353:function(e,t,n){"use strict";n.d(t,{N3:function(){return u},Xj:function(){return l}});var i=n(58078),r=n(40457),o=n(39966);let s=i.createContext(null);function a(e){let{children:t}=e,n=(0,i.useContext)(s),[r,o]=(0,i.useState)(0),a=(0,i.useMemo)(()=>({parent:n,modalCount:r,addModal(){o(e=>e+1),n&&n.addModal()},removeModal(){o(e=>e-1),n&&n.removeModal()}}),[n,r]);return i.createElement(s.Provider,{value:a},t)}function c(e){let t;let{modalProviderProps:n}={modalProviderProps:{"aria-hidden":!!(t=(0,i.useContext)(s))&&t.modalCount>0||void 0}};return i.createElement("div",{"data-overlay-container":!0,...e,...n})}function u(e){return i.createElement(a,null,i.createElement(c,e))}function l(e){let t=(0,o.Av)(),{portalContainer:n=t?null:document.body,...s}=e;if(i.useEffect(()=>{if(null==n?void 0:n.closest("[data-overlay-container]"))throw Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")},[n]),!n)return null;let a=i.createElement(u,s);return r.createPortal(a,n)}},41807:function(e,t,n){"use strict";n.d(t,{j:function(){return o}});var i=n(11586),r=n(76328),o=new class extends i.l{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!r.sk&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#e?this.#e:globalThis.document?.visibilityState!=="hidden"}}},32476:function(e,t,n){"use strict";n.d(t,{Gm:function(){return r},Qy:function(){return a},ZF:function(){return c}});var i=n(76328);function r(e){return{onFetch:(t,n)=>{let r=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,c=t.state.data?.pages||[],u=t.state.data?.pageParams||[],l={pages:[],pageParams:[]},d=0,h=async()=>{let n=!1,h=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",()=>{n=!0}),t.signal)})},f=(0,i.cG)(t.options,t.fetchOptions),p=async(e,r,o)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);let s=(()=>{let e={client:t.client,queryKey:t.queryKey,pageParam:r,direction:o?"backward":"forward",meta:t.options.meta};return h(e),e})(),a=await f(s),{maxPages:c}=t.options,u=o?i.Ht:i.VX;return{pages:u(e.pages,a,c),pageParams:u(e.pageParams,r,c)}};if(a&&c.length){let e="backward"===a,t={pages:c,pageParams:u},n=(e?s:o)(r,t);l=await p(t,n,e)}else{let t=e??c.length;do{let e=0===d?u[0]??r.initialPageParam:o(r,l);if(d>0&&null==e)break;l=await p(l,e),d++}while(d<t)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=h}}}function o(e,{pages:t,pageParams:n}){let i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function s(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}function a(e,t){return!!t&&null!=o(e,t)}function c(e,t){return!!t&&!!e.getPreviousPageParam&&null!=s(e,t)}},47759:function(e,t,n){"use strict";n.d(t,{Vr:function(){return r}});var i=n(90441).Hp,r=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},o=i,s=i=>{t?e.push(i):o(()=>{n(i)})},a=()=>{let t=e;e=[],t.length&&o(()=>{r(()=>{t.forEach(e=>{n(e)})})})};return{batch:e=>{let n;t++;try{n=e()}finally{--t||a()}return n},batchCalls:e=>(...t)=>{s(()=>{e(...t)})},schedule:s,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{o=e}}}()},69436:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var i=n(11586),r=n(76328),o=new class extends i.l{#i=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!r.sk&&window.addEventListener){let t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#i!==e&&(this.#i=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#i}}},71211:function(e,t,n){"use strict";n.d(t,{A:function(){return a},z:function(){return c}});var i=n(76328),r=n(47759),o=n(28518),s=n(95061),a=class extends s.F{#r;#o;#s;#a;#c;#u;#l;constructor(e){super(),this.#l=!1,this.#u=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#s=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#r=l(this.options),this.state=e.state??this.#r,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#c?.promise}setOptions(e){if(this.options={...this.#u,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){let e=l(this.options);void 0!==e.data&&(this.setState(u(e.data,e.dataUpdatedAt)),this.#r=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#s.remove(this)}setData(e,t){let n=(0,i.oE)(this.state.data,e,this.options);return this.#d({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#d({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#c?.promise;return this.#c?.cancel(e),t?t.then(i.ZT).catch(i.ZT):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#r)}isActive(){return this.observers.some(e=>!1!==(0,i.Nc)(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===i.CN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===(0,i.KC)(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!(0,i.Kp)(this.state.dataUpdatedAt,e))}onFocus(){let e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#c?.continue()}onOnline(){let e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#c?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#c&&(this.#l?this.#c.cancel({revert:!0}):this.#c.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#d({type:"invalidate"})}async fetch(e,t){if("idle"!==this.state.fetchStatus&&this.#c?.status()!=="rejected"){if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#c)return this.#c.continueRetry(),this.#c.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let n=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#l=!0,n.signal)})},s=()=>{let e=(0,i.cG)(this.options,t),n=(()=>{let e={client:this.#a,queryKey:this.queryKey,meta:this.meta};return r(e),e})();return(this.#l=!1,this.options.persister)?this.options.persister(e,n,this):e(n)},a=(()=>{let e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:s};return r(e),e})();this.options.behavior?.onFetch(a,this),this.#o=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#d({type:"fetch",meta:a.fetchOptions?.meta}),this.#c=(0,o.Mz)({initialPromise:t?.initialPromise,fn:a.fetchFn,onCancel:e=>{e instanceof o.p8&&e.revert&&this.setState({...this.#o,fetchStatus:"idle"}),n.abort()},onFail:(e,t)=>{this.#d({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#d({type:"pause"})},onContinue:()=>{this.#d({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{let e=await this.#c.start();if(void 0===e)throw Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#s.config.onSuccess?.(e,this),this.#s.config.onSettled?.(e,this.state.error,this),e}catch(e){if(e instanceof o.p8){if(e.silent)return this.#c.promise;if(e.revert){if(void 0===this.state.data)throw e;return this.state.data}}throw this.#d({type:"error",error:e}),this.#s.config.onError?.(e,this),this.#s.config.onSettled?.(this.state.data,e,this),e}finally{this.scheduleGc()}}#d(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...c(t.data,this.options),fetchMeta:e.meta??null};case"success":let n={...t,...u(e.data,e.dataUpdatedAt),dataUpdateCount:t.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#o=e.manual?n:void 0,n;case"error":let i=e.error;return{...t,error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),r.Vr.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function c(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,o.Kw)(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}function u(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function l(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,i=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}},1106:function(e,t,n){"use strict";n.d(t,{S:function(){return m}});var i=n(76328),r=n(71211),o=n(47759),s=n(11586),a=class extends s.l{constructor(e={}){super(),this.config=e,this.#h=new Map}#h;build(e,t,n){let o=t.queryKey,s=t.queryHash??(0,i.Rm)(o,t),a=this.get(s);return a||(a=new r.A({client:e,queryKey:o,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(o)}),this.add(a)),a}add(e){this.#h.has(e.queryHash)||(this.#h.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#h.get(e.queryHash);t&&(e.destroy(),t===e&&this.#h.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){o.Vr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#h.get(e)}getAll(){return[...this.#h.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,i._x)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,i._x)(e,t)):t}notify(e){o.Vr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){o.Vr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){o.Vr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},c=n(95061),u=n(28518),l=class extends c.F{#a;#f;#p;#c;constructor(e){super(),this.#a=e.client,this.mutationId=e.mutationId,this.#p=e.mutationCache,this.#f=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#f.includes(e)||(this.#f.push(e),this.clearGcTimeout(),this.#p.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#f=this.#f.filter(t=>t!==e),this.scheduleGc(),this.#p.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#f.length||("pending"===this.state.status?this.scheduleGc():this.#p.remove(this))}continue(){return this.#c?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#d({type:"continue"})},n={client:this.#a,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#c=(0,u.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#d({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#d({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#p.canRun(this)});let i="pending"===this.state.status,r=!this.#c.canStart();try{if(i)t();else{this.#d({type:"pending",variables:e,isPaused:r}),await this.#p.config.onMutate?.(e,this,n);let t=await this.options.onMutate?.(e,n);t!==this.state.context&&this.#d({type:"pending",context:t,variables:e,isPaused:r})}let o=await this.#c.start();return await this.#p.config.onSuccess?.(o,e,this.state.context,this,n),await this.options.onSuccess?.(o,e,this.state.context,n),await this.#p.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,e,this.state.context,n),this.#d({type:"success",data:o}),o}catch(t){try{throw await this.#p.config.onError?.(t,e,this.state.context,this,n),await this.options.onError?.(t,e,this.state.context,n),await this.#p.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,t,e,this.state.context,n),t}finally{this.#d({type:"error",error:t})}}finally{this.#p.runNext(this)}}#d(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),o.Vr.batch(()=>{this.#f.forEach(t=>{t.onMutationUpdate(e)}),this.#p.notify({mutation:this,type:"updated",action:e})})}},d=class extends s.l{constructor(e={}){super(),this.config=e,this.#y=new Set,this.#m=new Map,this.#g=0}#y;#m;#g;build(e,t,n){let i=new l({client:e,mutationCache:this,mutationId:++this.#g,options:e.defaultMutationOptions(t),state:n});return this.add(i),i}add(e){this.#y.add(e);let t=h(e);if("string"==typeof t){let n=this.#m.get(t);n?n.push(e):this.#m.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#y.delete(e)){let t=h(e);if("string"==typeof t){let n=this.#m.get(t);if(n){if(n.length>1){let t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&this.#m.delete(t)}}}this.notify({type:"removed",mutation:e})}canRun(e){let t=h(e);if("string"!=typeof t)return!0;{let n=this.#m.get(t),i=n?.find(e=>"pending"===e.state.status);return!i||i===e}}runNext(e){let t=h(e);if("string"!=typeof t)return Promise.resolve();{let n=this.#m.get(t)?.find(t=>t!==e&&t.state.isPaused);return n?.continue()??Promise.resolve()}}clear(){o.Vr.batch(()=>{this.#y.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#y.clear(),this.#m.clear()})}getAll(){return Array.from(this.#y)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,i.X7)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,i.X7)(e,t))}notify(e){o.Vr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return o.Vr.batch(()=>Promise.all(e.map(e=>e.continue().catch(i.ZT))))}};function h(e){return e.options.scope?.id}var f=n(41807),p=n(69436),y=n(32476),m=class{#E;#p;#u;#v;#b;#S;#I;#T;constructor(e={}){this.#E=e.queryCache||new a,this.#p=e.mutationCache||new d,this.#u=e.defaultOptions||{},this.#v=new Map,this.#b=new Map,this.#S=0}mount(){this.#S++,1===this.#S&&(this.#I=f.j.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#E.onFocus())}),this.#T=p.N.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#E.onOnline())}))}unmount(){this.#S--,0===this.#S&&(this.#I?.(),this.#I=void 0,this.#T?.(),this.#T=void 0)}isFetching(e){return this.#E.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#p.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#E.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),n=this.#E.build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime((0,i.KC)(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#E.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,n){let r=this.defaultQueryOptions({queryKey:e}),o=this.#E.get(r.queryHash),s=o?.state.data,a=(0,i.SE)(t,s);if(void 0!==a)return this.#E.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return o.Vr.batch(()=>this.#E.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,n)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#E.get(t.queryHash)?.state}removeQueries(e){let t=this.#E;o.Vr.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let n=this.#E;return o.Vr.batch(()=>(n.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let n={revert:!0,...t};return Promise.all(o.Vr.batch(()=>this.#E.findAll(e).map(e=>e.cancel(n)))).then(i.ZT).catch(i.ZT)}invalidateQueries(e,t={}){return o.Vr.batch(()=>(this.#E.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let n={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(o.Vr.batch(()=>this.#E.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(i.ZT)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(i.ZT)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let n=this.#E.build(this,t);return n.isStaleByTime((0,i.KC)(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(i.ZT).catch(i.ZT)}fetchInfiniteQuery(e){return e.behavior=(0,y.Gm)(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(i.ZT).catch(i.ZT)}ensureInfiniteQueryData(e){return e.behavior=(0,y.Gm)(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return p.N.isOnline()?this.#p.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#E}getMutationCache(){return this.#p}getDefaultOptions(){return this.#u}setDefaultOptions(e){this.#u=e}setQueryDefaults(e,t){this.#v.set((0,i.Ym)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#v.values()],n={};return t.forEach(t=>{(0,i.to)(e,t.queryKey)&&Object.assign(n,t.defaultOptions)}),n}setMutationDefaults(e,t){this.#b.set((0,i.Ym)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#b.values()],n={};return t.forEach(t=>{(0,i.to)(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#u.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,i.Rm)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===i.CN&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#u.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#E.clear(),this.#p.clear()}}},95061:function(e,t,n){"use strict";n.d(t,{F:function(){return o}});var i=n(90441),r=n(76328),o=class{#w;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,r.PN)(this.gcTime)&&(this.#w=i.mr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(r.sk?1/0:3e5))}clearGcTimeout(){this.#w&&(i.mr.clearTimeout(this.#w),this.#w=void 0)}}},28518:function(e,t,n){"use strict";n.d(t,{Kw:function(){return c},Mz:function(){return l},p8:function(){return u}});var i=n(41807),r=n(69436),o=n(50898),s=n(76328);function a(e){return Math.min(1e3*2**e,3e4)}function c(e){return(e??"online")!=="online"||r.N.isOnline()}var u=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function l(e){let t,n=!1,l=0,d=(0,o.O)(),h=()=>"pending"!==d.status,f=()=>i.j.isFocused()&&("always"===e.networkMode||r.N.isOnline())&&e.canRun(),p=()=>c(e.networkMode)&&e.canRun(),y=e=>{h()||(t?.(),d.resolve(e))},m=e=>{h()||(t?.(),d.reject(e))},g=()=>new Promise(n=>{t=e=>{(h()||f())&&n(e)},e.onPause?.()}).then(()=>{t=void 0,h()||e.onContinue?.()}),E=()=>{let t;if(h())return;let i=0===l?e.initialPromise:void 0;try{t=i??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(y).catch(t=>{if(h())return;let i=e.retry??(s.sk?0:3),r=e.retryDelay??a,o="function"==typeof r?r(l,t):r,c=!0===i||"number"==typeof i&&l<i||"function"==typeof i&&i(l,t);if(n||!c){m(t);return}l++,e.onFail?.(l,t),(0,s._v)(o).then(()=>f()?void 0:g()).then(()=>{n?m(t):E()})})};return{promise:d,status:()=>d.status,cancel:t=>{if(!h()){let n=new u(t);m(n),e.onCancel?.(n)}},continue:()=>(t?.(),d),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:p,start:()=>(p()?E():g().then(E),d)}}},11586:function(e,t,n){"use strict";n.d(t,{l:function(){return i}});var i=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},50898:function(e,t,n){"use strict";function i(){let e,t;let n=new Promise((n,i)=>{e=n,t=i});function i(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch(()=>{}),n.resolve=t=>{i({status:"fulfilled",value:t}),e(t)},n.reject=e=>{i({status:"rejected",reason:e}),t(e)},n}n.d(t,{O:function(){return i}})},90441:function(e,t,n){"use strict";n.d(t,{Hp:function(){return o},mr:function(){return r}});var i={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},r=new class{#x=i;#A=!1;setTimeoutProvider(e){this.#x=e}setTimeout(e,t){return this.#x.setTimeout(e,t)}clearTimeout(e){this.#x.clearTimeout(e)}setInterval(e,t){return this.#x.setInterval(e,t)}clearInterval(e){this.#x.clearInterval(e)}};function o(e){setTimeout(e,0)}},76328:function(e,t,n){"use strict";n.d(t,{CN:function(){return x},Ht:function(){return w},KC:function(){return u},Kp:function(){return c},L3:function(){return C},Nc:function(){return l},PN:function(){return a},Rm:function(){return f},SE:function(){return s},VS:function(){return g},VX:function(){return T},X7:function(){return h},Ym:function(){return p},ZT:function(){return o},_v:function(){return S},_x:function(){return d},cG:function(){return A},oE:function(){return I},sk:function(){return r},to:function(){return y}});var i=n(90441),r="undefined"==typeof window||"Deno"in globalThis;function o(){}function s(e,t){return"function"==typeof e?e(t):e}function a(e){return"number"==typeof e&&e>=0&&e!==1/0}function c(e,t){return Math.max(e+(t||0)-Date.now(),0)}function u(e,t){return"function"==typeof e?e(t):e}function l(e,t){return"function"==typeof e?e(t):e}function d(e,t){let{type:n="all",exact:i,fetchStatus:r,predicate:o,queryKey:s,stale:a}=e;if(s){if(i){if(t.queryHash!==f(s,t.options))return!1}else if(!y(t.queryKey,s))return!1}if("all"!==n){let e=t.isActive();if("active"===n&&!e||"inactive"===n&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&(!r||r===t.state.fetchStatus)&&(!o||!!o(t))}function h(e,t){let{exact:n,status:i,predicate:r,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(p(t.options.mutationKey)!==p(o))return!1}else if(!y(t.options.mutationKey,o))return!1}return(!i||t.state.status===i)&&(!r||!!r(t))}function f(e,t){return(t?.queryKeyHashFn||p)(e)}function p(e){return JSON.stringify(e,(e,t)=>v(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function y(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).every(n=>y(e[n],t[n]))}var m=Object.prototype.hasOwnProperty;function g(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(e[n]!==t[n])return!1;return!0}function E(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function v(e){if(!b(e))return!1;let t=e.constructor;if(void 0===t)return!0;let n=t.prototype;return!!(b(n)&&n.hasOwnProperty("isPrototypeOf"))&&Object.getPrototypeOf(e)===Object.prototype}function b(e){return"[object Object]"===Object.prototype.toString.call(e)}function S(e){return new Promise(t=>{i.mr.setTimeout(t,e)})}function I(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?function e(t,n){if(t===n)return t;let i=E(t)&&E(n);if(!i&&!(v(t)&&v(n)))return n;let r=(i?t:Object.keys(t)).length,o=i?n:Object.keys(n),s=o.length,a=i?Array(s):{},c=0;for(let u=0;u<s;u++){let s=i?u:o[u],l=t[s],d=n[s];if(l===d){a[s]=l,(i?u<r:m.call(t,s))&&c++;continue}if(null===l||null===d||"object"!=typeof l||"object"!=typeof d){a[s]=d;continue}let h=e(l,d);a[s]=h,h===l&&c++}return r===s&&c===r?t:a}(e,t):t}function T(e,t,n=0){let i=[...e,t];return n&&i.length>n?i.slice(1):i}function w(e,t,n=0){let i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var x=Symbol();function A(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==x?e.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${e.queryHash}'`))}function C(e,t){return"function"==typeof e?e(...t):!!e}},89188:function(e,t,n){"use strict";n.d(t,{NL:function(){return s},aH:function(){return a}});var i=n(58078),r=n(37821),o=i.createContext(void 0),s=e=>{let t=i.useContext(o);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},a=({client:e,children:t})=>(i.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,r.jsx)(o.Provider,{value:e,children:t}))},5973:function(e,t,n){"use strict";/*! js-cookie v3.0.5 | MIT */function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}n.d(t,{V:function(){return Q}});var r=function e(t,n){function r(e,r,o){if("undefined"!=typeof document){"number"==typeof(o=i({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in o)o[a]&&(s+="; "+a,!0!==o[a]&&(s+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+s}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],i={},r=0;r<n.length;r++){var o=n[r].split("="),s=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(i[a]=t.read(s,a),e===a)break}catch(e){}}return e?i[e]:i}},remove:function(e,t){r(e,"",i({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,i({},this.attributes,t))},withConverter:function(t){return e(i({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class o{constructor(e={}){let{path:t,domain:n,expires:i,sameSite:r,secure:o}=e;if(this.domain=n,this.path=t||"/",this.expires=Object.prototype.hasOwnProperty.call(e,"expires")?i:365,this.secure=!Object.prototype.hasOwnProperty.call(e,"secure")||o,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!r||!["strict","lax","none"].includes(r))throw Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===r&&!this.secure)throw Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=r}}async setItem(e,t){r.set(e,t,this.getData())}async getItem(e){return r.get(e)??null}async removeItem(e){r.remove(e,this.getData())}async clear(){let e=Object.keys(r.get()).map(e=>this.removeItem(e));await Promise.all(e)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}var s=n(71171),a=n(60214),c=n(10746),u=n(63446);n(74497),n(86688);var l=n(75570),d=n(92635),h=n(54773),f=n(91296),p=n(19154),y=n(71706);let m="cognito-identity",g={service:m,retryDecider:(0,y.j)(h.f),computeDelay:p.k,cache:"no-store"};var E=n(20382);let v=(0,n(42548).V)(E.y,[()=>e=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),b=e=>(t,n)=>I(n,S(e),JSON.stringify(t)),S=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}),I=({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"}),T=e=>(0,f.z)(v,b("GetCredentialsForIdentity"),w,{...g,...e,userAgentValue:(0,l.Zm)()}),w=async e=>{if(e.statusCode>=300)throw await (0,h.f)(e);let t=await (0,h.e)(e);return{IdentityId:t.IdentityId,Credentials:x(t.Credentials),$metadata:(0,d.B)(e)}},x=({Expiration:e,...t}={})=>({...t,Expiration:e&&new Date(1e3*e)});var A=n(71634),C=n(89560),_=n(49793),N=n(35314),R=n(29093),O=n(52276),P=n(91453);let k=({region:e})=>({url:new P.a(`https://${m}.${e}.${(0,O.b)(e)}`)}),D=({endpointOverride:e})=>t=>e?{url:new P.a(e)}:k(t),M=e=>(0,f.z)(v,b("GetId"),U,{...g,...e,userAgentValue:(0,l.Zm)()}),U=async e=>{if(e.statusCode>=300)throw await (0,h.f)(e);return{IdentityId:(await (0,h.e)(e)).IdentityId,$metadata:(0,d.B)(e)}};function F(e){let t=(0,A.xp)(e).payload.iss,n={};if(!t)throw new C.l({name:"InvalidIdTokenException",message:"Invalid Idtoken."});return n[t.replace(/(^\w+:|^)\/\//,"")]=e,n}async function L({tokens:e,authConfig:t,identityIdStore:n}){n.setAuthConfig({Cognito:t});let i=await n.loadIdentityId();if(i)return i.id;let r=e?.idToken?F(e.idToken.toString()):{},o=await B(r,t);return n.storeIdentityId({id:o,type:e?"primary":"guest"}),o}async function B(e,t){let n;let i=t?.identityPoolId,r=(0,N.N)(i),o=M({endpointResolver:D({endpointOverride:t.identityPoolEndpoint})});try{n=(await o({region:r},{IdentityPoolId:i,Logins:e})).IdentityId}catch(e){throw(0,_.R)(e),new C.l(e)}if(!n)throw new C.l({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return n}let q=new u.k("CognitoCredentialsProvider");class ${constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}async clearCredentialsAndIdentityId(){q.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){q.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){let t=e.authenticated,{tokens:n}=e,{authConfig:i}=e;try{(0,A.YE)(i?.Cognito)}catch{return}if(!t&&!i.Cognito.allowGuestAccess)return;let{forceRefresh:r}=e,o=this.hasTokenChanged(n),s=await L({tokens:n,authConfig:i.Cognito,identityIdStore:this._identityIdStore});return((r||o)&&this.clearCredentials(),t)?((0,R.Cg)(n),this.credsForOIDCTokens(i.Cognito,n,s)):this.getGuestCredentials(s,i.Cognito)}async getGuestCredentials(e,t){let n;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!1===this._credentialsAndIdentityId.isAuthenticatedCreds)return q.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let i=(0,N.N)(t.identityPoolId),r=T({endpointResolver:D({endpointOverride:t.identityPoolEndpoint})});try{n=await r({region:i},{IdentityId:e})}catch(e){throw(0,_.R)(e),new C.l(e)}if(n?.Credentials?.AccessKeyId&&n?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+3e6;let t={credentials:{accessKeyId:n.Credentials.AccessKeyId,secretAccessKey:n.Credentials.SecretKey,sessionToken:n.Credentials.SessionToken,expiration:n.Credentials.Expiration},identityId:e};return n.IdentityId&&(t.identityId=n.IdentityId,this._identityIdStore.storeIdentityId({id:n.IdentityId,type:"guest"})),this._credentialsAndIdentityId={...t,isAuthenticatedCreds:!1},t}throw new C.l({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(e,t,n){let i;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!0===this._credentialsAndIdentityId.isAuthenticatedCreds)return q.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let r=t.idToken?F(t.idToken.toString()):{},o=(0,N.N)(e.identityPoolId),s=T({endpointResolver:D({endpointOverride:e.identityPoolEndpoint})});try{i=await s({region:o},{IdentityId:n,Logins:r})}catch(e){throw(0,_.R)(e),new C.l(e)}if(i?.Credentials?.AccessKeyId&&i?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+3e6;let e={credentials:{accessKeyId:i.Credentials.AccessKeyId,secretAccessKey:i.Credentials.SecretKey,sessionToken:i.Credentials.SessionToken,expiration:i.Credentials.Expiration},identityId:n};return i.IdentityId&&(e.identityId=i.IdentityId,this._identityIdStore.storeIdentityId({id:i.IdentityId,type:"primary"})),this._credentialsAndIdentityId={...e,isAuthenticatedCreds:!0,associatedIdToken:t.idToken?.toString()},e}throw new C.l({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return void 0===this._nextCredentialsRefresh||this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){return!!e&&!!this._credentialsAndIdentityId?.associatedIdToken&&e.idToken?.toString()!==this._credentialsAndIdentityId.associatedIdToken}}var K=n(1182);let V={identityId:"identityId"},j=new u.k("DefaultIdentityIdStore");class G{setAuthConfig(e){(0,A.YE)(e.Cognito),this.authConfig=e,this._authKeys=z("Cognito",e.Cognito.identityPoolId)}constructor(e){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=e}async loadIdentityId(){(0,A.YE)(this.authConfig?.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{let e=await this.keyValueStorage.getItem(this._authKeys.identityId);if(e)return this._hasGuestIdentityId=!0,{id:e,type:"guest"};return null}}catch(e){return j.log("Error getting stored IdentityId.",e),null}}async storeIdentityId(e){(0,A.YE)(this.authConfig?.Cognito),"guest"===e.type?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=e.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}let z=(e,t)=>(0,K._X)(V)(`com.amplify.${e}`,t),W=new $(new G(s.Fm));var H=n(24764);let Q={configure(e,t){let n=(0,c.h)(e),i=new o({sameSite:"lax"}),r=t?.ssr?i:s.Fm,u=t?.ssr?new $(new G(i)):W;if(!n.Auth||t?.Auth){a.d.configure(n,t);return}if(!a.d.libraryOptions.Auth){H.D.setAuthConfig(n.Auth),H.D.setKeyValueStorage(r),a.d.configure(n,{...t,Auth:{tokenProvider:H.D,credentialsProvider:u}});return}if(t){let e=a.d.libraryOptions.Auth;void 0!==t.ssr&&(H.D.setKeyValueStorage(r),e.credentialsProvider=u),a.d.configure(n,{Auth:e,...t});return}a.d.configure(n)},getConfig:()=>a.d.getConfig()}},3413:function(e,t,n){"use strict";n.d(t,{c:function(){return i}});let i={}},26540:function(e,t,n){"use strict";n.r(t),n.d(t,{Bounce:function(){return L},Flip:function(){return $},Icons:function(){return D},Slide:function(){return B},ToastContainer:function(){return V},Zoom:function(){return q},collapseToast:function(){return h},cssTransition:function(){return f},toast:function(){return O}});var i=n(58078),r=n(97683);!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var o=e=>"number"==typeof e&&!isNaN(e),s=e=>"string"==typeof e,a=e=>"function"==typeof e,c=e=>s(e)||o(e),u=e=>s(e)||a(e)?e:null,l=(e,t)=>!1===e||o(e)&&e>0?e:t,d=e=>(0,i.isValidElement)(e)||s(e)||a(e)||o(e);function h(e,t,n=300){let{scrollHeight:i,style:r}=e;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,n)})})}function f({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:o=300}){return function({children:s,position:a,preventExitTransition:c,done:u,nodeRef:l,isIn:d,playToast:f}){let p=n?`${e}--${a}`:e,y=n?`${t}--${a}`:t,m=(0,i.useRef)(0);return(0,i.useLayoutEffect)(()=>{let e=l.current,t=p.split(" "),n=i=>{i.target===l.current&&(f(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==i.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,i.useEffect)(()=>{let e=l.current,t=()=>{e.removeEventListener("animationend",t),r?h(e,u,o):u()};d||(c?t():(m.current=1,e.className+=` ${y}`,e.addEventListener("animationend",t)))},[d]),i.createElement(i.Fragment,null,s)}}function p(e,t){return{content:y(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function y(e,t,n=!1){return(0,i.isValidElement)(e)&&!s(e.type)?(0,i.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):a(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function m({delay:e,isRunning:t,closeToast:n,type:o="default",hide:s,className:c,controlledProgress:u,progress:l,rtl:d,isIn:h,theme:f}){let p=s||u&&0===l,y={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};u&&(y.transform=`scaleX(${l})`);let m=(0,r.Z)("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":d}),g=a(c)?c({rtl:d,type:o,defaultClassName:m}):(0,r.Z)(m,c);return i.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},i.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${o}`}),i.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:g,style:y,[u&&l>=1?"onTransitionEnd":"onAnimationEnd"]:u&&l<1?null:()=>{h&&n()}}))}var g=1,E=()=>`${g++}`,v=new Map,b=[],S=new Set,I=e=>S.forEach(t=>t(e)),T=()=>v.size>0,w=(e,{containerId:t})=>{var n;return null==(n=v.get(t||1))?void 0:n.toasts.get(e)};function x(e,t){var n;if(t)return!!(null!=(n=v.get(t))&&n.isToastActive(e));let i=!1;return v.forEach(t=>{t.isToastActive(e)&&(i=!0)}),i}function A(e,t){d(e)&&(T()||b.push({content:e,options:t}),v.forEach(n=>{n.buildToast(e,t)}))}function C(e,t){v.forEach(n=>{null!=t&&null!=t&&t.containerId&&(null==t?void 0:t.containerId)!==n.id||n.toggle(e,null==t?void 0:t.id)})}function _(e,t){return A(e,t),t.toastId}function N(e,t){return{...t,type:t&&t.type||e,toastId:t&&(s(t.toastId)||o(t.toastId))?t.toastId:E()}}function R(e){return(t,n)=>_(t,N(e,n))}function O(e,t){return _(e,N("default",t))}O.loading=(e,t)=>_(e,N("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),O.promise=function(e,{pending:t,error:n,success:i},r){let o;t&&(o=s(t)?O.loading(t,r):O.loading(t.render,{...r,...t}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(e,t,n)=>{if(null==t){O.dismiss(o);return}let i={type:e,...c,...r,data:n},a=s(t)?{render:t}:t;return o?O.update(o,{...i,...a}):O(a.render,{...i,...a}),n},l=a(e)?e():e;return l.then(e=>u("success",i,e)).catch(e=>u("error",n,e)),l},O.success=R("success"),O.info=R("info"),O.error=R("error"),O.warning=R("warning"),O.warn=O.warning,O.dark=(e,t)=>_(e,N("default",{theme:"dark",...t})),O.dismiss=function(e){!function(e){if(!T()){b=b.filter(t=>null!=e&&t.options.toastId!==e);return}if(null==e||c(e))v.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=v.get(e.containerId);t?t.removeToast(e.id):v.forEach(t=>{t.removeToast(e.id)})}}(e)},O.clearWaitingQueue=(e={})=>{v.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},O.isActive=x,O.update=(e,t={})=>{let n=w(e,t);if(n){let{props:i,content:r}=n,o={delay:100,...i,...t,toastId:t.toastId||e,updateId:E()};o.toastId!==e&&(o.staleId=e);let s=o.render||r;delete o.render,_(s,o)}},O.done=e=>{O.update(e,{progress:1})},O.onChange=function(e){return S.add(e),()=>{S.delete(e)}},O.play=e=>C(!0,e),O.pause=e=>C(!1,e);var P="undefined"!=typeof window?i.useLayoutEffect:i.useEffect,k=({theme:e,type:t,isLoading:n,...r})=>i.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===e?"currentColor":`var(--toastify-icon-color-${t})`,...r}),D={info:function(e){return i.createElement(k,{...e},i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return i.createElement(k,{...e},i.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return i.createElement(k,{...e},i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return i.createElement(k,{...e},i.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return i.createElement("div",{className:"Toastify__spinner"})}},M=e=>e in D,U=e=>{let{isRunning:t,preventExitTransition:n,toastRef:o,eventHandlers:s,playToast:c}=function(e){var t,n;let[r,o]=(0,i.useState)(!1),[s,a]=(0,i.useState)(!1),c=(0,i.useRef)(null),u=(0,i.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:d,closeToast:h,onClick:f,closeOnClick:p}=e;function y(){o(!0)}function m(){o(!1)}function g(t){let n=c.current;if(u.canDrag&&n){u.didMove=!0,r&&m(),"x"===e.draggableDirection?u.delta=t.clientX-u.start:u.delta=t.clientY-u.start,u.start!==t.clientX&&(u.canCloseOnClick=!1);let i="x"===e.draggableDirection?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;n.style.transform=`translate3d(${i},0)`,n.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function E(){document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",E);let t=c.current;if(u.canDrag&&u.didMove&&t){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){a(!0),e.closeToast(!0),e.collapseAll();return}t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}t={id:e.toastId,containerId:e.containerId,fn:o},null==(n=v.get(t.containerId||1))||n.setToggle(t.id,t.fn),(0,i.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||m(),window.addEventListener("focus",y),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",y),window.removeEventListener("blur",m)}},[e.pauseOnFocusLoss]);let b={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){u.didMove=!1,document.addEventListener("pointermove",g),document.addEventListener("pointerup",E);let n=c.current;u.canCloseOnClick=!0,u.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(u.start=t.clientX,u.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(u.start=t.clientY,u.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:i,left:r,right:o}=c.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=r&&t.clientX<=o&&t.clientY>=n&&t.clientY<=i?m():y()}};return l&&d&&(b.onMouseEnter=m,e.stacked||(b.onMouseLeave=y)),p&&(b.onClick=e=>{f&&f(e),u.canCloseOnClick&&h(!0)}),{playToast:y,pauseToast:m,isRunning:r,preventExitTransition:s,toastRef:c,eventHandlers:b}}(e),{closeButton:u,children:l,autoClose:d,onClick:h,type:f,hideProgressBar:p,closeToast:g,transition:E,position:b,className:S,style:I,progressClassName:T,updateId:w,role:x,progress:A,rtl:C,toastId:_,deleteToast:N,isIn:R,isLoading:O,closeOnClick:P,theme:k,ariaLabel:U}=e,F=(0,r.Z)("Toastify__toast",`Toastify__toast-theme--${k}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":P}),L=a(S)?S({rtl:C,position:b,type:f,defaultClassName:F}):(0,r.Z)(F,S),B=function({theme:e,type:t,isLoading:n,icon:r}){let o=null,s={theme:e,type:t};return!1===r||(a(r)?o=r({...s,isLoading:n}):(0,i.isValidElement)(r)?o=(0,i.cloneElement)(r,s):n?o=D.spinner():M(t)&&(o=D[t](s))),o}(e),q=!!A||!d,$={closeToast:g,type:f,theme:k},K=null;return!1===u||(K=a(u)?u($):(0,i.isValidElement)(u)?(0,i.cloneElement)(u,$):function({closeToast:e,theme:t,ariaLabel:n="close"}){return i.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:t=>{t.stopPropagation(),e(!0)},"aria-label":n},i.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},i.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}($)),i.createElement(E,{isIn:R,done:N,position:b,preventExitTransition:n,nodeRef:o,playToast:c},i.createElement("div",{id:_,tabIndex:0,onClick:h,"data-in":R,className:L,...s,style:I,ref:o,...R&&{role:x,"aria-label":U}},null!=B&&i.createElement("div",{className:(0,r.Z)("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},B),y(l,e,!t),K,!e.customProgressBar&&i.createElement(m,{...w&&!q?{key:`p-${w}`}:{},rtl:C,theme:k,delay:d,isRunning:t,isIn:R,closeToast:g,hide:p,type:f,className:T,controlledProgress:q,progress:A||0})))},F=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),L=f(F("bounce",!0)),B=f(F("slide",!0)),q=f(F("zoom")),$=f(F("flip")),K={position:"top-right",transition:L,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code};function V(e){let t={...K,...e},n=e.stacked,[s,c]=(0,i.useState)(!0),h=(0,i.useRef)(null),{getToastToRender:f,isToastActive:y,count:m}=function(e){var t;let n;let{subscribe:r,getSnapshot:s,setProps:a}=(0,i.useRef)((n=e.containerId||1,{subscribe(t){let i,r,s,a,c,h,f,y,m,g,E,S;let T=(i=1,r=0,s=[],a=[],c=e,h=new Map,f=new Set,y=()=>{a=Array.from(h.values()),f.forEach(e=>e())},m=({containerId:e,toastId:t,updateId:i})=>{let r=h.has(t)&&null==i;return(e?e!==n:1!==n)||r},g=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},E=e=>{if(null==e)h.forEach(g);else{let t=h.get(e);t&&g(t)}y()},S=e=>{var t,n;let{toastId:i,updateId:r}=e.props,o=null==r;e.staleId&&h.delete(e.staleId),e.isActive=!0,h.set(i,e),y(),I(p(e,o?"added":"updated")),o&&(null==(n=(t=e.props).onOpen)||n.call(t))},{id:n,props:c,observe:e=>(f.add(e),()=>f.delete(e)),toggle:(e,t)=>{h.forEach(n=>{var i;(null==t||t===n.props.toastId)&&(null==(i=n.toggle)||i.call(n,e))})},removeToast:E,toasts:h,clearQueue:()=>{r-=s.length,s=[]},buildToast:(e,t)=>{if(m(t))return;let{toastId:n,updateId:a,data:f,staleId:g,delay:v}=t,b=null==a;b&&r++;let T={...c,style:c.toastStyle,key:i++,...Object.fromEntries(Object.entries(t).filter(([e,t])=>null!=t)),toastId:n,updateId:a,data:f,isIn:!1,className:u(t.className||c.toastClassName),progressClassName:u(t.progressClassName||c.progressClassName),autoClose:!t.isLoading&&l(t.autoClose,c.autoClose),closeToast(e){h.get(n).removalReason=e,E(n)},deleteToast(){let e=h.get(n);if(null!=e){if(I(p(e,"removed")),h.delete(n),--r<0&&(r=0),s.length>0){S(s.shift());return}y()}}};T.closeButton=c.closeButton,!1===t.closeButton||d(t.closeButton)?T.closeButton=t.closeButton:!0===t.closeButton&&(T.closeButton=!d(c.closeButton)||c.closeButton);let w={content:e,props:T,staleId:g};c.limit&&c.limit>0&&r>c.limit&&b?s.push(w):o(v)?setTimeout(()=>{S(w)},v):S(w)},setProps(e){c=e},setToggle:(e,t)=>{let n=h.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=h.get(e))?void 0:t.isActive},getSnapshot:()=>a});v.set(n,T);let w=T.observe(t);return b.forEach(e=>A(e.content,e.options)),b=[],()=>{w(),v.delete(n)}},setProps(e){var t;null==(t=v.get(n))||t.setProps(e)},getSnapshot(){var e;return null==(e=v.get(n))?void 0:e.getSnapshot()}})).current;a(e);let c=null==(t=(0,i.useSyncExternalStore)(r,s,s))?void 0:t.slice();return{getToastToRender:function(t){if(!c)return[];let n=new Map;return e.newestOnTop&&c.reverse(),c.forEach(e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},isToastActive:x,count:null==c?void 0:c.length}}(t),{className:g,style:E,rtl:S,containerId:T,hotKeys:w}=t;function C(){n&&(c(!0),O.play())}return P(()=>{var e;if(n){let n=h.current.querySelectorAll('[data-in="true"]'),i=null==(e=t.position)?void 0:e.includes("top"),r=0,o=0;Array.from(n).reverse().forEach((e,t)=>{e.classList.add("Toastify__toast--stacked"),t>0&&(e.dataset.collapsed=`${s}`),e.dataset.pos||(e.dataset.pos=i?"top":"bot");let n=r*(s?.2:1)+(s?0:12*t);e.style.setProperty("--y",`${i?n:-1*n}px`),e.style.setProperty("--g","12"),e.style.setProperty("--s",`${1-(s?o:0)}`),r+=e.offsetHeight,o+=.025})}},[s,m,n]),(0,i.useEffect)(()=>{function e(e){var t;let n=h.current;w(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),c(!1),O.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(c(!0),O.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[w]),i.createElement("section",{ref:h,className:"Toastify",id:T,onMouseEnter:()=>{n&&(c(!1),O.pause())},onMouseLeave:C,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},f((e,t)=>{let o,s=t.length?{...E}:{...E,pointerEvents:"none"};return i.createElement("div",{tabIndex:-1,className:(o=(0,r.Z)("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":S}),a(g)?g({position:e,rtl:S,defaultClassName:o}):(0,r.Z)(o,u(g))),"data-stacked":n,style:s,key:`c-${e}`},t.map(({content:e,props:t})=>i.createElement(U,{...t,stacked:n,collapseAll:C,isIn:y(t.toastId,t.containerId),key:`t-${t.key}`},e)))}))}},30973:function(e,t,n){"use strict";n.d(t,{CR:function(){return c},FC:function(){return d},Jh:function(){return s},KL:function(){return h},XA:function(){return a},ZT:function(){return r},ev:function(){return u},mG:function(){return o},qq:function(){return l}});var i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function o(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((i=i.apply(e,t||[])).next())})}function s(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function u(e,t,n){if(n||2==arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function l(e){return this instanceof l?(this.v=e,this):new l(e)}function d(e,t,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),i[Symbol.asyncIterator]=function(){return this},i;function s(e,t){r[e]&&(i[e]=function(t){return new Promise(function(n,i){o.push([e,t,n,i])>1||a(e,t)})},t&&(i[e]=t(i[e])))}function a(e,t){try{var n;(n=r[e](t)).value instanceof l?Promise.resolve(n.value.v).then(c,u):d(o[0][2],n)}catch(e){d(o[0][3],e)}}function c(e){a("next",e)}function u(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function h(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=a(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise(function(i,r){!function(e,t,n,i){Promise.resolve(i).then(function(t){e({value:t,done:n})},t)}(i,r,(t=e[n](t)).done,t.value)})}}}"function"==typeof SuppressedError&&SuppressedError},79861:function(e,t,n){"use strict";n.d(t,{U:function(){return c}});var i=n(58078);let r=e=>{let t;let n=new Set,i=(e,i)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=i?i:"object"!=typeof r||null===r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,o={setState:i,getState:r,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e))},s=t=e(i,r,o);return o},o=e=>e?r(e):r,s=e=>e,a=e=>{let t=o(e),n=e=>(function(e,t=s){let n=i.useSyncExternalStore(e.subscribe,i.useCallback(()=>t(e.getState()),[e,t]),i.useCallback(()=>t(e.getInitialState()),[e,t]));return i.useDebugValue(n),n})(t,e);return Object.assign(n,t),n},c=e=>e?a(e):a}}]);